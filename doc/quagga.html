<html lang="en">
<head>
<title>Untitled</title>
<meta http-equiv="Content-Type" content="text/html">
<meta name="description" content="Untitled">
<meta name="generator" content="makeinfo 4.13">
<link title="Top" rel="top" href="#Top">
<link href="http://www.gnu.org/software/texinfo/" rel="generator-home" title="Texinfo Homepage">
<!--
Copyright (C) 1999-2005 Kunihiro Ishiguro, et al.

     Permission is granted to make and distribute verbatim copies of
     this manual provided the copyright notice and this permission
     notice are preserved on all copies.

     Permission is granted to copy and distribute modified versions of
     this manual under the conditions for verbatim copying, provided
     that the entire resulting derived work is distributed under the
     terms of a permission notice identical to this one.

     Permission is granted to copy and distribute translations of this
     manual into another language, under the above conditions for
     modified versions, except that this permission notice may be
     stated in a translation approved by Kunihiro Ishiguro.
   -->
<meta http-equiv="Content-Style-Type" content="text/css">
<style type="text/css"><!--
  pre.display { font-family:inherit }
  pre.format  { font-family:inherit }
  pre.smalldisplay { font-family:inherit; font-size:smaller }
  pre.smallformat  { font-family:inherit; font-size:smaller }
  pre.smallexample { font-size:smaller }
  pre.smalllisp    { font-size:smaller }
  span.sc    { font-variant:small-caps }
  span.roman { font-family:serif; font-weight:normal; } 
  span.sansserif { font-family:sans-serif; font-weight:normal; } 
--></style>
</head>
<body>
<div class="node">
<a name="Top"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#dir">(dir)</a>

</div>

<h2 class="unnumbered">Quagga</h2>

<p><a href="http://www.quagga.net">Quagga</a> is an advanced routing software package
that provides a suite of TCP/IP based routing protocols.  This is the Manual
for Quagga 0.99.22. <a href="http://www.quagga.net">Quagga</a> is a fork of
<a href="http://www.zebra.org">GNU Zebra</a>.

   <p>Copyright &copy; 1999-2005 Kunihiro Ishiguro, et al. 
<blockquote>

   <p>Permission is granted to make and distribute verbatim copies of this
manual provided the copyright notice and this permission notice are
preserved on all copies.

   <p>Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
entire resulting derived work is distributed under the terms of a
permission notice identical to this one.

   <p>Permission is granted to copy and distribute translations of this manual
into another language, under the above conditions for modified versions,
except that this permission notice may be stated in a translation
approved by Kunihiro Ishiguro. 
</blockquote>

<ul class="menu">
<li><a accesskey="1" href="#Overview">Overview</a>
<li><a accesskey="2" href="#Installation">Installation</a>
<li><a accesskey="3" href="#Basic-commands">Basic commands</a>
<li><a accesskey="4" href="#Zebra">Zebra</a>
<li><a accesskey="5" href="#RIP">RIP</a>
<li><a accesskey="6" href="#RIPng">RIPng</a>
<li><a accesskey="7" href="#OSPFv2">OSPFv2</a>
<li><a accesskey="8" href="#OSPFv3">OSPFv3</a>
<li><a accesskey="9" href="#Babel">Babel</a>
<li><a href="#BGP">BGP</a>
<li><a href="#Configuring-Quagga-as-a-Route-Server">Configuring Quagga as a Route Server</a>
<li><a href="#VTY-shell">VTY shell</a>
<li><a href="#Filtering">Filtering</a>
<li><a href="#Route-Map">Route Map</a>
<li><a href="#IPv6-Support">IPv6 Support</a>
<li><a href="#Kernel-Interface">Kernel Interface</a>
<li><a href="#SNMP-Support">SNMP Support</a>
<li><a href="#Zebra-Protocol">Zebra Protocol</a>
<li><a href="#Packet-Binary-Dump-Format">Packet Binary Dump Format</a>
<li><a href="#Command-Index">Command Index</a>
<li><a href="#VTY-Key-Index">VTY Key Index</a>
<li><a href="#Index">Index</a>
</ul>
   <div class="contents">
<h2>Table of Contents</h2>
<ul>
<li><a name="toc_Top" href="#Top">Quagga</a>
<li><a name="toc_Overview" href="#Overview">1 Overview</a>
<ul>
<li><a href="#About-Quagga">1.1 About Quagga</a>
<li><a href="#System-Architecture">1.2 System Architecture</a>
<li><a href="#Supported-Platforms">1.3 Supported Platforms</a>
<li><a href="#Supported-RFCs">1.4 Supported RFCs</a>
<li><a href="#How-to-get-Quagga">1.5 How to get Quagga</a>
<li><a href="#Mailing-List">1.6 Mailing List</a>
<li><a href="#Bug-Reports">1.7 Bug Reports</a>
</li></ul>
<li><a name="toc_Installation" href="#Installation">2 Installation</a>
<ul>
<li><a href="#Configure-the-Software">2.1 Configure the Software</a>
<ul>
<li><a href="#The-Configure-script-and-its-options">2.1.1 The Configure script and its options</a>
<li><a href="#Least_002dPrivilege-support">2.1.2 Least-Privilege support</a>
<li><a href="#Linux-notes">2.1.3 Linux Notes</a>
</li></ul>
<li><a href="#Build-the-Software">2.2 Build the Software</a>
<li><a href="#Install-the-Software">2.3 Install the Software</a>
</li></ul>
<li><a name="toc_Basic-commands" href="#Basic-commands">3 Basic commands</a>
<ul>
<li><a href="#Config-Commands">3.1 Config Commands</a>
<ul>
<li><a href="#Basic-Config-Commands">3.1.1 Basic Config Commands</a>
<li><a href="#Sample-Config-File">3.1.2 Sample Config File</a>
</li></ul>
<li><a href="#Terminal-Mode-Commands">3.2 Terminal Mode Commands</a>
<li><a href="#Common-Invocation-Options">3.3 Common Invocation Options</a>
<li><a href="#Virtual-Terminal-Interfaces">3.4 Virtual Terminal Interfaces</a>
<ul>
<li><a href="#VTY-Overview">3.4.1 VTY Overview</a>
<li><a href="#VTY-Modes">3.4.2 VTY Modes</a>
<ul>
<li><a href="#VTY-View-Mode">3.4.2.1 VTY View Mode</a>
<li><a href="#VTY-Enable-Mode">3.4.2.2 VTY Enable Mode</a>
<li><a href="#VTY-Other-Modes">3.4.2.3 VTY Other Modes</a>
</li></ul>
<li><a href="#VTY-CLI-Commands">3.4.3 VTY CLI Commands</a>
<ul>
<li><a href="#CLI-Movement-Commands">3.4.3.1 CLI Movement Commands</a>
<li><a href="#CLI-Editing-Commands">3.4.3.2 CLI Editing Commands</a>
<li><a href="#CLI-Advanced-Commands">3.4.3.3 CLI Advanced Commands</a>
</li></ul>
</li></ul>
</li></ul>
<li><a name="toc_Zebra" href="#Zebra">4 Zebra</a>
<ul>
<li><a href="#Invoking-zebra">4.1 Invoking zebra</a>
<li><a href="#Interface-Commands">4.2 Interface Commands</a>
<li><a href="#Static-Route-Commands">4.3 Static Route Commands</a>
<li><a href="#zebra-Route-Filtering">4.4 zebra Route Filtering</a>
<li><a href="#zebra-FIB-push-interface">4.5 zebra FIB push interface</a>
<li><a href="#zebra-Terminal-Mode-Commands">4.6 zebra Terminal Mode Commands</a>
</li></ul>
<li><a name="toc_RIP" href="#RIP">5 RIP</a>
<ul>
<li><a href="#Starting-and-Stopping-ripd">5.1 Starting and Stopping ripd</a>
<ul>
<li><a href="#RIP-netmask">5.1.1 RIP netmask</a>
</li></ul>
<li><a href="#RIP-Configuration">5.2 RIP Configuration</a>
<li><a href="#RIP-Version-Control">5.3 RIP Version Control</a>
<li><a href="#How-to-Announce-RIP-route">5.4 How to Announce RIP route</a>
<li><a href="#Filtering-RIP-Routes">5.5 Filtering RIP Routes</a>
<li><a href="#RIP-Metric-Manipulation">5.6 RIP Metric Manipulation</a>
<li><a href="#RIP-distance">5.7 RIP distance</a>
<li><a href="#RIP-route_002dmap">5.8 RIP route-map</a>
<li><a href="#RIP-Authentication">5.9 RIP Authentication</a>
<li><a href="#RIP-Timers">5.10 RIP Timers</a>
<li><a href="#Show-RIP-Information">5.11 Show RIP Information</a>
<li><a href="#RIP-Debug-Commands">5.12 RIP Debug Commands</a>
</li></ul>
<li><a name="toc_RIPng" href="#RIPng">6 RIPng</a>
<ul>
<li><a href="#Invoking-ripngd">6.1 Invoking ripngd</a>
<li><a href="#ripngd-Configuration">6.2 ripngd Configuration</a>
<li><a href="#ripngd-Terminal-Mode-Commands">6.3 ripngd Terminal Mode Commands</a>
<li><a href="#ripngd-Filtering-Commands">6.4 ripngd Filtering Commands</a>
</li></ul>
<li><a name="toc_OSPFv2" href="#OSPFv2">7 OSPFv2</a>
<ul>
<li><a href="#Configuring-ospfd">7.1 Configuring ospfd</a>
<li><a href="#OSPF-router">7.2 OSPF router</a>
<li><a href="#OSPF-area">7.3 OSPF area</a>
<li><a href="#OSPF-interface">7.4 OSPF interface</a>
<li><a href="#Redistribute-routes-to-OSPF">7.5 Redistribute routes to OSPF</a>
<li><a href="#Showing-OSPF-information">7.6 Showing OSPF information</a>
<li><a href="#Debugging-OSPF">7.7 Debugging OSPF</a>
<li><a href="#OSPF-Configuration-Examples">7.8 OSPF Configuration Examples</a>
</li></ul>
<li><a name="toc_OSPFv3" href="#OSPFv3">8 OSPFv3</a>
<ul>
<li><a href="#OSPF6-router">8.1 OSPF6 router</a>
<li><a href="#OSPF6-area">8.2 OSPF6 area</a>
<li><a href="#OSPF6-interface">8.3 OSPF6 interface</a>
<li><a href="#Redistribute-routes-to-OSPF6">8.4 Redistribute routes to OSPF6</a>
<li><a href="#Showing-OSPF6-information">8.5 Showing OSPF6 information</a>
<li><a href="#OSPF6-Configuration-Examples">8.6 OSPF6 Configuration Examples</a>
</li></ul>
<li><a name="toc_Babel" href="#Babel">9 Babel</a>
<ul>
<li><a href="#Configuring-babeld">9.1 Configuring babeld</a>
<li><a href="#Babel-configuration">9.2 Babel configuration</a>
<li><a href="#Babel-redistribution">9.3 Babel redistribution</a>
<li><a href="#Show-Babel-information">9.4 Show Babel information</a>
<li><a href="#Babel-debugging-commands">9.5 Babel debugging commands</a>
</li></ul>
<li><a name="toc_BGP" href="#BGP">10 BGP</a>
<ul>
<li><a href="#Starting-BGP">10.1 Starting BGP</a>
<li><a href="#BGP-router">10.2 BGP router</a>
<ul>
<li><a href="#BGP-distance">10.2.1 BGP distance</a>
<li><a href="#BGP-decision-process">10.2.2 BGP decision process</a>
<li><a href="#BGP-route-flap-dampening">10.2.3 BGP route flap dampening</a>
</li></ul>
<li><a href="#BGP-network">10.3 BGP network</a>
<ul>
<li><a href="#BGP-route">10.3.1 BGP route</a>
<li><a href="#Route-Aggregation">10.3.2 Route Aggregation</a>
<li><a href="#Redistribute-to-BGP">10.3.3 Redistribute to BGP</a>
</li></ul>
<li><a href="#BGP-Peer">10.4 BGP Peer</a>
<ul>
<li><a href="#Defining-Peer">10.4.1 Defining Peer</a>
<li><a href="#BGP-Peer-commands">10.4.2 BGP Peer commands</a>
<li><a href="#Peer-filtering">10.4.3 Peer filtering</a>
</li></ul>
<li><a href="#BGP-Peer-Group">10.5 BGP Peer Group</a>
<li><a href="#BGP-Address-Family">10.6 BGP Address Family</a>
<li><a href="#Autonomous-System">10.7 Autonomous System</a>
<ul>
<li><a href="#AS-Path-Regular-Expression">10.7.1 AS Path Regular Expression</a>
<li><a href="#Display-BGP-Routes-by-AS-Path">10.7.2 Display BGP Routes by AS Path</a>
<li><a href="#AS-Path-Access-List">10.7.3 AS Path Access List</a>
<li><a href="#Using-AS-Path-in-Route-Map">10.7.4 Using AS Path in Route Map</a>
<li><a href="#Private-AS-Numbers">10.7.5 Private AS Numbers</a>
</li></ul>
<li><a href="#BGP-Communities-Attribute">10.8 BGP Communities Attribute</a>
<ul>
<li><a href="#BGP-Community-Lists">10.8.1 BGP Community Lists</a>
<li><a href="#Numbered-BGP-Community-Lists">10.8.2 Numbered BGP Community Lists</a>
<li><a href="#BGP-Community-in-Route-Map">10.8.3 BGP Community in Route Map</a>
<li><a href="#Display-BGP-Routes-by-Community">10.8.4 Display BGP Routes by Community</a>
<li><a href="#Using-BGP-Communities-Attribute">10.8.5 Using BGP Communities Attribute</a>
</li></ul>
<li><a href="#BGP-Extended-Communities-Attribute">10.9 BGP Extended Communities Attribute</a>
<ul>
<li><a href="#BGP-Extended-Community-Lists">10.9.1 BGP Extended Community Lists</a>
<li><a href="#BGP-Extended-Communities-in-Route-Map">10.9.2 BGP Extended Communities in Route Map</a>
</li></ul>
<li><a href="#Displaying-BGP-routes">10.10 Displaying BGP Routes</a>
<ul>
<li><a href="#Show-IP-BGP">10.10.1 Show IP BGP</a>
<li><a href="#More-Show-IP-BGP">10.10.2 More Show IP BGP</a>
</li></ul>
<li><a href="#Capability-Negotiation">10.11 Capability Negotiation</a>
<li><a href="#Route-Reflector">10.12 Route Reflector</a>
<li><a href="#Route-Server">10.13 Route Server</a>
<ul>
<li><a href="#Multiple-instance">10.13.1 Multiple instance</a>
<li><a href="#BGP-instance-and-view">10.13.2 BGP instance and view</a>
<li><a href="#Routing-policy">10.13.3 Routing policy</a>
<li><a href="#Viewing-the-view">10.13.4 Viewing the view</a>
</li></ul>
<li><a href="#How-to-set-up-a-6_002dBone-connection">10.14 How to set up a 6-Bone connection</a>
<li><a href="#Dump-BGP-packets-and-table">10.15 Dump BGP packets and table</a>
<li><a href="#BGP-Configuration-Examples">10.16 BGP Configuration Examples</a>
</li></ul>
<li><a name="toc_Configuring-Quagga-as-a-Route-Server" href="#Configuring-Quagga-as-a-Route-Server">11 Configuring Quagga as a Route Server</a>
<ul>
<li><a href="#Description-of-the-Route-Server-model">11.1 Description of the Route Server model</a>
<li><a href="#Commands-for-configuring-a-Route-Server">11.2 Commands for configuring a Route Server</a>
<li><a href="#Example-of-Route-Server-Configuration">11.3 Example of Route Server Configuration</a>
<ul>
<li><a href="#Configuration-of-the-BGP-routers-without-Route-Server">11.3.1 Configuration of the BGP routers without Route Server</a>
<li><a href="#Configuration-of-the-BGP-routers-with-Route-Server">11.3.2 Configuration of the BGP routers with Route Server</a>
<li><a href="#Configuration-of-the-Route-Server-itself">11.3.3 Configuration of the Route Server itself</a>
<li><a href="#Further-considerations-about-Import-and-Export-route_002dmaps">11.3.4 Further considerations about Import and Export route-maps</a>
</li></ul>
</li></ul>
<li><a name="toc_VTY-shell" href="#VTY-shell">12 VTY shell</a>
<ul>
<li><a href="#VTY-shell-username">12.1 VTY shell username</a>
<li><a href="#VTY-shell-integrated-configuration">12.2 VTY shell integrated configuration</a>
</li></ul>
<li><a name="toc_Filtering" href="#Filtering">13 Filtering</a>
<ul>
<li><a href="#IP-Access-List">13.1 IP Access List</a>
<li><a href="#IP-Prefix-List">13.2 IP Prefix List</a>
<ul>
<li><a href="#ip-prefix_002dlist-description">13.2.1 ip prefix-list description</a>
<li><a href="#ip-prefix_002dlist-sequential-number-control">13.2.2 ip prefix-list sequential number control</a>
<li><a href="#Showing-ip-prefix_002dlist">13.2.3 Showing ip prefix-list</a>
<li><a href="#Clear-counter-of-ip-prefix_002dlist">13.2.4 Clear counter of ip prefix-list</a>
</li></ul>
</li></ul>
<li><a name="toc_Route-Map" href="#Route-Map">14 Route Map</a>
<ul>
<li><a href="#Route-Map-Command">14.1 Route Map Command</a>
<li><a href="#Route-Map-Match-Command">14.2 Route Map Match Command</a>
<li><a href="#Route-Map-Set-Command">14.3 Route Map Set Command</a>
<li><a href="#Route-Map-Call-Command">14.4 Route Map Call Command</a>
<li><a href="#Route-Map-Exit-Action-Command">14.5 Route Map Exit Action Command</a>
<li><a href="#Route-Map-Examples">14.6 Route Map Examples</a>
</li></ul>
<li><a name="toc_IPv6-Support" href="#IPv6-Support">15 IPv6 Support</a>
<ul>
<li><a href="#Router-Advertisement">15.1 Router Advertisement</a>
</li></ul>
<li><a name="toc_Kernel-Interface" href="#Kernel-Interface">16 Kernel Interface</a>
<li><a name="toc_SNMP-Support" href="#SNMP-Support">17 SNMP Support</a>
<ul>
<li><a href="#Getting-and-installing-an-SNMP-agent">17.1 Getting and installing an SNMP agent</a>
<li><a href="#AgentX-configuration">17.2 AgentX configuration</a>
<li><a href="#SMUX-configuration">17.3 SMUX configuration</a>
<li><a href="#MIB-and-command-reference">17.4 MIB and command reference</a>
<li><a href="#Handling-SNMP-Traps">17.5 Handling SNMP Traps</a>
</li></ul>
<li><a name="toc_Zebra-Protocol" href="#Zebra-Protocol">Appendix A Zebra Protocol</a>
<ul>
<li><a href="#Zebra-Protocol">A.1 Overview of the Zebra Protocol</a>
<li><a href="#Zebra-Protocol">A.2 Zebra Protocol Definition</a>
<ul>
<li><a href="#Zebra-Protocol">A.2.1 Zebra Protocol Header (version 0)</a>
<li><a href="#Zebra-Protocol">A.2.2 Zebra Protocol Common Header (version 1)</a>
<li><a href="#Zebra-Protocol">A.2.3 Zebra Protocol Header Field Definitions</a>
<li><a href="#Zebra-Protocol">A.2.4 Zebra Protocol Commands</a>
</li></ul>
</li></ul>
<li><a name="toc_Packet-Binary-Dump-Format" href="#Packet-Binary-Dump-Format">Appendix B Packet Binary Dump Format</a>
<li><a name="toc_Command-Index" href="#Command-Index">Command Index</a>
<li><a name="toc_VTY-Key-Index" href="#VTY-Key-Index">VTY Key Index</a>
<li><a name="toc_Index" href="#Index">Index</a>
</li></ul>
</div>



<div class="node">
<a name="Overview"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Installation">Installation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Top">Top</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">1 Overview</h2>

<p><a name="index-Overview-1"></a>
  <a href="http://www.quagga.net">Quagga</a> is a routing software package that
provides TCP/IP based routing services with routing protocols support such
as RIPv1, RIPv2, RIPng, OSPFv2, OSPFv3, IS-IS, BGP-4, and BGP-4+ (see <a href="#Supported-RFCs">Supported RFCs</a>). Quagga also supports special BGP Route Reflector and Route Server
behavior.  In addition to traditional IPv4 routing protocols, Quagga also
supports IPv6 routing protocols.  With SNMP daemon which supports SMUX and AgentX
protocol, Quagga provides routing protocol MIBs (see <a href="#SNMP-Support">SNMP Support</a>).

   <p>Quagga uses an advanced software architecture to provide you with a high
quality, multi server routing engine. Quagga has an interactive user
interface for each routing protocol and supports common client commands. 
Due to this design, you can add new protocol daemons to Quagga easily.  You
can use Quagga library as your program's client user interface.

   <p>Quagga is distributed under the <span class="sc">gnu</span> General Public License.

<ul class="menu">
<li><a accesskey="1" href="#About-Quagga">About Quagga</a>:                 Basic information about Quagga
<li><a accesskey="2" href="#System-Architecture">System Architecture</a>:          The Quagga system architecture
<li><a accesskey="3" href="#Supported-Platforms">Supported Platforms</a>:          Supported platforms and future plans
<li><a accesskey="4" href="#Supported-RFCs">Supported RFCs</a>:                Supported RFCs
<li><a accesskey="5" href="#How-to-get-Quagga">How to get Quagga</a>
<li><a accesskey="6" href="#Mailing-List">Mailing List</a>:                 Mailing list information
<li><a accesskey="7" href="#Bug-Reports">Bug Reports</a>:                  Mail address for bug data
</ul>

<div class="node">
<a name="About-Quagga"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#System-Architecture">System Architecture</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">1.1 About Quagga</h3>

<p><a name="index-About-Quagga-2"></a>
  Today, TCP/IP networks are covering all of the world.  The Internet has
been deployed in many countries, companies, and to the home.  When you
connect to the Internet your packet will pass many routers which have TCP/IP
routing functionality.

   <p>A system with Quagga installed acts as a dedicated router.  With Quagga,
your machine exchanges routing information with other routers using routing
protocols.  Quagga uses this information to update the kernel routing table
so that the right data goes to the right place.  You can dynamically change
the configuration and you may view routing table information from the Quagga
terminal interface.

   <p>Adding to routing protocol support, Quagga can setup interface's flags,
interface's address, static routes and so on.  If you have a small network,
or a stub network, or xDSL connection, configuring the Quagga routing
software is very easy.  The only thing you have to do is to set up the
interfaces and put a few commands about static routes and/or default routes. 
If the network is rather large, or if the network structure changes
frequently, you will want to take advantage of Quagga's dynamic routing
protocol support for protocols such as RIP, OSPF, IS-IS or BGP.

   <p>Traditionally, UNIX based router configuration is done by
<samp><span class="command">ifconfig</span></samp> and <samp><span class="command">route</span></samp> commands.  Status of routing
table is displayed by <samp><span class="command">netstat</span></samp> utility.  Almost of these commands
work only if the user has root privileges.  Quagga has a different system
administration method.  There are two user modes in Quagga.  One is normal
mode, the other is enable mode.  Normal mode user can only view system
status, enable mode user can change system configuration.  This UNIX account
independent feature will be great help to the router administrator.

   <p>Currently, Quagga supports common unicast routing protocols, that is BGP,
OSPF, RIP and IS-IS.  Upcoming for MPLS support, an implementation of LDP is
currently being prepared for merging.  Implementations of BFD and PIM-SSM
(IPv4) also exist, but are not actively being worked on.

   <p>The ultimate goal of the Quagga project is making a productive, quality, free
TCP/IP routing software package.

<div class="node">
<a name="System-Architecture"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Supported-Platforms">Supported Platforms</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#About-Quagga">About Quagga</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">1.2 System Architecture</h3>

<p><a name="index-System-architecture-3"></a><a name="index-Software-architecture-4"></a><a name="index-Software-internals-5"></a>
  Traditional routing software is made as a one process program which
provides all of the routing protocol functionalities.  Quagga takes a
different approach.  It is made from a collection of several daemons that
work together to build the routing table.  There may be several
protocol-specific routing daemons and zebra the kernel routing manager.

   <p>The <samp><span class="command">ripd</span></samp> daemon handles the RIP protocol, while
<samp><span class="command">ospfd</span></samp> is a daemon which supports OSPF version 2. 
<samp><span class="command">bgpd</span></samp> supports the BGP-4 protocol.  For changing the kernel
routing table and for redistribution of routes between different routing
protocols, there is a kernel routing table manager <samp><span class="command">zebra</span></samp> daemon. 
It is easy to add a new routing protocol daemons to the entire routing
system without affecting any other software.  You need to run only the
protocol daemon associated with routing protocols in use.  Thus, user may
run a specific daemon and send routing reports to a central routing console.

   <p>There is no need for these daemons to be running on the same machine. You
can even run several same protocol daemons on the same machine.  This
architecture creates new possibilities for the routing system.

<pre class="example">     +----+  +----+  +-----+  +-----+
     |bgpd|  |ripd|  |ospfd|  |zebra|
     +----+  +----+  +-----+  +-----+
                                 |
     +---------------------------|--+
     |                           v  |
     |  UNIX Kernel  routing table  |
     |                              |
     +------------------------------+
     
         Quagga System Architecture
</pre>
   <p>Multi-process architecture brings extensibility, modularity and
maintainability.  At the same time it also brings many configuration files
and terminal interfaces.  Each daemon has it's own configuration file and
terminal interface.  When you configure a static route, it must be done in
<samp><span class="command">zebra</span></samp> configuration file.  When you configure BGP network it must
be done in <samp><span class="command">bgpd</span></samp> configuration file.  This can be a very annoying
thing.  To resolve the problem, Quagga provides integrated user interface
shell called <samp><span class="command">vtysh</span></samp>.  <samp><span class="command">vtysh</span></samp> connects to each daemon with
UNIX domain socket and then works as a proxy for user input.

   <p>Quagga was planned to use multi-threaded mechanism when it runs with a
kernel that supports multi-threads.  But at the moment, the thread library
which comes with <span class="sc">gnu</span>/Linux or FreeBSD has some problems with running
reliable services such as routing software, so we don't use threads at all. 
Instead we use the <samp><span class="command">select(2)</span></samp> system call for multiplexing the
events.

<div class="node">
<a name="Supported-Platforms"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Supported-RFCs">Supported RFCs</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#System-Architecture">System Architecture</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">1.3 Supported Platforms</h3>

<p><a name="index-Supported-platforms-6"></a><a name="index-Quagga-on-other-systems-7"></a><a name="index-Compatibility-with-other-systems-8"></a><a name="index-Operating-systems-that-support-Quagga-9"></a>
Currently Quagga supports <span class="sc">gnu</span>/Linux and BSD. Porting Quagga
to other platforms is not too difficult as platform dependent code should
most be limited to the <samp><span class="command">zebra</span></samp> daemon.  Protocol daemons are mostly
platform independent. Please let us know when you find out Quagga runs on a
platform which is not listed below.

   <p>The list of officially supported platforms are listed below. Note that
Quagga may run correctly on other platforms, and may run with partial
functionality on further platforms.

   <pre class="sp">

</pre>
     <ul>
<li><span class="sc">gnu</span>/Linux
<li>FreeBSD
<li>NetBSD
<li>OpenBSD
</ul>

   <p>Versions of these platforms that are older than around 2 years from the point
of their original release (in case of <span class="sc">gnu</span>/Linux, this is since the kernel's
release on kernel.org) may need some work.  Similarly, the following platforms
may work with some effort:

   <pre class="sp">

</pre>
     <ul>
<li>Solaris
<li>Mac OSX
</ul>

   <p>Also note that, in particular regarding proprietary platforms, compiler
and C library choice will affect Quagga.  Only recent versions of the
following C compilers are well-tested:

   <pre class="sp">

</pre>
     <ul>
<li><span class="sc">gnu</span>'s GCC
<li>LLVM's clang
<li>Intel's ICC
</ul>

<div class="node">
<a name="Supported-RFCs"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#How-to-get-Quagga">How to get Quagga</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Supported-Platforms">Supported Platforms</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">1.4 Supported RFCs</h3>

<p>Below is the list of currently supported RFC's.

     <dl>
<dt>RFC1058<dd><cite>Routing Information Protocol. C.L. Hedrick. Jun-01-1988.</cite>

     <br><dt>RF2082<dd><cite>RIP-2 MD5 Authentication. F. Baker, R. Atkinson. January 1997.</cite>

     <br><dt>RFC2453<dd><cite>RIP Version 2. G. Malkin. November 1998.</cite>

     <br><dt>RFC2080<dd><cite>RIPng for IPv6. G. Malkin, R. Minnear. January 1997.</cite>

     <br><dt>RFC2328<dd><cite>OSPF Version 2. J. Moy. April 1998.</cite>

     <br><dt>RFC2370<dd><cite>The OSPF Opaque LSA Option R. Coltun. July 1998.</cite>

     <br><dt>RFC3101<dd><cite>The OSPF Not-So-Stubby Area (NSSA) Option P. Murphy. January 2003.</cite>

     <br><dt>RFC2740<dd><cite>OSPF for IPv6. R. Coltun, D. Ferguson, J. Moy. December 1999.</cite>

     <br><dt>RFC1771<dd><cite>A Border Gateway Protocol 4 (BGP-4). Y. Rekhter &amp; T. Li. March 1995.</cite>

     <br><dt>RFC1965<dd><cite>Autonomous System Confederations for BGP. P. Traina. June 1996.</cite>

     <br><dt>RFC1997<dd><cite>BGP Communities Attribute. R. Chandra, P. Traina &amp; T. Li. August 1996.</cite>

     <br><dt>RFC2545<dd><cite>Use of BGP-4 Multiprotocol Extensions for IPv6 Inter-Domain Routing. P. Marques, F. Dupont. March 1999.</cite>

     <br><dt>RFC2796<dd><cite>BGP Route Reflection An alternative to full mesh IBGP. T. Bates &amp; R. Chandrasekeran. June 1996.</cite>

     <br><dt>RFC2858<dd><cite>Multiprotocol Extensions for BGP-4. T. Bates, Y. Rekhter, R. Chandra, D. Katz. June 2000.</cite>

     <br><dt>RFC2842<dd><cite>Capabilities Advertisement with BGP-4. R. Chandra, J. Scudder. May 2000.</cite>

     <br><dt>RFC3137<dd><cite>OSPF Stub Router Advertisement, A. Retana, L. Nguyen, R. White, A. Zinin, D. McPherson. June 2001</cite>
</dl>

   <p>When SNMP support is enabled, below RFC is also supported.

     <dl>
<dt>RFC1227<dd><cite>SNMP MUX protocol and MIB. M.T. Rose. May-01-1991.</cite>

     <br><dt>RFC1657<dd><cite>Definitions of Managed Objects for the Fourth Version of the
Border Gateway Protocol (BGP-4) using SMIv2. S. Willis, J. Burruss,
J. Chu, Editor. July 1994.</cite>

     <br><dt>RFC1724<dd><cite>RIP Version 2 MIB Extension. G. Malkin &amp; F. Baker. November 1994.</cite>

     <br><dt>RFC1850<dd><cite>OSPF Version 2 Management Information Base. F. Baker, R. Coltun. 
November 1995.</cite>

     <br><dt>RFC2741<dd><cite>Agent Extensibility (AgentX) Protocol. M. Daniele, B. Wijnen. January 2000.</cite>

   </dl>

<div class="node">
<a name="How-to-get-Quagga"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Mailing-List">Mailing List</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Supported-RFCs">Supported RFCs</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">1.5 How to get Quagga</h3>

<p>The official Quagga web-site is located at:

   <p><a href="http://www.quagga.net/">http://www.quagga.net/</a>

   <p>and contains further information, as well as links to additional
resources.

   <p><a href="http://www.quagga.net/">Quagga</a> is a fork of GNU Zebra, whose
web-site is located at:

   <p><a href="http://www.zebra.org/">http://www.zebra.org/</a>.

<div class="node">
<a name="Mailing-List"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Bug-Reports">Bug Reports</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#How-to-get-Quagga">How to get Quagga</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">1.6 Mailing List</h3>

<p><a name="index-How-to-get-in-touch-with-Quagga-10"></a><a name="index-Mailing-Quagga-11"></a><a name="index-Contact-information-12"></a><a name="index-Mailing-lists-13"></a>
There is a mailing list for discussions about Quagga.  If you have any
comments or suggestions to Quagga, please subscribe to:

   <p><a href="http://lists.quagga.net/mailman/listinfo/quagga-users">http://lists.quagga.net/mailman/listinfo/quagga-users</a>.

   <p>The <a href="http://www.quagga.net/">Quagga</a> site has further information on
the available mailing lists, see:

   <p>	<a href="http://www.quagga.net/lists.php">http://www.quagga.net/lists.php</a>

<div class="node">
<a name="Bug-Reports"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Mailing-List">Mailing List</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Overview">Overview</a>

</div>

<h3 class="section">1.7 Bug Reports</h3>

<p><a name="index-Bug-Reports-14"></a><a name="index-Bug-hunting-15"></a><a name="index-Found-a-bug_003f-16"></a><a name="index-Reporting-bugs-17"></a><a name="index-Reporting-software-errors-18"></a><a name="index-Errors-in-the-software-19"></a>
If you think you have found a bug, please send a bug report to:

   <p><a href="http://bugzilla.quagga.net">http://bugzilla.quagga.net</a>

   <p>When you send a bug report, please be careful about the points below.

     <ul>
<li>Please note what kind of OS you are using.  If you use the IPv6 stack
please note that as well. 
<li>Please show us the results of <code>netstat -rn</code> and <code>ifconfig -a</code>. 
Information from zebra's VTY command <code>show ip route</code> will also be
helpful. 
<li>Please send your configuration file with the report.  If you specify
arguments to the configure script please note that too. 
</ul>

   <p>Bug reports are very important for us to improve the quality of Quagga. 
Quagga is still in the development stage, but please don't hesitate to
send a bug report to <a href="http://bugzilla.quagga.net">http://bugzilla.quagga.net</a>.

<div class="node">
<a name="Installation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Basic-commands">Basic commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Overview">Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">2 Installation</h2>

<p><a name="index-How-to-install-Quagga-20"></a><a name="index-Installation-21"></a><a name="index-Installing-Quagga-22"></a><a name="index-Building-the-system-23"></a><a name="index-Making-Quagga-24"></a>
There are three steps for installing the software: configuration,
compilation, and installation.

<ul class="menu">
<li><a accesskey="1" href="#Configure-the-Software">Configure the Software</a>
<li><a accesskey="2" href="#Build-the-Software">Build the Software</a>
<li><a accesskey="3" href="#Install-the-Software">Install the Software</a>
</ul>

   <p>The easiest way to get Quagga running is to issue the following
commands:

<pre class="example">     % configure
     % make
     % make install
</pre>
   <div class="node">
<a name="Configure-the-Software"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Build-the-Software">Build the Software</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Installation">Installation</a>

</div>

<h3 class="section">2.1 Configure the Software</h3>

<ul class="menu">
<li><a accesskey="1" href="#The-Configure-script-and-its-options">The Configure script and its options</a>
<li><a accesskey="2" href="#Least_002dPrivilege-support">Least-Privilege support</a>
<li><a accesskey="3" href="#Linux-notes">Linux notes</a>
</ul>

<div class="node">
<a name="The-Configure-script-and-its-options"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Least_002dPrivilege-support">Least-Privilege support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configure-the-Software">Configure the Software</a>

</div>

<h4 class="subsection">2.1.1 The Configure script and its options</h4>

<p><a name="index-Configuration-options-25"></a><a name="index-Options-for-configuring-26"></a><a name="index-Build-options-27"></a><a name="index-Distribution-configuration-28"></a><a name="index-Options-to-_0040code_007b_002e_002fconfigure_007d-29"></a>
Quagga has an excellent configure script which automatically detects most
host configurations.  There are several additional configure options you can
use to turn off IPv6 support, to disable the compilation of specific
daemons, and to enable SNMP support.

     <dl>
<dt><samp><span class="option">--disable-ipv6</span></samp><dd>Turn off IPv6 related features and daemons.  Quagga configure script
automatically detects IPv6 stack.  But sometimes you might want to
disable IPv6 support of Quagga. 
<br><dt><samp><span class="option">--disable-zebra</span></samp><dd>Do not build zebra daemon. 
<br><dt><samp><span class="option">--disable-ripd</span></samp><dd>Do not build ripd. 
<br><dt><samp><span class="option">--disable-ripngd</span></samp><dd>Do not build ripngd. 
<br><dt><samp><span class="option">--disable-ospfd</span></samp><dd>Do not build ospfd. 
<br><dt><samp><span class="option">--disable-ospf6d</span></samp><dd>Do not build ospf6d. 
<br><dt><samp><span class="option">--disable-bgpd</span></samp><dd>Do not build bgpd. 
<br><dt><samp><span class="option">--disable-bgp-announce</span></samp><dd>Make <samp><span class="command">bgpd</span></samp> which does not make bgp announcements at all.  This
feature is good for using <samp><span class="command">bgpd</span></samp> as a BGP announcement listener. 
<br><dt><samp><span class="option">--enable-netlink</span></samp><dd>Force to enable <span class="sc">gnu</span>/Linux netlink interface.  Quagga configure
script detects netlink interface by checking a header file.  When the header
file does not match to the current running kernel, configure script will
not turn on netlink support. 
<br><dt><samp><span class="option">--enable-snmp</span></samp><dd>Enable SNMP support.  By default, SNMP support is disabled. 
<br><dt><samp><span class="option">--disable-opaque-lsa</span></samp><dd>Disable support for Opaque LSAs (RFC2370) in ospfd. 
<br><dt><samp><span class="option">--disable-ospfapi</span></samp><dd>Disable support for OSPF-API, an API to interface directly with ospfd. 
OSPF-API is enabled if &ndash;enable-opaque-lsa is set. 
<br><dt><samp><span class="option">--disable-ospfclient</span></samp><dd>Disable building of the example OSPF-API client. 
<br><dt><samp><span class="option">--disable-ospf-te</span></samp><dd>Disable support for OSPF Traffic Engineering Extension (internet-draft) this
requires support for Opaque LSAs. 
<br><dt><samp><span class="option">--enable-multipath=</span><var>ARG</var></samp><dd>Enable support for Equal Cost Multipath. <var>ARG</var> is the maximum number
of ECMP paths to allow, set to 0 to allow unlimited number of paths. 
<br><dt><samp><span class="option">--disable-rtadv</span></samp><dd>Disable support IPV6 router advertisement in zebra. 
<br><dt><samp><span class="option">--disable-tests</span></samp><dd>Do not build tests.  Test programs are built by default, but not ran or
installed.  They can be excluded from build with this option, which will
minimally decrease compile time and overhead.  They can always be built and
executed at a later time by running <samp><span class="command">make check</span></samp> in the <samp><span class="file">tests/</span></samp>
subdirectory, even if they're excluded from build. 
</dl>

   <p>You may specify any combination of the above options to the configure
script.  By default, the executables are placed in <samp><span class="file">/usr/local/sbin</span></samp>
and the configuration files in <samp><span class="file">/usr/local/etc</span></samp>. The <samp><span class="file">/usr/local/</span></samp>
installation prefix and other directories may be changed using the following
options to the configuration script.

     <dl>
<dt><samp><span class="option">--prefix=</span><var>prefix</var></samp><dd>Install architecture-independent files in <var>prefix</var> [/usr/local]. 
<br><dt><samp><span class="option">--sysconfdir=</span><var>dir</var></samp><dd>Look for configuration files in <var>dir</var> [<var>prefix</var>/etc]. Note
that sample configuration files will be installed here. 
<br><dt><samp><span class="option">--localstatedir=</span><var>dir</var></samp><dd>Configure zebra to use <var>dir</var> for local state files, such
as pid files and unix sockets. 
</dl>

<pre class="example">     % ./configure --disable-ipv6
</pre>
   <p>This command will configure zebra and the routing daemons.

<div class="node">
<a name="Least-Privilege-support"></a>
<a name="Least_002dPrivilege-support"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Linux-notes">Linux notes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#The-Configure-script-and-its-options">The Configure script and its options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configure-the-Software">Configure the Software</a>

</div>

<h4 class="subsection">2.1.2 Least-Privilege support</h4>

<p><a name="index-Quagga-Least_002dPrivileges-30"></a><a name="index-Quagga-Privileges-31"></a>
Additionally, you may configure zebra to drop its elevated privileges
shortly after startup and switch to another user. The configure script will
automatically try to configure this support. There are three configure
options to control the behaviour of Quagga daemons.

     <dl>
<dt><samp><span class="option">--enable-user=</span><var>user</var></samp><dd>Switch to user <var>ARG</var> shortly after startup, and run as user <var>ARG</var>
in normal operation. 
<br><dt><samp><span class="option">--enable-group=</span><var>group</var></samp><dd>Switch real and effective group to <var>group</var> shortly after
startup. 
<br><dt><samp><span class="option">--enable-vty-group=</span><var>group</var></samp><dd>Create Unix Vty sockets (for use with vtysh) with group owndership set to
<var>group</var>. This allows one to create a seperate group which is
restricted to accessing only the Vty sockets, hence allowing one to
delegate this group to individual users, or to run vtysh setgid to
this group. 
</dl>

   <p>The default user and group which will be configured is 'quagga' if no user
or group is specified. Note that this user or group requires write access to
the local state directory (see &ndash;localstatedir) and requires at least read
access, and write access if you wish to allow daemons to write out their
configuration, to the configuration directory (see &ndash;sysconfdir).

   <p>On systems which have the 'libcap' capabilities manipulation library
(currently only linux), the quagga system will retain only minimal
capabilities required, further it will only raise these capabilities for
brief periods. On systems without libcap, quagga will run as the user
specified and only raise its uid back to uid 0 for brief periods.

<div class="node">
<a name="Linux-notes"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Least_002dPrivilege-support">Least-Privilege support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configure-the-Software">Configure the Software</a>

</div>

<h4 class="subsection">2.1.3 Linux Notes</h4>

<p><a name="index-Configuring-Quagga-32"></a><a name="index-Building-on-Linux-boxes-33"></a><a name="index-Linux-configurations-34"></a>
There are several options available only to <span class="sc">gnu</span>/Linux systems:
<a rel="footnote" href="#fn-1" name="fnd-1"><sup>1</sup></a>.  If
you use <span class="sc">gnu</span>/Linux, make sure that the current kernel configuration is
what you want.  Quagga will run with any kernel configuration but some
recommendations do exist.

     <dl>
<dt><var>CONFIG_NETLINK</var><dd>Kernel/User netlink socket. This is a brand new feature which enables an
advanced interface between the Linux kernel and zebra (see <a href="#Kernel-Interface">Kernel Interface</a>).

     <br><dt><var>CONFIG_RTNETLINK</var><dd>Routing messages. 
This makes it possible to receive netlink routing messages.  If you
specify this option, <samp><span class="command">zebra</span></samp> can detect routing information
updates directly from the kernel (see <a href="#Kernel-Interface">Kernel Interface</a>).

     <br><dt><var>CONFIG_IP_MULTICAST</var><dd>IP: multicasting. 
This option should be specified when you use <samp><span class="command">ripd</span></samp> (see <a href="#RIP">RIP</a>) or
<samp><span class="command">ospfd</span></samp> (see <a href="#OSPFv2">OSPFv2</a>) because these protocols use multicast.

   </dl>

   <p>IPv6 support has been added in <span class="sc">gnu</span>/Linux kernel version 2.2.  If you
try to use the Quagga IPv6 feature on a <span class="sc">gnu</span>/Linux kernel, please
make sure the following libraries have been installed.  Please note that
these libraries will not be needed when you uses <span class="sc">gnu</span> C library 2.1
or upper.

     <dl>
<dt><code>inet6-apps</code><dd>The <code>inet6-apps</code> package includes basic IPv6 related libraries such
as <code>inet_ntop</code> and <code>inet_pton</code>.  Some basic IPv6 programs such
as <samp><span class="command">ping</span></samp>, <samp><span class="command">ftp</span></samp>, and <samp><span class="command">inetd</span></samp> are also
included. The <code>inet-apps</code> can be found at
<a href="ftp://ftp.inner.net/pub/ipv6/">ftp://ftp.inner.net/pub/ipv6/</a>.

     <br><dt><code>net-tools</code><dd>The <code>net-tools</code> package provides an IPv6 enabled interface and
routing utility.  It contains <samp><span class="command">ifconfig</span></samp>, <samp><span class="command">route</span></samp>,
<samp><span class="command">netstat</span></samp>, and other tools.  <code>net-tools</code> may be found at
<a href="http://www.tazenda.demon.co.uk/phil/net-tools/">http://www.tazenda.demon.co.uk/phil/net-tools/</a>.

   </dl>
   <!-- A - end of footnote -->

<div class="node">
<a name="Build-the-Software"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Install-the-Software">Install the Software</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configure-the-Software">Configure the Software</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Installation">Installation</a>

</div>

<h3 class="section">2.2 Build the Software</h3>

<p>After configuring the software, you will need to compile it for your
system. Simply issue the command <samp><span class="command">make</span></samp> in the root of the source
directory and the software will be compiled. If you have *any* problems
at this stage, be certain to send a bug report See <a href="#Bug-Reports">Bug Reports</a>.

<pre class="example">     % ./configure
     .
     .
     .
     ./configure output
     .
     .
     .
     % make
</pre>
   <!-- A - End of node, Building the Software -->
<div class="node">
<a name="Install-the-Software"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Build-the-Software">Build the Software</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Installation">Installation</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">2.3 Install the Software</h3>

<p>Installing the software to your system consists of copying the compiled
programs and supporting files to a standard location. After the
installation process has completed, these files have been copied
from your work directory to <samp><span class="file">/usr/local/bin</span></samp>, and <samp><span class="file">/usr/local/etc</span></samp>.

   <p>To install the Quagga suite, issue the following command at your shell
prompt: <samp><span class="command">make install</span></samp>.

<pre class="example">     %
     % make install
     %
</pre>
   <p>Quagga daemons have their own terminal interface or VTY.  After
installation, you have to setup each beast's port number to connect to
them.  Please add the following entries to <samp><span class="file">/etc/services</span></samp>.

<pre class="example">     zebrasrv      2600/tcp		  # zebra service
     zebra         2601/tcp		  # zebra vty
     ripd          2602/tcp		  # RIPd vty
     ripngd        2603/tcp		  # RIPngd vty
     ospfd         2604/tcp		  # OSPFd vty
     bgpd          2605/tcp		  # BGPd vty
     ospf6d        2606/tcp		  # OSPF6d vty
     ospfapi       2607/tcp		  # ospfapi
     isisd         2608/tcp		  # ISISd vty
</pre>
   <p>If you use a FreeBSD newer than 2.2.8, the above entries are already
added to <samp><span class="file">/etc/services</span></samp> so there is no need to add it. If you
specify a port number when starting the daemon, these entries may not be
needed.

   <p>You may need to make changes to the config files in
<samp><span class="file">/etc/quagga/*.conf</span></samp>. See <a href="#Config-Commands">Config Commands</a>.

<div class="node">
<a name="Basic-commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Zebra">Zebra</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Installation">Installation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">3 Basic commands</h2>

<p>There are five routing daemons in use, and there is one manager daemon. 
These daemons may be located on separate machines from the manager
daemon.  Each of these daemons will listen on a particular port for
incoming VTY connections.  The routing daemons are:

     <ul>
<li><samp><span class="command">ripd</span></samp>, <samp><span class="command">ripngd</span></samp>, <samp><span class="command">ospfd</span></samp>, <samp><span class="command">ospf6d</span></samp>, <samp><span class="command">bgpd</span></samp>
<li><samp><span class="command">zebra</span></samp>
</ul>

   <p>The following sections discuss commands common to all the routing
daemons.

<ul class="menu">
<li><a accesskey="1" href="#Terminal-Mode-Commands">Terminal Mode Commands</a>:       Common commands used in a VTY
<li><a accesskey="2" href="#Config-Commands">Config Commands</a>:              Commands used in config files
<li><a accesskey="3" href="#Common-Invocation-Options">Common Invocation Options</a>:    Starting the daemons
<li><a accesskey="4" href="#Virtual-Terminal-Interfaces">Virtual Terminal Interfaces</a>:  Interacting with the daemons
</ul>

<div class="node">
<a name="Config-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Common-Invocation-Options">Common Invocation Options</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Terminal-Mode-Commands">Terminal Mode Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic-commands">Basic commands</a>

</div>

<h3 class="section">3.1 Config Commands</h3>

<p><a name="index-Configuration-files-for-running-the-software-35"></a><!-- A -not configuration files for installing the software -->
<a name="index-Files-for-running-configurations-36"></a><a name="index-Modifying-the-herd_0027s-behavior-37"></a><a name="index-Getting-the-herd-running-38"></a>

<ul class="menu">
<li><a accesskey="1" href="#Basic-Config-Commands">Basic Config Commands</a>:        Some of the generic config commands
<li><a accesskey="2" href="#Sample-Config-File">Sample Config File</a>:           An example config file
</ul>

   <p>In a config file, you can write the debugging options, a vty's password,
routing daemon configurations, a log file name, and so forth. This
information forms the initial command set for a routing beast as it is
starting.

   <p>Config files are generally found in:

     <ul>
<li><samp><span class="file">/etc/quagga/*.conf</span></samp>
</ul>

   <p>Each of the daemons has its own
config file.  For example, zebra's default config file name is:

     <ul>
<li><samp><span class="file">/etc/quagga/zebra.conf</span></samp>
</ul>

   <p>The daemon name plus <samp><span class="file">.conf</span></samp> is the default config file name. You
can specify a config file using the <kbd>-f</kbd> or <kbd>--config-file</kbd>
options when starting the daemon.

<div class="node">
<a name="Basic-Config-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Sample-Config-File">Sample Config File</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Config-Commands">Config Commands</a>

</div>

<h4 class="subsection">3.1.1 Basic Config Commands</h4>

<div class="defun">
&mdash; Command: <b>hostname </b><var>hostname</var><var> <a name="index-hostname-_0040var_007bhostname_007d-39"></a></var><br>
<blockquote><p>Set hostname of the router. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>password </b><var>password</var><var> <a name="index-password-_0040var_007bpassword_007d-40"></a></var><br>
<blockquote><p>Set password for vty interface.  If there is no password, a vty won't
accept connections. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>enable password </b><var>password</var><var> <a name="index-enable-password-_0040var_007bpassword_007d-41"></a></var><br>
<blockquote><p>Set enable password. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log trap </b><var>level</var><var> <a name="index-log-trap-_0040var_007blevel_007d-42"></a></var><br>
&mdash; Command: <b>no log trap</b><var> <a name="index-no-log-trap-43"></a></var><br>
<blockquote><p>These commands are deprecated and are present only for historical compatibility. 
The log trap command sets the current logging level for all enabled
logging destinations, and it sets the default for all future logging commands
that do not specify a level.  The normal default
logging level is debugging.  The <code>no</code> form of the command resets
the default level for future logging commands to debugging, but it does
not change the logging level of existing logging destinations. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log stdout</b><var> <a name="index-log-stdout-44"></a></var><br>
&mdash; Command: <b>log stdout </b><var>level</var><var> <a name="index-log-stdout-_0040var_007blevel_007d-45"></a></var><br>
&mdash; Command: <b>no log stdout</b><var> <a name="index-no-log-stdout-46"></a></var><br>
<blockquote><p>Enable logging output to stdout. 
If the optional second argument specifying the
logging level is not present, the default logging level (typically debugging,
but can be changed using the deprecated <code>log trap</code> command) will be used. 
The <code>no</code> form of the command disables logging to stdout. 
The <code>level</code> argument must have one of these values:
emergencies, alerts, critical, errors, warnings, notifications, informational, or debugging.  Note that the existing code logs its most important messages
with severity <code>errors</code>. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log file </b><var>filename</var><var> <a name="index-log-file-_0040var_007bfilename_007d-47"></a></var><br>
&mdash; Command: <b>log file </b><var>filename</var> <var>level</var><var> <a name="index-log-file-_0040var_007bfilename_007d-_0040var_007blevel_007d-48"></a></var><br>
&mdash; Command: <b>no log file</b><var> <a name="index-no-log-file-49"></a></var><br>
<blockquote><p>If you want to log into a file, please specify <code>filename</code> as
in this example:
     <pre class="example">          log file /var/log/quagga/bgpd.log informational
</pre>
        <p>If the optional second argument specifying the
logging level is not present, the default logging level (typically debugging,
but can be changed using the deprecated <code>log trap</code> command) will be used. 
The <code>no</code> form of the command disables logging to a file.

        <p>Note: if you do not configure any file logging, and a daemon crashes due
to a signal or an assertion failure, it will attempt to save the crash
information in a file named /var/tmp/quagga.&lt;daemon name&gt;.crashlog. 
For security reasons, this will not happen if the file exists already, so
it is important to delete the file after reporting the crash information. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log syslog</b><var> <a name="index-log-syslog-50"></a></var><br>
&mdash; Command: <b>log syslog </b><var>level</var><var> <a name="index-log-syslog-_0040var_007blevel_007d-51"></a></var><br>
&mdash; Command: <b>no log syslog</b><var> <a name="index-no-log-syslog-52"></a></var><br>
<blockquote><p>Enable logging output to syslog. 
If the optional second argument specifying the
logging level is not present, the default logging level (typically debugging,
but can be changed using the deprecated <code>log trap</code> command) will be used. 
The <code>no</code> form of the command disables logging to syslog. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log monitor</b><var> <a name="index-log-monitor-53"></a></var><br>
&mdash; Command: <b>log monitor </b><var>level</var><var> <a name="index-log-monitor-_0040var_007blevel_007d-54"></a></var><br>
&mdash; Command: <b>no log monitor</b><var> <a name="index-no-log-monitor-55"></a></var><br>
<blockquote><p>Enable logging output to vty terminals that have enabled logging
using the <code>terminal monitor</code> command. 
By default, monitor logging is enabled at the debugging level, but this
command (or the deprecated <code>log trap</code> command) can be used to change
the monitor logging level. 
If the optional second argument specifying the
logging level is not present, the default logging level (typically debugging,
but can be changed using the deprecated <code>log trap</code> command) will be used. 
The <code>no</code> form of the command disables logging to terminal monitors. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log facility </b><var>facility</var><var> <a name="index-log-facility-_0040var_007bfacility_007d-56"></a></var><br>
&mdash; Command: <b>no log facility</b><var> <a name="index-no-log-facility-57"></a></var><br>
<blockquote><p>This command changes the facility used in syslog messages.  The default
facility is <code>daemon</code>.  The <code>no</code> form of the command resets
the facility to the default <code>daemon</code> facility. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log record-priority</b><var> <a name="index-log-record_002dpriority-58"></a></var><br>
&mdash; Command: <b>no log record-priority</b><var> <a name="index-no-log-record_002dpriority-59"></a></var><br>
<blockquote><p>To include the severity in all messages logged to a file, to stdout, or to
a terminal monitor (i.e. anything except syslog),
use the <code>log record-priority</code> global configuration command. 
To disable this option, use the <code>no</code> form of the command.  By default,
the severity level is not included in logged messages.  Note: some
versions of syslogd (including Solaris) can be configured to include
the facility and level in the messages emitted. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>log timestamp precision </b><var>&lt;0-6&gt;</var><var> <a name="index-log-timestamp-precision-_0040var_007b_003c0_002d6_003e_007d-60"></a></var><br>
&mdash; Command: <b>no log timestamp precision</b><var> <a name="index-no-log-timestamp-precision-61"></a></var><br>
<blockquote><p>This command sets the precision of log message timestamps to the
given number of digits after the decimal point.  Currently,
the value must be in the range 0 to 6 (i.e. the maximum precision
is microseconds). 
To restore the default behavior (1-second accuracy), use the
<code>no</code> form of the command, or set the precision explicitly to 0.

     <pre class="example">          log timestamp precision 3
</pre>
        <p>In this example, the precision is set to provide timestamps with
millisecond accuracy. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>service password-encryption</b><var> <a name="index-service-password_002dencryption-62"></a></var><br>
<blockquote><p>Encrypt password. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>service advanced-vty</b><var> <a name="index-service-advanced_002dvty-63"></a></var><br>
<blockquote><p>Enable advanced mode VTY. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>service terminal-length </b><var>&lt;0-512&gt;</var><var> <a name="index-service-terminal_002dlength-_0040var_007b_003c0_002d512_003e_007d-64"></a></var><br>
<blockquote><p>Set system wide line configuration.  This configuration command applies
to all VTY interfaces. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>line vty</b><var> <a name="index-line-vty-65"></a></var><br>
<blockquote><p>Enter vty configuration mode. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>banner motd default</b><var> <a name="index-banner-motd-default-66"></a></var><br>
<blockquote><p>Set default motd string. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no banner motd</b><var> <a name="index-no-banner-motd-67"></a></var><br>
<blockquote><p>No motd banner string will be printed. 
</p></blockquote></div>

<div class="defun">
&mdash; Line Command: <b>exec-timeout </b><var>minute</var><var> <a name="index-exec_002dtimeout-_0040var_007bminute_007d-68"></a></var><br>
&mdash; Line Command: <b>exec-timeout </b><var>minute</var> <var>second</var><var> <a name="index-exec_002dtimeout-_0040var_007bminute_007d-_0040var_007bsecond_007d-69"></a></var><br>
<blockquote><p>Set VTY connection timeout value.  When only one argument is specified
it is used for timeout value in minutes.  Optional second argument is
used for timeout value in seconds. Default timeout value is 10 minutes. 
When timeout value is zero, it means no timeout. 
</p></blockquote></div>

<div class="defun">
&mdash; Line Command: <b>no exec-timeout</b><var> <a name="index-no-exec_002dtimeout-70"></a></var><br>
<blockquote><p>Do not perform timeout at all.  This command is as same as
<samp><span class="command">exec-timeout 0 0</span></samp>. 
</p></blockquote></div>

<div class="defun">
&mdash; Line Command: <b>access-class </b><var>access-list</var><var> <a name="index-access_002dclass-_0040var_007baccess_002dlist_007d-71"></a></var><br>
<blockquote><p>Restrict vty connections with an access list. 
</p></blockquote></div>

<div class="node">
<a name="Sample-Config-File"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-Config-Commands">Basic Config Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Config-Commands">Config Commands</a>

</div>

<h4 class="subsection">3.1.2 Sample Config File</h4>

<p>Below is a sample configuration file for the zebra daemon.

<pre class="example">     !
     ! Zebra configuration file
     !
     hostname Router
     password zebra
     enable password zebra
     !
     log stdout
     !
     !
</pre>
   <p>'!' and '#' are comment characters.  If the first character of the word
is one of the comment characters then from the rest of the line forward
will be ignored as a comment.

<pre class="example">     password zebra!password
</pre>
   <p>If a comment character is not the first character of the word, it's a
normal character. So in the above example '!' will not be regarded as a
comment and the password is set to 'zebra!password'.

<div class="node">
<a name="Terminal-Mode-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Config-Commands">Config Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic-commands">Basic commands</a>

</div>

<h3 class="section">3.2 Terminal Mode Commands</h3>

<div class="defun">
&mdash; Command: <b>write terminal</b><var> <a name="index-write-terminal-72"></a></var><br>
<blockquote><p>Displays the current configuration to the vty interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>write file</b><var> <a name="index-write-file-73"></a></var><br>
<blockquote><p>Write current configuration to configuration file. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>configure terminal</b><var> <a name="index-configure-terminal-74"></a></var><br>
<blockquote><p>Change to configuration mode.  This command is the first step to
configuration. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>terminal length </b><var>&lt;0-512&gt;</var><var> <a name="index-terminal-length-_0040var_007b_003c0_002d512_003e_007d-75"></a></var><br>
<blockquote><p>Set terminal display length to <var>&lt;0-512&gt;</var>.  If length is 0, no
display control is performed. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>who</b><var> <a name="index-who-76"></a></var><br>
<blockquote><p>Show a list of currently connected vty sessions. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>list</b><var> <a name="index-list-77"></a></var><br>
<blockquote><p>List all available commands. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show version</b><var> <a name="index-show-version-78"></a></var><br>
<blockquote><p>Show the current version of Quagga and its build host information. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show logging</b><var> <a name="index-show-logging-79"></a></var><br>
<blockquote><p>Shows the current configuration of the logging system.  This includes
the status of all logging destinations. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>logmsg </b><var>level</var> <var>message</var><var> <a name="index-logmsg-_0040var_007blevel_007d-_0040var_007bmessage_007d-80"></a></var><br>
<blockquote><p>Send a message to all logging destinations that are enabled for messages
of the given severity. 
</p></blockquote></div>

<div class="node">
<a name="Common-Invocation-Options"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Virtual-Terminal-Interfaces">Virtual Terminal Interfaces</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Config-Commands">Config Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic-commands">Basic commands</a>

</div>

<h3 class="section">3.3 Common Invocation Options</h3>

<!-- COMMON_OPTIONS -->
<!-- OPTIONS section of the man page -->
<p>These options apply to all Quagga daemons.

     <dl>
<dt>&lsquo;<samp><span class="samp">-d</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--daemon</span></samp>&rsquo;<dd>Runs in daemon mode.

     <br><dt>&lsquo;<samp><span class="samp">-f </span><var>file</var></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--config_file=</span><var>file</var></samp>&rsquo;<dd>Set configuration file name.

     <br><dt>&lsquo;<samp><span class="samp">-h</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--help</span></samp>&rsquo;<dd>Display this help and exit.

     <br><dt>&lsquo;<samp><span class="samp">-i </span><var>file</var></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--pid_file=</span><var>file</var></samp>&rsquo;<dd>
Upon startup the process identifier of the daemon is written to a file,
typically in <samp><span class="file">/var/run</span></samp>.  This file can be used by the init system
to implement commands such as <samp><span class="command">.../init.d/zebra status</span></samp>,
<samp><span class="command">.../init.d/zebra restart</span></samp> or <samp><span class="command">.../init.d/zebra
stop</span></samp>.

     <p>The file name is an run-time option rather than a configure-time option
so that multiple routing daemons can be run simultaneously.  This is
useful when using Quagga to implement a routing looking glass.  One
machine can be used to collect differing routing views from differing
points in the network.

     <br><dt>&lsquo;<samp><span class="samp">-A </span><var>address</var></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--vty_addr=</span><var>address</var></samp>&rsquo;<dd>Set the VTY local address to bind to. If set, the VTY socket will only
be bound to this address.

     <br><dt>&lsquo;<samp><span class="samp">-P </span><var>port</var></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--vty_port=</span><var>port</var></samp>&rsquo;<dd>Set the VTY TCP port number. If set to 0 then the TCP VTY sockets will not
be opened.

     <br><dt>&lsquo;<samp><span class="samp">-u </span><var>user</var></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--vty_addr=</span><var>user</var></samp>&rsquo;<dd>Set the user and group to run as.

     <br><dt>&lsquo;<samp><span class="samp">-v</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--version</span></samp>&rsquo;<dd>Print program version.

   </dl>

<div class="node">
<a name="Virtual-Terminal-Interfaces"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Common-Invocation-Options">Common Invocation Options</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Basic-commands">Basic commands</a>

</div>

<h3 class="section">3.4 Virtual Terminal Interfaces</h3>

<p>VTY &ndash; Virtual Terminal [aka TeletYpe] Interface is a command line
interface (CLI) for user interaction with the routing daemon.

<ul class="menu">
<li><a accesskey="1" href="#VTY-Overview">VTY Overview</a>:                 Basics about VTYs
<li><a accesskey="2" href="#VTY-Modes">VTY Modes</a>:                    View, Enable, and Other VTY modes
<li><a accesskey="3" href="#VTY-CLI-Commands">VTY CLI Commands</a>:             Commands for movement, edition, and management
</ul>

<div class="node">
<a name="VTY-Overview"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-Modes">VTY Modes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Virtual-Terminal-Interfaces">Virtual Terminal Interfaces</a>

</div>

<h4 class="subsection">3.4.1 VTY Overview</h4>

<p>VTY stands for Virtual TeletYpe interface.  It means you can connect to
the daemon via the telnet protocol.

   <p>To enable a VTY interface, you have to setup a VTY password.  If there
is no VTY password, one cannot connect to the VTY interface at all.

<pre class="example">     % telnet localhost 2601
     Trying 127.0.0.1...
     Connected to localhost.
     Escape character is '^]'.
     
     Hello, this is Quagga (version 0.99.22)
     Copyright &copy; 1999-2005 Kunihiro Ishiguro, et al.
     
     User Access Verification
     
     Password: XXXXX
     Router&gt; ?
       enable            Turn on privileged commands
       exit              Exit current mode and down to previous mode
       help              Description of the interactive help system
       list              Print command list
       show              Show running system information
       who               Display who is on a vty
     Router&gt; enable
     Password: XXXXX
     Router# configure terminal
     Router(config)# interface eth0
     Router(config-if)# ip address 10.0.0.1/8
     Router(config-if)# ^Z
     Router#
</pre>
   <p>'?' is very useful for looking up commands.

<div class="node">
<a name="VTY-Modes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-CLI-Commands">VTY CLI Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-Overview">VTY Overview</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Virtual-Terminal-Interfaces">Virtual Terminal Interfaces</a>

</div>

<h4 class="subsection">3.4.2 VTY Modes</h4>

<p>There are three basic VTY modes:

<ul class="menu">
<li><a accesskey="1" href="#VTY-View-Mode">VTY View Mode</a>:                Mode for read-only interaction
<li><a accesskey="2" href="#VTY-Enable-Mode">VTY Enable Mode</a>:              Mode for read-write interaction
<li><a accesskey="3" href="#VTY-Other-Modes">VTY Other Modes</a>:              Special modes (tftp, etc)
</ul>

   <p>There are commands that may be restricted to specific VTY modes.

<div class="node">
<a name="VTY-View-Mode"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-Enable-Mode">VTY Enable Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-Modes">VTY Modes</a>

</div>

<h5 class="subsubsection">3.4.2.1 VTY View Mode</h5>

<!-- to be written (gpoul) -->
<p>This mode is for read-only access to the CLI. One may exit the mode by
leaving the system, or by entering <code>enable</code> mode.

<div class="node">
<a name="VTY-Enable-Mode"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-Other-Modes">VTY Other Modes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-View-Mode">VTY View Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-Modes">VTY Modes</a>

</div>

<h5 class="subsubsection">3.4.2.2 VTY Enable Mode</h5>

<!-- to be written (gpoul) -->
<p>This mode is for read-write access to the CLI. One may exit the mode by
leaving the system, or by escaping to view mode.

<div class="node">
<a name="VTY-Other-Modes"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-Enable-Mode">VTY Enable Mode</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-Modes">VTY Modes</a>

</div>

<h5 class="subsubsection">3.4.2.3 VTY Other Modes</h5>

<!-- to be written (gpoul) -->
<p>This page is for describing other modes.

<div class="node">
<a name="VTY-CLI-Commands"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-Modes">VTY Modes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Virtual-Terminal-Interfaces">Virtual Terminal Interfaces</a>

</div>

<h4 class="subsection">3.4.3 VTY CLI Commands</h4>

<p>Commands that you may use at the command-line are described in the following
three subsubsections.

<ul class="menu">
<li><a accesskey="1" href="#CLI-Movement-Commands">CLI Movement Commands</a>:        Commands for moving the cursor about
<li><a accesskey="2" href="#CLI-Editing-Commands">CLI Editing Commands</a>:         Commands for changing text
<li><a accesskey="3" href="#CLI-Advanced-Commands">CLI Advanced Commands</a>:        Other commands, session management and so on
</ul>

<div class="node">
<a name="CLI-Movement-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CLI-Editing-Commands">CLI Editing Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-CLI-Commands">VTY CLI Commands</a>

</div>

<h5 class="subsubsection">3.4.3.1 CLI Movement Commands</h5>

<p>These commands are used for moving the CLI cursor. The &lt;C&gt; character
means press the Control Key.

     <dl>
<dt><kbd>C-f</kbd><dt><kbd>&lt;RIGHT&gt;</kbd><dd><a name="index-C_002df-81"></a><a name="index-g_t_0040key_007bRIGHT_007d-82"></a>Move forward one character.

     <br><dt><kbd>C-b</kbd><dt><kbd>&lt;LEFT&gt;</kbd><dd><a name="index-C_002db-83"></a><a name="index-g_t_0040key_007bLEFT_007d-84"></a>Move backward one character.

     <br><dt><kbd>M-f</kbd><dd><a name="index-M_002df-85"></a>Move forward one word.

     <br><dt><kbd>M-b</kbd><dd><a name="index-M_002db-86"></a>Move backward one word.

     <br><dt><kbd>C-a</kbd><dd><a name="index-C_002da-87"></a>Move to the beginning of the line.

     <br><dt><kbd>C-e</kbd><dd><a name="index-C_002de-88"></a>Move to the end of the line.

   </dl>

<div class="node">
<a name="CLI-Editing-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#CLI-Advanced-Commands">CLI Advanced Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CLI-Movement-Commands">CLI Movement Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-CLI-Commands">VTY CLI Commands</a>

</div>

<h5 class="subsubsection">3.4.3.2 CLI Editing Commands</h5>

<p>These commands are used for editing text on a line. The &lt;C&gt;
character means press the Control Key.

     <dl>
<dt><kbd>C-h</kbd><dt><kbd>&lt;DEL&gt;</kbd><dd><a name="index-C_002dh-89"></a><a name="index-g_t_0040key_007bDEL_007d-90"></a>Delete the character before point.

     <br><dt><kbd>C-d</kbd><dd><a name="index-C_002dd-91"></a>Delete the character after point.

     <br><dt><kbd>M-d</kbd><dd><a name="index-M_002dd-92"></a>Forward kill word.

     <br><dt><kbd>C-w</kbd><dd><a name="index-C_002dw-93"></a>Backward kill word.

     <br><dt><kbd>C-k</kbd><dd><a name="index-C_002dk-94"></a>Kill to the end of the line.

     <br><dt><kbd>C-u</kbd><dd><a name="index-C_002du-95"></a>Kill line from the beginning, erasing input.

     <br><dt><kbd>C-t</kbd><dd><a name="index-C_002dt-96"></a>Transpose character.

   </dl>

<div class="node">
<a name="CLI-Advanced-Commands"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#CLI-Editing-Commands">CLI Editing Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-CLI-Commands">VTY CLI Commands</a>

</div>

<h5 class="subsubsection">3.4.3.3 CLI Advanced Commands</h5>

<p>There are several additional CLI commands for command line completions,
insta-help, and VTY session management.

     <dl>
<dt><kbd>C-c</kbd><dd><a name="index-C_002dc-97"></a>Interrupt current input and moves to the next line.

     <br><dt><kbd>C-z</kbd><dd><a name="index-C_002dz-98"></a>End current configuration session and move to top node.

     <br><dt><kbd>C-n</kbd><dt><kbd>&lt;DOWN&gt;</kbd><dd><a name="index-C_002dn-99"></a><a name="index-g_t_0040key_007bDOWN_007d-100"></a>Move down to next line in the history buffer.

     <br><dt><kbd>C-p</kbd><dt><kbd>&lt;UP&gt;</kbd><dd><a name="index-C_002dp-101"></a><a name="index-g_t_0040key_007bUP_007d-102"></a>Move up to previous line in the history buffer.

     <br><dt><kbd>TAB</kbd><dd><a name="index-g_t_0040key_007bTAB_007d-103"></a>Use command line completion by typing &lt;TAB&gt;.

     <br><dt><dd><a name="index-g_t_003f-104"></a>You can use command line help by typing <code>help</code> at the beginning of
the line.  Typing <kbd>?</kbd> at any point in the line will show possible
completions.

   </dl>

<div class="node">
<a name="Zebra"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP">RIP</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Basic-commands">Basic commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">4 Zebra</h2>

<!-- SYNOPSIS -->
<p><samp><span class="command">zebra</span></samp> is an IP routing manager.  It provides kernel routing
table updates, interface lookups, and redistribution of routes between
different routing protocols.

<ul class="menu">
<li><a accesskey="1" href="#Invoking-zebra">Invoking zebra</a>:               Running the program
<li><a accesskey="2" href="#Interface-Commands">Interface Commands</a>:           Commands for zebra interfaces
<li><a accesskey="3" href="#Static-Route-Commands">Static Route Commands</a>:        Commands for adding static routes
<li><a accesskey="4" href="#zebra-Route-Filtering">zebra Route Filtering</a>:        Commands for zebra route filtering
<li><a accesskey="5" href="#zebra-FIB-push-interface">zebra FIB push interface</a>:     Interface to optional FPM component
<li><a accesskey="6" href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a>:   Commands for zebra's VTY
</ul>

<div class="node">
<a name="Invoking-zebra"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Interface-Commands">Interface Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Zebra">Zebra</a>

</div>

<h3 class="section">4.1 Invoking zebra</h3>

<p>Besides the common invocation options (see <a href="#Common-Invocation-Options">Common Invocation Options</a>), the
<samp><span class="command">zebra</span></samp> specific invocation options are listed below.

     <dl>
<dt>&lsquo;<samp><span class="samp">-b</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--batch</span></samp>&rsquo;<dd>Runs in batch mode.  <samp><span class="command">zebra</span></samp> parses configuration file and terminates
immediately.

     <br><dt>&lsquo;<samp><span class="samp">-k</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--keep_kernel</span></samp>&rsquo;<dd>When zebra starts up, don't delete old self inserted routes.

     <br><dt>&lsquo;<samp><span class="samp">-r</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--retain</span></samp>&rsquo;<dd>When program terminates, retain routes added by zebra.

   </dl>

<div class="node">
<a name="Interface-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Static-Route-Commands">Static Route Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-zebra">Invoking zebra</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Zebra">Zebra</a>

</div>

<h3 class="section">4.2 Interface Commands</h3>

<div class="defun">
&mdash; Command: <b>interface </b><var>ifname</var><var> <a name="index-interface-_0040var_007bifname_007d-105"></a></var><br>
     </div>

<div class="defun">
&mdash; Interface Command: <b>shutdown</b><var> <a name="index-shutdown-106"></a></var><br>
&mdash; Interface Command: <b>no shutdown</b><var> <a name="index-no-shutdown-107"></a></var><br>
<blockquote><p>Up or down the current interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip address </b><var>address/prefix</var><var> <a name="index-ip-address-_0040var_007baddress_002fprefix_007d-108"></a></var><br>
&mdash; Interface Command: <b>ipv6 address </b><var>address/prefix</var><var> <a name="index-ipv6-address-_0040var_007baddress_002fprefix_007d-109"></a></var><br>
&mdash; Interface Command: <b>no ip address </b><var>address/prefix</var><var> <a name="index-no-ip-address-_0040var_007baddress_002fprefix_007d-110"></a></var><br>
&mdash; Interface Command: <b>no ipv6 address </b><var>address/prefix</var><var> <a name="index-no-ipv6-address-_0040var_007baddress_002fprefix_007d-111"></a></var><br>
<blockquote><p>Set the IPv4 or IPv6 address/prefix for the interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip address </b><var>address/prefix</var><b> secondary</b><var> <a name="index-ip-address-_0040var_007baddress_002fprefix_007d-secondary-112"></a></var><br>
&mdash; Interface Command: <b>no ip address </b><var>address/prefix</var><b> secondary</b><var> <a name="index-no-ip-address-_0040var_007baddress_002fprefix_007d-secondary-113"></a></var><br>
<blockquote><p>Set the secondary flag for this address. This causes ospfd to not treat the
address as a distinct subnet. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>description </b><var>description</var><b> ...</b><var> <a name="index-description-_0040var_007bdescription_007d-_002e_002e_002e-114"></a></var><br>
<blockquote><p>Set description for the interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>multicast</b><var> <a name="index-multicast-115"></a></var><br>
&mdash; Interface Command: <b>no multicast</b><var> <a name="index-no-multicast-116"></a></var><br>
<blockquote><p>Enable or disables multicast flag for the interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>bandwidth &lt;1-10000000&gt;</b><var> <a name="index-bandwidth-_003c1_002d10000000_003e-117"></a></var><br>
&mdash; Interface Command: <b>no bandwidth &lt;1-10000000&gt;</b><var> <a name="index-no-bandwidth-_003c1_002d10000000_003e-118"></a></var><br>
<blockquote><p>Set bandwidth value of the interface in kilobits/sec.  This is for
calculating OSPF cost. This command does not affect the actual device
configuration. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>link-detect</b><var> <a name="index-link_002ddetect-119"></a></var><br>
&mdash; Interface Command: <b>no link-detect</b><var> <a name="index-no-link_002ddetect-120"></a></var><br>
<blockquote><p>Enable/disable link-detect on platforms which support this. Currently
only Linux and Solaris, and only where network interface drivers support reporting
link-state via the IFF_RUNNING flag. 
</p></blockquote></div>

<div class="node">
<a name="Static-Route-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#zebra-Route-Filtering">zebra Route Filtering</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Interface-Commands">Interface Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Zebra">Zebra</a>

</div>

<h3 class="section">4.3 Static Route Commands</h3>

<p>Static routing is a very fundamental feature of routing technology.  It
defines static prefix and gateway.

<div class="defun">
&mdash; Command: <b>ip route </b><var>network</var> <var>gateway</var><var> <a name="index-ip-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-121"></a></var><br>
<blockquote><p><var>network</var> is destination prefix with format of A.B.C.D/M. 
<var>gateway</var> is gateway for the prefix.  When <var>gateway</var> is
A.B.C.D format.  It is taken as a IPv4 address gateway.  Otherwise it
is treated as an interface name. If the interface name is <var>null0</var> then
zebra installs a blackhole route.

     <pre class="example">          ip route 10.0.0.0/8 10.0.0.2
          ip route 10.0.0.0/8 ppp0
          ip route 10.0.0.0/8 null0
</pre>
        <p>First example defines 10.0.0.0/8 static route with gateway 10.0.0.2. 
Second one defines the same prefix but with gateway to interface ppp0. The
third install a blackhole route. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>ip route </b><var>network</var> <var>netmask</var> <var>gateway</var><var> <a name="index-ip-route-_0040var_007bnetwork_007d-_0040var_007bnetmask_007d-_0040var_007bgateway_007d-122"></a></var><br>
<blockquote><p>This is alternate version of above command.  When <var>network</var> is
A.B.C.D format, user must define <var>netmask</var> value with A.B.C.D
format.  <var>gateway</var> is same option as above command

     <pre class="example">          ip route 10.0.0.0 255.255.255.0 10.0.0.2
          ip route 10.0.0.0 255.255.255.0 ppp0
          ip route 10.0.0.0 255.255.255.0 null0
</pre>
        <p>These statements are equivalent to those in the previous example. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>ip route </b><var>network</var> <var>gateway</var> <var>distance</var><var> <a name="index-ip-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-_0040var_007bdistance_007d-123"></a></var><br>
<blockquote><p>Installs the route with the specified distance. 
</p></blockquote></div>

   <p>Multiple nexthop static route

<pre class="example">     ip route 10.0.0.1/32 10.0.0.2
     ip route 10.0.0.1/32 10.0.0.3
     ip route 10.0.0.1/32 eth0
</pre>
   <p>If there is no route to 10.0.0.2 and 10.0.0.3, and interface eth0
is reachable, then the last route is installed into the kernel.

   <p>If zebra has been compiled with multipath support, and both 10.0.0.2 and
10.0.0.3 are reachable, zebra will install a multipath route via both
nexthops, if the platform supports this.

<pre class="example">     zebra&gt; show ip route
     S&gt;  10.0.0.1/32 [1/0] via 10.0.0.2 inactive
                           via 10.0.0.3 inactive
       *                   is directly connected, eth0
</pre>
   <pre class="example">     ip route 10.0.0.0/8 10.0.0.2
     ip route 10.0.0.0/8 10.0.0.3
     ip route 10.0.0.0/8 null0 255
</pre>
   <p>This will install a multihop route via the specified next-hops if they are
reachable, as well as a high-metric blackhole route, which can be useful to
prevent traffic destined for a prefix to match less-specific routes (eg
default) should the specified gateways not be reachable. Eg:

<pre class="example">     zebra&gt; show ip route 10.0.0.0/8
     Routing entry for 10.0.0.0/8
       Known via "static", distance 1, metric 0
         10.0.0.2 inactive
         10.0.0.3 inactive
     
     Routing entry for 10.0.0.0/8
       Known via "static", distance 255, metric 0
         directly connected, Null0
</pre>
   <div class="defun">
&mdash; Command: <b>ipv6 route </b><var>network</var> <var>gateway</var><var> <a name="index-ipv6-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-124"></a></var><br>
&mdash; Command: <b>ipv6 route </b><var>network</var> <var>gateway</var> <var>distance</var><var> <a name="index-ipv6-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-_0040var_007bdistance_007d-125"></a></var><br>
<blockquote><p>These behave similarly to their ipv4 counterparts. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>table </b><var>tableno</var><var> <a name="index-table-_0040var_007btableno_007d-126"></a></var><br>
<blockquote><p>Select the primary kernel routing table to be used.  This only works
for kernels supporting multiple routing tables (like GNU/Linux 2.2.x
and later).  After setting <var>tableno</var> with this command,
static routes defined after this are added to the specified table. 
</p></blockquote></div>

<div class="node">
<a name="zebra-Route-Filtering"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#zebra-FIB-push-interface">zebra FIB push interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Static-Route-Commands">Static Route Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Zebra">Zebra</a>

</div>

<h3 class="section">4.4 zebra Route Filtering</h3>

<p>Zebra supports <samp><span class="command">prefix-list</span></samp> and <samp><span class="command">route-map</span></samp> to match
routes received from other quagga components.  The
<samp><span class="command">permit</span></samp>/<samp><span class="command">deny</span></samp> facilities provided by these commands
can be used to filter which routes zebra will install in the kernel.

<div class="defun">
&mdash; Command: <b>ip protocol </b><var>protocol</var><b> route-map </b><var>routemap</var><var> <a name="index-ip-protocol-_0040var_007bprotocol_007d-route_002dmap-_0040var_007broutemap_007d-127"></a></var><br>
<blockquote><p>Apply a route-map filter to routes for the specified protocol. <var>protocol</var>
can be <b>any</b> or one of
<b>system</b>,
<b>kernel</b>,
<b>connected</b>,
<b>static</b>,
<b>rip</b>,
<b>ripng</b>,
<b>ospf</b>,
<b>ospf6</b>,
<b>isis</b>,
<b>bgp</b>,
<b>hsls</b>. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>set src </b><var>address</var><var><a name="index-set-src-_0040var_007baddress_007d-128"></a></var><br>
<blockquote><p>Within a route-map, set the preferred source address for matching routes
when installing in the kernel. 
</p></blockquote></div>

<pre class="example">     The following creates a prefix-list that matches all addresses, a route-map
     that sets the preferred source address, and applies the route-map to all
     <samp><span class="command">rip</span></samp> routes.
     
     ip prefix-list ANY permit 0.0.0.0/0 le 32
     route-map RM1 permit 10
          match ip address prefix-list ANY
          set src 10.0.0.1
     
     ip protocol rip route-map RM1
</pre>
   <div class="node">
<a name="zebra-FIB-push-interface"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#zebra-Route-Filtering">zebra Route Filtering</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Zebra">Zebra</a>

</div>

<h3 class="section">4.5 zebra FIB push interface</h3>

<p>Zebra supports a 'FIB push' interface that allows an external
component to learn the forwarding information computed by the Quagga
routing suite.

   <p>In Quagga, the Routing Information Base (RIB) resides inside
zebra. Routing protocols communicate their best routes to zebra, and
zebra computes the best route across protocols for each prefix. This
latter information makes up the Forwarding Information Base
(FIB). Zebra feeds the FIB to the kernel, which allows the IP stack in
the kernel to forward packets according to the routes computed by
Quagga. The kernel FIB is updated in an OS-specific way. For example,
the <code>netlink</code> interface is used on Linux, and route sockets are
used on FreeBSD.

   <p>The FIB push interface aims to provide a cross-platform mechanism to
support scenarios where the router has a forwarding path that is
distinct from the kernel, commonly a hardware-based fast path. In
these cases, the FIB needs to be maintained reliably in the fast path
as well. We refer to the component that programs the forwarding plane
(directly or indirectly) as the Forwarding Plane Manager or FPM.

   <p>The FIB push interface comprises of a TCP connection between zebra and
the FPM. The connection is initiated by zebra &ndash; that is, the FPM acts
as the TCP server.

   <p>The relevant zebra code kicks in when zebra is configured with the
<code>--enable-fpm</code> flag. Zebra periodically attempts to connect to
the well-known FPM port. Once the connection is up, zebra starts
sending messages containing routes over the socket to the FPM. Zebra
sends a complete copy of the forwarding table to the FPM, including
routes that it may have picked up from the kernel. The existing
interaction of zebra with the kernel remains unchanged &ndash; that is, the
kernel continues to receive FIB updates as before.

   <p>The format of the messages exchanged with the FPM is defined by the
file <samp><span class="file">fpm/fpm.h</span></samp> in the quagga tree.

   <p>The zebra FPM interface uses replace semantics. That is, if a 'route
add' message for a prefix is followed by another 'route add' message,
the information in the second message is complete by itself, and
replaces the information sent in the first message.

   <p>If the connection to the FPM goes down for some reason, zebra sends
the FPM a complete copy of the forwarding table(s) when it reconnects.

<div class="node">
<a name="zebra-Terminal-Mode-Commands"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#zebra-FIB-push-interface">zebra FIB push interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Zebra">Zebra</a>

</div>

<h3 class="section">4.6 zebra Terminal Mode Commands</h3>

<div class="defun">
&mdash; Command: <b>show ip route</b><var> <a name="index-show-ip-route-129"></a></var><br>
<blockquote><p>Display current routes which zebra holds in its database.

     <pre class="example">          Router# show ip route
          Codes: K - kernel route, C - connected, S - static, R - RIP,
                 B - BGP * - FIB route.
          
          K* 0.0.0.0/0              203.181.89.241
          S  0.0.0.0/0              203.181.89.1
          C* 127.0.0.0/8            lo
          C* 203.181.89.240/28      eth0
</pre>
        </blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6 route</b><var> <a name="index-show-ipv6-route-130"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show interface</b><var> <a name="index-show-interface-131"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list [</b><var>name</var><b>]</b><var> <a name="index-show-ip-prefix_002dlist-_005b_0040var_007bname_007d_005d-132"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show route-map [</b><var>name</var><b>]</b><var> <a name="index-show-route_002dmap-_005b_0040var_007bname_007d_005d-133"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip protocol</b><var> <a name="index-show-ip-protocol-134"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ipforward</b><var> <a name="index-show-ipforward-135"></a></var><br>
<blockquote><p>Display whether the host's IP forwarding function is enabled or not. 
Almost any UNIX kernel can be configured with IP forwarding disabled. 
If so, the box can't work as a router. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6forward</b><var> <a name="index-show-ipv6forward-136"></a></var><br>
<blockquote><p>Display whether the host's IP v6 forwarding is enabled or not. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show zebra fpm stats</b><var> <a name="index-show-zebra-fpm-stats-137"></a></var><br>
<blockquote><p>Display statistics related to the zebra code that interacts with the
optional Forwarding Plane Manager (FPM) component. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>clear zebra fpm stats</b><var> <a name="index-clear-zebra-fpm-stats-138"></a></var><br>
<blockquote><p>Reset statistics related to the zebra code that interacts with the
optional Forwarding Plane Manager (FPM) component. 
</p></blockquote></div>

<!-- *-texinfo-*- -->
<!-- This is part of the Quagga Manual. -->
<!-- @value{COPYRIGHT_STR} -->
<!-- See file quagga.texi for copying conditions. -->
<div class="node">
<a name="RIP"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIPng">RIPng</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Zebra">Zebra</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">5 RIP</h2>

<p>RIP &ndash; Routing Information Protocol is widely deployed interior gateway
protocol.  RIP was developed in the 1970s at Xerox Labs as part of the
XNS routing protocol.  RIP is a <dfn>distance-vector</dfn> protocol and is
based on the <dfn>Bellman-Ford</dfn> algorithms.  As a distance-vector
protocol, RIP router send updates to its neighbors periodically, thus
allowing the convergence to a known topology.  In each update, the
distance to any given network will be broadcasted to its neighboring
router.

   <p><samp><span class="command">ripd</span></samp> supports RIP version 2 as described in RFC2453 and RIP
version 1 as described in RFC1058.

<ul class="menu">
<li><a accesskey="1" href="#Starting-and-Stopping-ripd">Starting and Stopping ripd</a>
<li><a accesskey="2" href="#RIP-Configuration">RIP Configuration</a>
<li><a accesskey="3" href="#RIP-Version-Control">RIP Version Control</a>
<li><a accesskey="4" href="#How-to-Announce-RIP-route">How to Announce RIP route</a>
<li><a accesskey="5" href="#Filtering-RIP-Routes">Filtering RIP Routes</a>
<li><a accesskey="6" href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a>
<li><a accesskey="7" href="#RIP-distance">RIP distance</a>
<li><a accesskey="8" href="#RIP-route_002dmap">RIP route-map</a>
<li><a accesskey="9" href="#RIP-Authentication">RIP Authentication</a>
<li><a href="#RIP-Timers">RIP Timers</a>
<li><a href="#Show-RIP-Information">Show RIP Information</a>
<li><a href="#RIP-Debug-Commands">RIP Debug Commands</a>
</ul>

<div class="node">
<a name="Starting-and-Stopping-ripd"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-Configuration">RIP Configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.1 Starting and Stopping ripd</h3>

<p>The default configuration file name of <samp><span class="command">ripd</span></samp>'s is
<samp><span class="file">ripd.conf</span></samp>.  When invocation <samp><span class="command">ripd</span></samp> searches directory
/etc/quagga.  If <samp><span class="file">ripd.conf</span></samp> is not there next
search current directory.

   <p>RIP uses UDP port 520 to send and receive RIP packets.  So the user must have
the capability to bind the port, generally this means that the user must
have superuser privileges.  RIP protocol requires interface information
maintained by <samp><span class="command">zebra</span></samp> daemon.  So running <samp><span class="command">zebra</span></samp>
is mandatory to run <samp><span class="command">ripd</span></samp>.  Thus minimum sequence for running
RIP is like below:

<pre class="example">     # zebra -d
     # ripd -d
</pre>
   <p>Please note that <samp><span class="command">zebra</span></samp> must be invoked before <samp><span class="command">ripd</span></samp>.

   <p>To stop <samp><span class="command">ripd</span></samp>.  Please use <samp><span class="command">kill `cat
/var/run/ripd.pid`</span></samp>.  Certain signals have special meaningss to <samp><span class="command">ripd</span></samp>.

     <dl>
<dt>&lsquo;<samp><span class="samp">SIGHUP</span></samp>&rsquo;<dd>Reload configuration file <samp><span class="file">ripd.conf</span></samp>.  All configurations are
reseted.  All routes learned so far are cleared and removed from routing
table. 
<br><dt>&lsquo;<samp><span class="samp">SIGUSR1</span></samp>&rsquo;<dd>Rotate <samp><span class="command">ripd</span></samp> logfile. 
<br><dt>&lsquo;<samp><span class="samp">SIGINT</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">SIGTERM</span></samp>&rsquo;<dd><samp><span class="command">ripd</span></samp> sweeps all installed RIP routes then terminates properly. 
</dl>

   <p><samp><span class="command">ripd</span></samp> invocation options.  Common options that can be specified
(see <a href="#Common-Invocation-Options">Common Invocation Options</a>).

     <dl>
<dt>&lsquo;<samp><span class="samp">-r</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--retain</span></samp>&rsquo;<dd>When the program terminates, retain routes added by <samp><span class="command">ripd</span></samp>. 
</dl>

<ul class="menu">
<li><a accesskey="1" href="#RIP-netmask">RIP netmask</a>
</ul>

<div class="node">
<a name="RIP-netmask"></a>
<p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#Starting-and-Stopping-ripd">Starting and Stopping ripd</a>

</div>

<h4 class="subsection">5.1.1 RIP netmask</h4>

<p>The netmask features of <samp><span class="command">ripd</span></samp> support both version 1 and version 2 of
RIP.  Version 1 of RIP originally contained no netmask information.  In
RIP version 1, network classes were originally used to determine the
size of the netmask.  Class A networks use 8 bits of mask, Class B
networks use 16 bits of masks, while Class C networks use 24 bits of
mask.  Today, the most widely used method of a network mask is assigned
to the packet on the basis of the interface that received the packet. 
Version 2 of RIP supports a variable length subnet mask (VLSM).  By
extending the subnet mask, the mask can be divided and reused.  Each
subnet can be used for different purposes such as large to middle size
LANs and WAN links.  Quagga <samp><span class="command">ripd</span></samp> does not support the non-sequential
netmasks that are included in RIP Version 2.

   <p>In a case of similar information with the same prefix and metric, the
old information will be suppressed.  Ripd does not currently support
equal cost multipath routing.

<div class="node">
<a name="RIP-Configuration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-Version-Control">RIP Version Control</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Starting-and-Stopping-ripd">Starting and Stopping ripd</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.2 RIP Configuration</h3>

<div class="defun">
&mdash; Command: <b>router rip</b><var> <a name="index-router-rip-139"></a></var><br>
<blockquote><p>The <code>router rip</code> command is necessary to enable RIP.  To disable
RIP, use the <code>no router rip</code> command.  RIP must be enabled before
carrying out any of the RIP commands. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no router rip</b><var> <a name="index-no-router-rip-140"></a></var><br>
<blockquote><p>Disable RIP. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP Command: <b>network </b><var>network</var><var> <a name="index-network-_0040var_007bnetwork_007d-141"></a></var><br>
&mdash; RIP Command: <b>no network </b><var>network</var><var> <a name="index-no-network-_0040var_007bnetwork_007d-142"></a></var><br>
<blockquote><p>Set the RIP enable interface by <var>network</var>.  The interfaces which
have addresses matching with <var>network</var> are enabled.

        <p>This group of commands either enables or disables RIP interfaces between
certain numbers of a specified network address.  For example, if the
network for 10.0.0.0/24 is RIP enabled, this would result in all the
addresses from 10.0.0.0 to 10.0.0.255 being enabled for RIP.  The <code>no
network</code> command will disable RIP for the specified network. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP Command: <b>network </b><var>ifname</var><var> <a name="index-network-_0040var_007bifname_007d-143"></a></var><br>
&mdash; RIP Command: <b>no network </b><var>ifname</var><var> <a name="index-no-network-_0040var_007bifname_007d-144"></a></var><br>
<blockquote><p>Set a RIP enabled interface by <var>ifname</var>.  Both the sending and
receiving of RIP packets will be enabled on the port specified in the
<code>network ifname</code> command.  The <code>no network ifname</code> command will disable
RIP on the specified interface. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP Command: <b>neighbor </b><var>a.b.c.d</var><var> <a name="index-neighbor-_0040var_007ba_002eb_002ec_002ed_007d-145"></a></var><br>
&mdash; RIP Command: <b>no neighbor </b><var>a.b.c.d</var><var> <a name="index-no-neighbor-_0040var_007ba_002eb_002ec_002ed_007d-146"></a></var><br>
<blockquote><p>Specify RIP neighbor.  When a neighbor doesn't understand multicast,
this command is used to specify neighbors.  In some cases, not all
routers will be able to understand multicasting, where packets are sent
to a network or a group of addresses.  In a situation where a neighbor
cannot process multicast packets, it is necessary to establish a direct
link between routers.  The neighbor command allows the network
administrator to specify a router as a RIP neighbor.  The <code>no
neighbor a.b.c.d</code> command will disable the RIP neighbor. 
</p></blockquote></div>

   <p>Below is very simple RIP configuration.  Interface <code>eth0</code> and
interface which address match to <code>10.0.0.0/8</code> are RIP enabled.

<pre class="example">     !
     router rip
      network 10.0.0.0/8
      network eth0
     !
</pre>
   <p>Passive interface

<div class="defun">
&mdash; RIP command: <b>passive-interface (</b><var>IFNAME</var><b>|default)</b><var> <a name="index-passive_002dinterface-_0028_0040var_007bIFNAME_007d_007cdefault_0029-147"></a></var><br>
&mdash; RIP command: <b>no passive-interface </b><var>IFNAME</var><var> <a name="index-no-passive_002dinterface-_0040var_007bIFNAME_007d-148"></a></var><br>
<blockquote><p>This command sets the specified interface to passive mode.  On passive mode
interface, all receiving packets are processed as normal and ripd does
not send either multicast or unicast RIP packets except to RIP neighbors
specified with <code>neighbor</code> command. The interface may be specified
as <var>default</var> to make ripd default to passive on all interfaces.

        <p>The default is to be passive on all interfaces. 
</p></blockquote></div>

   <p>RIP split-horizon

<div class="defun">
&mdash; Interface command: <b>ip split-horizon</b><var> <a name="index-ip-split_002dhorizon-149"></a></var><br>
&mdash; Interface command: <b>no ip split-horizon</b><var> <a name="index-no-ip-split_002dhorizon-150"></a></var><br>
<blockquote><p>Control split-horizon on the interface.  Default is <code>ip
split-horizon</code>.  If you don't perform split-horizon on the interface,
please specify <code>no ip split-horizon</code>. 
</p></blockquote></div>

<div class="node">
<a name="RIP-Version-Control"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#How-to-Announce-RIP-route">How to Announce RIP route</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-Configuration">RIP Configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.3 RIP Version Control</h3>

<p>RIP can be configured to send either Version 1 or Version 2 packets. 
The default is to send RIPv2 while accepting both RIPv1 and RIPv2 (and
replying with packets of the appropriate version for REQUESTS /
triggered updates). The version to receive and send can be specified
globally, and further overriden on a per-interface basis if needs be
for send and receive seperately (see below).

   <p>It is important to note that RIPv1 can not be authenticated. Further,
if RIPv1 is enabled then RIP will reply to REQUEST packets, sending the
state of its RIP routing table to any remote routers that ask on
demand. For a more detailed discussion on the security implications of
RIPv1 see <a href="#RIP-Authentication">RIP Authentication</a>.

<div class="defun">
&mdash; RIP Command: <b>version </b><var>version</var><var> <a name="index-version-_0040var_007bversion_007d-151"></a></var><br>
<blockquote><p>Set RIP version to accept for reads and send.  <var>version</var>
can be either `1&rdquo; or `2&rdquo;.

        <p>Disabling RIPv1 by specifying version 2 is STRONGLY encouraged,
See <a href="#RIP-Authentication">RIP Authentication</a>. This may become the default in a future
release.

        <p>Default: Send Version 2, and accept either version. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP Command: <b>no version</b><var> <a name="index-no-version-152"></a></var><br>
<blockquote><p>Reset the global version setting back to the default. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface command: <b>ip rip send version </b><var>version</var><var> <a name="index-ip-rip-send-version-_0040var_007bversion_007d-153"></a></var><br>
<blockquote><p><var>version</var> can be `1', `2' or `1 2'.

        <p>This interface command overrides the global rip version setting, and
selects which version of RIP to send packets with, for this interface
specifically. Choice of RIP Version 1, RIP Version 2, or both versions. 
In the latter case, where `1 2' is specified, packets will be both
broadcast and multicast.

        <p>Default: Send packets according to the global version (version 2)
</p></blockquote></div>

<div class="defun">
&mdash; Interface command: <b>ip rip receive version </b><var>version</var><var> <a name="index-ip-rip-receive-version-_0040var_007bversion_007d-154"></a></var><br>
<blockquote><p><var>version</var> can be `1', `2' or `1 2'.

        <p>This interface command overrides the global rip version setting, and
selects which versions of RIP packets will be accepted on this
interface. Choice of RIP Version 1, RIP Version 2, or both.

        <p>Default: Accept packets according to the global setting (both 1 and 2). 
</p></blockquote></div>

<div class="node">
<a name="How-to-Announce-RIP-route"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Filtering-RIP-Routes">Filtering RIP Routes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-Version-Control">RIP Version Control</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.4 How to Announce RIP route</h3>

<div class="defun">
&mdash; RIP command: <b>redistribute kernel</b><var> <a name="index-redistribute-kernel-155"></a></var><br>
&mdash; RIP command: <b>redistribute kernel metric &lt;0-16&gt;</b><var> <a name="index-redistribute-kernel-metric-_003c0_002d16_003e-156"></a></var><br>
&mdash; RIP command: <b>redistribute kernel route-map </b><var>route-map</var><var> <a name="index-redistribute-kernel-route_002dmap-_0040var_007broute_002dmap_007d-157"></a></var><br>
&mdash; RIP command: <b>no redistribute kernel</b><var> <a name="index-no-redistribute-kernel-158"></a></var><br>
<blockquote><p><code>redistribute kernel</code> redistributes routing information from
kernel route entries into the RIP tables. <code>no redistribute kernel</code>
disables the routes. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>redistribute static</b><var> <a name="index-redistribute-static-159"></a></var><br>
&mdash; RIP command: <b>redistribute static metric &lt;0-16&gt;</b><var> <a name="index-redistribute-static-metric-_003c0_002d16_003e-160"></a></var><br>
&mdash; RIP command: <b>redistribute static route-map </b><var>route-map</var><var> <a name="index-redistribute-static-route_002dmap-_0040var_007broute_002dmap_007d-161"></a></var><br>
&mdash; RIP command: <b>no redistribute static</b><var> <a name="index-no-redistribute-static-162"></a></var><br>
<blockquote><p><code>redistribute static</code> redistributes routing information from
static route entries into the RIP tables. <code>no redistribute static</code>
disables the routes. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>redistribute connected</b><var> <a name="index-redistribute-connected-163"></a></var><br>
&mdash; RIP command: <b>redistribute connected metric &lt;0-16&gt;</b><var> <a name="index-redistribute-connected-metric-_003c0_002d16_003e-164"></a></var><br>
&mdash; RIP command: <b>redistribute connected route-map </b><var>route-map</var><var> <a name="index-redistribute-connected-route_002dmap-_0040var_007broute_002dmap_007d-165"></a></var><br>
&mdash; RIP command: <b>no redistribute connected</b><var> <a name="index-no-redistribute-connected-166"></a></var><br>
<blockquote><p>Redistribute connected routes into the RIP tables.  <code>no
redistribute connected</code> disables the connected routes in the RIP tables. 
This command redistribute connected of the interface which RIP disabled. 
The connected route on RIP enabled interface is announced by default. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>redistribute ospf</b><var> <a name="index-redistribute-ospf-167"></a></var><br>
&mdash; RIP command: <b>redistribute ospf metric &lt;0-16&gt;</b><var> <a name="index-redistribute-ospf-metric-_003c0_002d16_003e-168"></a></var><br>
&mdash; RIP command: <b>redistribute ospf route-map </b><var>route-map</var><var> <a name="index-redistribute-ospf-route_002dmap-_0040var_007broute_002dmap_007d-169"></a></var><br>
&mdash; RIP command: <b>no redistribute ospf</b><var> <a name="index-no-redistribute-ospf-170"></a></var><br>
<blockquote><p><code>redistribute ospf</code> redistributes routing information from
ospf route entries into the RIP tables. <code>no redistribute ospf</code>
disables the routes. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>redistribute bgp</b><var> <a name="index-redistribute-bgp-171"></a></var><br>
&mdash; RIP command: <b>redistribute bgp metric &lt;0-16&gt;</b><var> <a name="index-redistribute-bgp-metric-_003c0_002d16_003e-172"></a></var><br>
&mdash; RIP command: <b>redistribute bgp route-map </b><var>route-map</var><var> <a name="index-redistribute-bgp-route_002dmap-_0040var_007broute_002dmap_007d-173"></a></var><br>
&mdash; RIP command: <b>no redistribute bgp</b><var> <a name="index-no-redistribute-bgp-174"></a></var><br>
<blockquote><p><code>redistribute bgp</code> redistributes routing information from
bgp route entries into the RIP tables. <code>no redistribute bgp</code>
disables the routes. 
</p></blockquote></div>

   <p>If you want to specify RIP only static routes:

<div class="defun">
&mdash; RIP command: <b>default-information originate</b><var> <a name="index-default_002dinformation-originate-175"></a></var><br>
        </div>

<div class="defun">
&mdash; RIP command: <b>route </b><var>a.b.c.d/m</var><var> <a name="index-route-_0040var_007ba_002eb_002ec_002ed_002fm_007d-176"></a></var><br>
&mdash; RIP command: <b>no route </b><var>a.b.c.d/m</var><var> <a name="index-no-route-_0040var_007ba_002eb_002ec_002ed_002fm_007d-177"></a></var><br>
<blockquote><p>This command is specific to Quagga.  The <code>route</code> command makes a static
route only inside RIP. This command should be used only by advanced
users who are particularly knowledgeable about the RIP protocol.  In
most cases, we recommend creating a static route in Quagga and
redistributing it in RIP using <code>redistribute static</code>. 
</p></blockquote></div>

<div class="node">
<a name="Filtering-RIP-Routes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#How-to-Announce-RIP-route">How to Announce RIP route</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.5 Filtering RIP Routes</h3>

<p>RIP routes can be filtered by a distribute-list.

<div class="defun">
&mdash; Command: <b>distribute-list </b><var>access_list</var> <var>direct</var> <var>ifname</var><var> <a name="index-distribute_002dlist-_0040var_007baccess_005flist_007d-_0040var_007bdirect_007d-_0040var_007bifname_007d-178"></a></var><br>
<blockquote><p>You can apply access lists to the interface with a <code>distribute-list</code>
command.  <var>access_list</var> is the access list name.  <var>direct</var> is
&lsquo;<samp><span class="samp">in</span></samp>&rsquo; or &lsquo;<samp><span class="samp">out</span></samp>&rsquo;.  If <var>direct</var> is &lsquo;<samp><span class="samp">in</span></samp>&rsquo; the access list
is applied to input packets.

        <p>The <code>distribute-list</code> command can be used to filter the RIP path. 
<code>distribute-list</code> can apply access-lists to a chosen interface. 
First, one should specify the access-list.  Next, the name of the
access-list is used in the distribute-list command.  For example, in the
following configuration &lsquo;<samp><span class="samp">eth0</span></samp>&rsquo; will permit only the paths that
match the route 10.0.0.0/8

     <pre class="example">          !
          router rip
           distribute-list private in eth0
          !
          access-list private permit 10 10.0.0.0/8
          access-list private deny any
          !
</pre>
        </blockquote></div>

   <p><code>distribute-list</code> can be applied to both incoming and outgoing data.

<div class="defun">
&mdash; Command: <b>distribute-list prefix </b><var>prefix_list</var><b> (in|out) </b><var>ifname</var><var> <a name="index-distribute_002dlist-prefix-_0040var_007bprefix_005flist_007d-_0028in_007cout_0029-_0040var_007bifname_007d-179"></a></var><br>
<blockquote><p>You can apply prefix lists to the interface with a
<code>distribute-list</code> command.  <var>prefix_list</var> is the prefix list
name.  Next is the direction of &lsquo;<samp><span class="samp">in</span></samp>&rsquo; or &lsquo;<samp><span class="samp">out</span></samp>&rsquo;.  If
<var>direct</var> is &lsquo;<samp><span class="samp">in</span></samp>&rsquo; the access list is applied to input packets. 
</p></blockquote></div>

<div class="node">
<a name="RIP-Metric-Manipulation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-distance">RIP distance</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Filtering-RIP-Routes">Filtering RIP Routes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.6 RIP Metric Manipulation</h3>

<p>RIP metric is a value for distance for the network.  Usually
<samp><span class="command">ripd</span></samp> increment the metric when the network information is
received.  Redistributed routes' metric is set to 1.

<div class="defun">
&mdash; RIP command: <b>default-metric &lt;1-16&gt;</b><var> <a name="index-default_002dmetric-_003c1_002d16_003e-180"></a></var><br>
&mdash; RIP command: <b>no default-metric &lt;1-16&gt;</b><var> <a name="index-no-default_002dmetric-_003c1_002d16_003e-181"></a></var><br>
<blockquote><p>This command modifies the default metric value for redistributed routes.  The
default value is 1.  This command does not affect connected route
even if it is redistributed by <samp><span class="command">redistribute connected</span></samp>.  To modify
connected route's metric value, please use <samp><span class="command">redistribute
connected metric</span></samp> or <samp><span class="command">route-map</span></samp>.  <samp><span class="command">offset-list</span></samp> also
affects connected routes. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>offset-list </b><var>access-list</var><b> (in|out)</b><var> <a name="index-offset_002dlist-_0040var_007baccess_002dlist_007d-_0028in_007cout_0029-182"></a></var><br>
&mdash; RIP command: <b>offset-list </b><var>access-list</var><b> (in|out) </b><var>ifname</var><var> <a name="index-offset_002dlist-_0040var_007baccess_002dlist_007d-_0028in_007cout_0029-_0040var_007bifname_007d-183"></a></var><br>
        </div>

<div class="node">
<a name="RIP-distance"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-route_002dmap">RIP route-map</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.7 RIP distance</h3>

<p>Distance value is used in zebra daemon.  Default RIP distance is 120.

<div class="defun">
&mdash; RIP command: <b>distance &lt;1-255&gt;</b><var> <a name="index-distance-_003c1_002d255_003e-184"></a></var><br>
&mdash; RIP command: <b>no distance &lt;1-255&gt;</b><var> <a name="index-no-distance-_003c1_002d255_003e-185"></a></var><br>
<blockquote><p>Set default RIP distance to specified value. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>distance &lt;1-255&gt; </b><var>A.B.C.D/M</var><var> <a name="index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-186"></a></var><br>
&mdash; RIP command: <b>no distance &lt;1-255&gt; </b><var>A.B.C.D/M</var><var> <a name="index-no-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-187"></a></var><br>
<blockquote><p>Set default RIP distance to specified value when the route's source IP
address matches the specified prefix. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>distance &lt;1-255&gt; </b><var>A.B.C.D/M</var> <var>access-list</var><var> <a name="index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-_0040var_007baccess_002dlist_007d-188"></a></var><br>
&mdash; RIP command: <b>no distance &lt;1-255&gt; </b><var>A.B.C.D/M</var> <var>access-list</var><var> <a name="index-no-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-_0040var_007baccess_002dlist_007d-189"></a></var><br>
<blockquote><p>Set default RIP distance to specified value when the route's source IP
address matches the specified prefix and the specified access-list. 
</p></blockquote></div>

<div class="node">
<a name="RIP-route-map"></a>
<a name="RIP-route_002dmap"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-Authentication">RIP Authentication</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-distance">RIP distance</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.8 RIP route-map</h3>

<p>Usage of <samp><span class="command">ripd</span></samp>'s route-map support.

   <p>Optional argument route-map MAP_NAME can be added to each <code>redistribute</code>
statement.

<pre class="example">     redistribute static [route-map MAP_NAME]
     redistribute connected [route-map MAP_NAME]
     .....
</pre>
   <p>Cisco applies route-map _before_ routes will exported to rip route table. 
In current Quagga's test implementation, <samp><span class="command">ripd</span></samp> applies route-map
after routes are listed in the route table and before routes will be
announced to an interface (something like output filter). I think it is not
so clear, but it is draft and it may be changed at future.

   <p>Route-map statement (see <a href="#Route-Map">Route Map</a>) is needed to use route-map
functionality.

<div class="defun">
&mdash; Route Map: <b>match interface </b><var>word</var><var> <a name="index-match-interface-_0040var_007bword_007d-190"></a></var><br>
<blockquote><p>This command match to incoming interface.  Notation of this match is
different from Cisco. Cisco uses a list of interfaces - NAME1 NAME2
... NAMEN.  Ripd allows only one name (maybe will change in the
future).  Next - Cisco means interface which includes next-hop of
routes (it is somewhat similar to "ip next-hop" statement).  Ripd
means interface where this route will be sent. This difference is
because "next-hop" of same routes which sends to different interfaces
must be different. Maybe it'd be better to made new matches - say
"match interface-out NAME" or something like that. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>match ip address </b><var>word</var><var> <a name="index-match-ip-address-_0040var_007bword_007d-191"></a></var><br>
&mdash; Route Map: <b>match ip address prefix-list </b><var>word</var><var> <a name="index-match-ip-address-prefix_002dlist-_0040var_007bword_007d-192"></a></var><br>
<blockquote><p>Match if route destination is permitted by access-list. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>match ip next-hop </b><var>word</var><var> <a name="index-match-ip-next_002dhop-_0040var_007bword_007d-193"></a></var><br>
&mdash; Route Map: <b>match ip next-hop prefix-list </b><var>word</var><var> <a name="index-match-ip-next_002dhop-prefix_002dlist-_0040var_007bword_007d-194"></a></var><br>
<blockquote><p>Match if route next-hop (meaning next-hop listed in the rip route-table
as displayed by "show ip rip") is permitted by access-list. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>match metric &lt;0-4294967295&gt;</b><var> <a name="index-match-metric-_003c0_002d4294967295_003e-195"></a></var><br>
<blockquote><p>This command match to the metric value of RIP updates.  For other
protocol compatibility metric range is shown as &lt;0-4294967295&gt;.  But
for RIP protocol only the value range &lt;0-16&gt; make sense. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>set ip next-hop A.B.C.D</b><var> <a name="index-set-ip-next_002dhop-A_002eB_002eC_002eD-196"></a></var><br>
<blockquote><p>This command set next hop value in RIPv2 protocol.  This command does
not affect RIPv1 because there is no next hop field in the packet. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>set metric &lt;0-4294967295&gt;</b><var> <a name="index-set-metric-_003c0_002d4294967295_003e-197"></a></var><br>
<blockquote><p>Set a metric for matched route when sending announcement.  The metric
value range is very large for compatibility with other protocols.  For
RIP, valid metric values are from 1 to 16. 
</p></blockquote></div>

<div class="node">
<a name="RIP-Authentication"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-Timers">RIP Timers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-route_002dmap">RIP route-map</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.9 RIP Authentication</h3>

<p>RIPv2 allows packets to be authenticated via either an insecure plain
text password, included with the packet, or via a more secure MD5 based
<acronym title="keyed-Hashing for Message AuthentiCation">HMAC</acronym> (keyed-Hashing for Message AuthentiCation),
RIPv1 can not be authenticated at all, thus when authentication is
configured <code>ripd</code> will discard routing updates received via RIPv1
packets.

   <p>However, unless RIPv1 reception is disabled entirely,
See <a href="#RIP-Version-Control">RIP Version Control</a>, RIPv1 REQUEST packets which are received,
which query the router for routing information, will still be honoured
by <code>ripd</code>, and <code>ripd</code> WILL reply to such packets. This allows
<code>ripd</code> to honour such REQUESTs (which sometimes is used by old
equipment and very simple devices to bootstrap their default route),
while still providing security for route updates which are received.

   <p>In short: Enabling authentication prevents routes being updated by
unauthenticated remote routers, but still can allow routes (I.e. the
entire RIP routing table) to be queried remotely, potentially by anyone
on the internet, via RIPv1.

   <p>To prevent such unauthenticated querying of routes disable RIPv1,
See <a href="#RIP-Version-Control">RIP Version Control</a>.

<div class="defun">
&mdash; Interface command: <b>ip rip authentication mode md5</b><var> <a name="index-ip-rip-authentication-mode-md5-198"></a></var><br>
&mdash; Interface command: <b>no ip rip authentication mode md5</b><var> <a name="index-no-ip-rip-authentication-mode-md5-199"></a></var><br>
<blockquote><p>Set the interface with RIPv2 MD5 authentication. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface command: <b>ip rip authentication mode text</b><var> <a name="index-ip-rip-authentication-mode-text-200"></a></var><br>
&mdash; Interface command: <b>no ip rip authentication mode text</b><var> <a name="index-no-ip-rip-authentication-mode-text-201"></a></var><br>
<blockquote><p>Set the interface with RIPv2 simple password authentication. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface command: <b>ip rip authentication string </b><var>string</var><var> <a name="index-ip-rip-authentication-string-_0040var_007bstring_007d-202"></a></var><br>
&mdash; Interface command: <b>no ip rip authentication string </b><var>string</var><var> <a name="index-no-ip-rip-authentication-string-_0040var_007bstring_007d-203"></a></var><br>
<blockquote><p>RIP version 2 has simple text authentication.  This command sets
authentication string.  The string must be shorter than 16 characters. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface command: <b>ip rip authentication key-chain </b><var>key-chain</var><var> <a name="index-ip-rip-authentication-key_002dchain-_0040var_007bkey_002dchain_007d-204"></a></var><br>
&mdash; Interface command: <b>no ip rip authentication key-chain </b><var>key-chain</var><var> <a name="index-no-ip-rip-authentication-key_002dchain-_0040var_007bkey_002dchain_007d-205"></a></var><br>
<blockquote><p>Specifiy Keyed MD5 chain. 
</p></blockquote></div>

<pre class="example">     !
     key chain test
      key 1
       key-string test
     !
     interface eth1
      ip rip authentication mode md5
      ip rip authentication key-chain test
     !
</pre>
   <div class="node">
<a name="RIP-Timers"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Show-RIP-Information">Show RIP Information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-Authentication">RIP Authentication</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.10 RIP Timers</h3>

<div class="defun">
&mdash; RIP command: <b>timers basic </b><var>update</var> <var>timeout</var> <var>garbage</var><var> <a name="index-timers-basic-_0040var_007bupdate_007d-_0040var_007btimeout_007d-_0040var_007bgarbage_007d-206"></a></var><br>
<blockquote>
        <p>RIP protocol has several timers.  User can configure those timers' values
by <code>timers basic</code> command.

        <p>The default settings for the timers are as follows:

          <ul>
<li>The update timer is 30 seconds. Every update timer seconds, the RIP
process is awakened to send an unsolicited Response message containing
the complete routing table to all neighboring RIP routers.

          <li>The timeout timer is 180 seconds. Upon expiration of the timeout, the
route is no longer valid; however, it is retained in the routing table
for a short time so that neighbors can be notified that the route has
been dropped.

          <li>The garbage collect timer is 120 seconds.  Upon expiration of the
garbage-collection timer, the route is finally removed from the routing
table.

        </ul>

        <p>The <code>timers basic</code> command allows the the default values of the timers
listed above to be changed. 
</p></blockquote></div>

<div class="defun">
&mdash; RIP command: <b>no timers basic</b><var> <a name="index-no-timers-basic-207"></a></var><br>
<blockquote><p>The <code>no timers basic</code> command will reset the timers to the default
settings listed above. 
</p></blockquote></div>

<div class="node">
<a name="Show-RIP-Information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#RIP-Debug-Commands">RIP Debug Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP-Timers">RIP Timers</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.11 Show RIP Information</h3>

<p>To display RIP routes.

<div class="defun">
&mdash; Command: <b>show ip rip</b><var> <a name="index-show-ip-rip-208"></a></var><br>
<blockquote><p>Show RIP routes. 
</p></blockquote></div>

   <p>The command displays all RIP routes. For routes that are received
through RIP, this command will display the time the packet was sent and
the tag information.  This command will also display this information
for routes redistributed into RIP.

<!-- Exmaple here. -->
<div class="defun">
&mdash; Command: <b>show ip protocols</b><var> <a name="index-show-ip-protocols-209"></a></var><br>
<blockquote><p>The command displays current RIP status.  It includes RIP timer,
filtering, version, RIP enabled interface and RIP peer inforation. 
</p></blockquote></div>

<pre class="example">     ripd&gt; <b>show ip protocols</b>
     Routing Protocol is "rip"
       Sending updates every 30 seconds with +/-50%, next due in 35 seconds
       Timeout after 180 seconds, garbage collect after 120 seconds
       Outgoing update filter list for all interface is not set
       Incoming update filter list for all interface is not set
       Default redistribution metric is 1
       Redistributing: kernel connected
       Default version control: send version 2, receive version 2
         Interface        Send  Recv
       Routing for Networks:
         eth0
         eth1
         1.1.1.1
         203.181.89.241
       Routing Information Sources:
         Gateway          BadPackets BadRoutes  Distance Last Update
</pre>
   <div class="node">
<a name="RIP-Debug-Commands"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Show-RIP-Information">Show RIP Information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIP">RIP</a>

</div>

<h3 class="section">5.12 RIP Debug Commands</h3>

<p>Debug for RIP protocol.

<div class="defun">
&mdash; Command: <b>debug rip events</b><var> <a name="index-debug-rip-events-210"></a></var><br>
<blockquote><p>Debug rip events. 
</p></blockquote></div>

   <p><code>debug rip</code> will show RIP events.  Sending and receiving
packets, timers, and changes in interfaces are events shown with <samp><span class="command">ripd</span></samp>.

<div class="defun">
&mdash; Command: <b>debug rip packet</b><var> <a name="index-debug-rip-packet-211"></a></var><br>
<blockquote><p>Debug rip packet. 
</p></blockquote></div>

   <p><code>debug rip packet</code> will display detailed information about the RIP
packets.  The origin and port number of the packet as well as a packet
dump is shown.

<div class="defun">
&mdash; Command: <b>debug rip zebra</b><var> <a name="index-debug-rip-zebra-212"></a></var><br>
<blockquote><p>Debug rip between zebra communication. 
</p></blockquote></div>

   <p>This command will show the communication between <samp><span class="command">ripd</span></samp> and
<samp><span class="command">zebra</span></samp>.  The main information will include addition and deletion of
paths to the kernel and the sending and receiving of interface information.

<div class="defun">
&mdash; Command: <b>show debugging rip</b><var> <a name="index-show-debugging-rip-213"></a></var><br>
<blockquote><p>Display <samp><span class="command">ripd</span></samp>'s debugging option. 
</p></blockquote></div>

   <p><code>show debugging rip</code> will show all information currently set for ripd
debug.

<!-- *-texinfo-*- -->
<!-- This is part of the Quagga Manual. -->
<!-- @value{COPYRIGHT_STR} -->
<!-- See file quagga.texi for copying conditions. -->
<div class="node">
<a name="RIPng"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPFv2">OSPFv2</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIP">RIP</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">6 RIPng</h2>

<p><samp><span class="command">ripngd</span></samp> supports the RIPng protocol as described in RFC2080.  It's an
IPv6 reincarnation of the RIP protocol.

<ul class="menu">
<li><a accesskey="1" href="#Invoking-ripngd">Invoking ripngd</a>
<li><a accesskey="2" href="#ripngd-Configuration">ripngd Configuration</a>
<li><a accesskey="3" href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a>
<li><a accesskey="4" href="#ripngd-Filtering-Commands">ripngd Filtering Commands</a>
</ul>

<div class="node">
<a name="Invoking-ripngd"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ripngd-Configuration">ripngd Configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIPng">RIPng</a>

</div>

<h3 class="section">6.1 Invoking ripngd</h3>

<p>There are no <code>ripngd</code> specific invocation options.  Common options
can be specified (see <a href="#Common-Invocation-Options">Common Invocation Options</a>).

<div class="node">
<a name="ripngd-Configuration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Invoking-ripngd">Invoking ripngd</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIPng">RIPng</a>

</div>

<h3 class="section">6.2 ripngd Configuration</h3>

<p>Currently ripngd supports the following commands:

<div class="defun">
&mdash; Command: <b>router ripng</b><var> <a name="index-router-ripng-214"></a></var><br>
<blockquote><p>Enable RIPng. 
</p></blockquote></div>

<div class="defun">
&mdash; RIPng Command: <b>flush_timer </b><var>time</var><var> <a name="index-flush_005ftimer-_0040var_007btime_007d-215"></a></var><br>
<blockquote><p>Set flush timer. 
</p></blockquote></div>

<div class="defun">
&mdash; RIPng Command: <b>network </b><var>network</var><var> <a name="index-network-_0040var_007bnetwork_007d-216"></a></var><br>
<blockquote><p>Set RIPng enabled interface by <var>network</var>
</p></blockquote></div>

<div class="defun">
&mdash; RIPng Command: <b>network </b><var>ifname</var><var> <a name="index-network-_0040var_007bifname_007d-217"></a></var><br>
<blockquote><p>Set RIPng enabled interface by <var>ifname</var>
</p></blockquote></div>

<div class="defun">
&mdash; RIPng Command: <b>route </b><var>network</var><var> <a name="index-route-_0040var_007bnetwork_007d-218"></a></var><br>
<blockquote><p>Set RIPng static routing announcement of <var>network</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>router zebra</b><var> <a name="index-router-zebra-219"></a></var><br>
<blockquote><p>This command is the default and does not appear in the configuration. 
With this statement, RIPng routes go to the <samp><span class="command">zebra</span></samp> daemon. 
</p></blockquote></div>

<div class="node">
<a name="ripngd-Terminal-Mode-Commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ripngd-Filtering-Commands">ripngd Filtering Commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ripngd-Configuration">ripngd Configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIPng">RIPng</a>

</div>

<h3 class="section">6.3 ripngd Terminal Mode Commands</h3>

<div class="defun">
&mdash; Command: <b>show ip ripng</b><var> <a name="index-show-ip-ripng-220"></a></var><br>
     </div>

<div class="defun">
&mdash; Command: <b>show debugging ripng</b><var> <a name="index-show-debugging-ripng-221"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug ripng events</b><var> <a name="index-debug-ripng-events-222"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug ripng packet</b><var> <a name="index-debug-ripng-packet-223"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug ripng zebra</b><var> <a name="index-debug-ripng-zebra-224"></a></var><br>
        </div>

<div class="node">
<a name="ripngd-Filtering-Commands"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#RIPng">RIPng</a>

</div>

<h3 class="section">6.4 ripngd Filtering Commands</h3>

<div class="defun">
&mdash; Command: <b>distribute-list </b><var>access_list</var><b> (in|out) </b><var>ifname</var><var> <a name="index-distribute_002dlist-_0040var_007baccess_005flist_007d-_0028in_007cout_0029-_0040var_007bifname_007d-225"></a></var><br>
<blockquote><p>You can apply an access-list to the interface using the
<code>distribute-list</code> command.  <var>access_list</var> is an access-list
name.  <var>direct</var> is &lsquo;<samp><span class="samp">in</span></samp>&rsquo; or &lsquo;<samp><span class="samp">out</span></samp>&rsquo;.  If <var>direct</var> is
&lsquo;<samp><span class="samp">in</span></samp>&rsquo;, the access-list is applied only to incoming packets.

     <pre class="example">          distribute-list local-only out sit1
</pre>
        </blockquote></div>

   <p><a name="index-OSPFv2-226"></a><div class="node">
<a name="OSPFv2"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPFv3">OSPFv3</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#RIPng">RIPng</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">7 OSPFv2</h2>

<p><acronym title="Open Shortest Path First">OSPF</acronym> (Open Shortest Path First) version 2 is a routing protocol
which is described in <cite>RFC2328, OSPF Version 2</cite>.  OSPF is an
<acronym title="Interior Gateway Protocol">IGP</acronym> (Interior Gateway Protocol).  Compared with <acronym>RIP</acronym>,
<acronym title="Open Shortest Path First">OSPF</acronym> can provide scalable network support and faster
convergence times.  OSPF is widely used in large networks such as
<acronym title="Internet Service Provider">ISP</acronym> (Internet Service Provider) backbone and enterprise
networks.

<ul class="menu">
<li><a accesskey="1" href="#Configuring-ospfd">Configuring ospfd</a>
<li><a accesskey="2" href="#OSPF-router">OSPF router</a>
<li><a accesskey="3" href="#OSPF-area">OSPF area</a>
<li><a accesskey="4" href="#OSPF-interface">OSPF interface</a>
<li><a accesskey="5" href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a>
<li><a accesskey="6" href="#Showing-OSPF-information">Showing OSPF information</a>
<li><a accesskey="7" href="#Debugging-OSPF">Debugging OSPF</a>
<li><a accesskey="8" href="#OSPF-Configuration-Examples">OSPF Configuration Examples</a>
</ul>

<div class="node">
<a name="Configuring-ospfd"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF-router">OSPF router</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.1 Configuring ospfd</h3>

<p>There are no <samp><span class="command">ospfd</span></samp> specific options.  Common options can be
specified (see <a href="#Common-Invocation-Options">Common Invocation Options</a>) to <samp><span class="command">ospfd</span></samp>. 
<samp><span class="command">ospfd</span></samp> needs to acquire interface information from
<samp><span class="command">zebra</span></samp> in order to function. Therefore <samp><span class="command">zebra</span></samp> must be
running before invoking <samp><span class="command">ospfd</span></samp>. Also, if <samp><span class="command">zebra</span></samp> is
restarted then <samp><span class="command">ospfd</span></samp> must be too.

   <p>Like other daemons, <samp><span class="command">ospfd</span></samp> configuration is done in <acronym title="Open Shortest Path First">OSPF</acronym>
specific configuration file <samp><span class="file">ospfd.conf</span></samp>.

<div class="node">
<a name="OSPF-router"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF-area">OSPF area</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuring-ospfd">Configuring ospfd</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.2 OSPF router</h3>

<p>To start OSPF process you have to specify the OSPF router.  As of this
writing, <samp><span class="command">ospfd</span></samp> does not support multiple OSPF processes.

<div class="defun">
&mdash; Command: <b>router ospf</b><var> <a name="index-router-ospf-227"></a></var><br>
&mdash; Command: <b>no router ospf</b><var> <a name="index-no-router-ospf-228"></a></var><br>
<blockquote><p>Enable or disable the OSPF process.  <samp><span class="command">ospfd</span></samp> does not yet
support multiple OSPF processes.  So you can not specify an OSPF process
number. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>ospf router-id </b><var>a.b.c.d</var><var> <a name="index-ospf-router_002did-_0040var_007ba_002eb_002ec_002ed_007d-229"></a></var><br>
&mdash; OSPF Command: <b>no ospf router-id</b><var> <a name="index-no-ospf-router_002did-230"></a></var><br>
<blockquote><p><a name="ospf-router_002did"></a>This sets the router-ID of the OSPF process. The
router-ID may be an IP address of the router, but need not be - it can
be any arbitrary 32bit number. However it MUST be unique within the
entire OSPF domain to the OSPF speaker - bad things will happen if
multiple OSPF speakers are configured with the same router-ID! If one
is not specified then <samp><span class="command">ospfd</span></samp> will obtain a router-ID
automatically from <samp><span class="command">zebra</span></samp>. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>ospf abr-type </b><var>type</var><var> <a name="index-ospf-abr_002dtype-_0040var_007btype_007d-231"></a></var><br>
&mdash; OSPF Command: <b>no ospf abr-type </b><var>type</var><var> <a name="index-no-ospf-abr_002dtype-_0040var_007btype_007d-232"></a></var><br>
<blockquote><p><var>type</var> can be cisco|ibm|shortcut|standard. The "Cisco" and "IBM" types
are equivalent.

        <p>The OSPF standard for ABR behaviour does not allow an ABR to consider
routes through non-backbone areas when its links to the backbone are
down, even when there are other ABRs in attached non-backbone areas
which still can reach the backbone - this restriction exists primarily
to ensure routing-loops are avoided.

        <p>With the "Cisco" or "IBM" ABR type, the default in this release of
Quagga, this restriction is lifted, allowing an ABR to consider
summaries learnt from other ABRs through non-backbone areas, and hence
route via non-backbone areas as a last resort when, and only when,
backbone links are down.

        <p>Note that areas with fully-adjacent virtual-links are considered to be
"transit capable" and can always be used to route backbone traffic, and
hence are unaffected by this setting (see <a href="#OSPF-virtual_002dlink">OSPF virtual-link</a>).

        <p>More information regarding the behaviour controlled by this command can
be found in <cite>RFC 3509, Alternative Implementations of OSPF Area
Border Routers</cite>, and <cite>draft-ietf-ospf-shortcut-abr-02.txt</cite>.

        <p>Quote: "Though the definition of the <acronym title="Area Border Router">ABR</acronym> (Area Border Router)
in the OSPF specification does not require a router with multiple
attached areas to have a backbone connection, it is actually
necessary to provide successful routing to the inter-area and
external destinations. If this requirement is not met, all traffic
destined for the areas not connected to such an ABR or out of the
OSPF domain, is dropped.  This document describes alternative ABR
behaviors implemented in Cisco and IBM routers." 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>ospf rfc1583compatibility</b><var> <a name="index-ospf-rfc1583compatibility-233"></a></var><br>
&mdash; OSPF Command: <b>no ospf rfc1583compatibility</b><var> <a name="index-no-ospf-rfc1583compatibility-234"></a></var><br>
<blockquote><p><cite>RFC2328</cite>, the sucessor to <cite>RFC1583</cite>, suggests according
to section G.2 (changes) in section 16.4 a change to the path
preference algorithm that prevents possible routing loops that were
possible in the old version of OSPFv2. More specifically it demands
that inter-area paths and intra-area backbone path are now of equal preference
but still both preferred to external paths.

        <p>This command should NOT be set normally. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>log-adjacency-changes [detail]</b><var> <a name="index-log_002dadjacency_002dchanges-_005bdetail_005d-235"></a></var><br>
&mdash; OSPF Command: <b>no log-adjacency-changes [detail]</b><var> <a name="index-no-log_002dadjacency_002dchanges-_005bdetail_005d-236"></a></var><br>
<blockquote><p>Configures ospfd to log changes in adjacency.  With the optional
detail argument, all changes in adjacency status are shown.  Without detail,
only changes to full or regressions are shown. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>passive-interface </b><var>interface</var><var> <a name="index-passive_002dinterface-_0040var_007binterface_007d-237"></a></var><br>
&mdash; OSPF Command: <b>no passive-interface </b><var>interface</var><var> <a name="index-no-passive_002dinterface-_0040var_007binterface_007d-238"></a></var><br>
<blockquote><p><a name="OSPF-passive_002dinterface"></a>Do not speak OSPF interface on the
given interface, but do advertise the interface as a stub link in the
router-<acronym title="Link State Advertisement">LSA</acronym> (Link State Advertisement) for this router. This
allows one to advertise addresses on such connected interfaces without
having to originate AS-External/Type-5 LSAs (which have global flooding
scope) - as would occur if connected addresses were redistributed into
OSPF (see <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a>). This is the only way to
advertise non-OSPF links into stub areas. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>timers throttle spf </b><var>delay</var> <var>initial-holdtime</var> <var>max-holdtime</var><var> <a name="index-timers-throttle-spf-_0040var_007bdelay_007d-_0040var_007binitial_002dholdtime_007d-_0040var_007bmax_002dholdtime_007d-239"></a></var><br>
&mdash; OSPF Command: <b>no timers throttle spf</b><var> <a name="index-no-timers-throttle-spf-240"></a></var><br>
<blockquote><p>This command sets the initial <var>delay</var>, the <var>initial-holdtime</var>
and the <var>maximum-holdtime</var> between when SPF is calculated and the
event which triggered the calculation. The times are specified in
milliseconds and must be in the range of 0 to 600000 milliseconds.

        <p>The <var>delay</var> specifies the minimum amount of time to delay SPF
calculation (hence it affects how long SPF calculation is delayed after
an event which occurs outside of the holdtime of any previous SPF
calculation, and also serves as a minimum holdtime).

        <p>Consecutive SPF calculations will always be seperated by at least
'hold-time' milliseconds. The hold-time is adaptive and initially is
set to the <var>initial-holdtime</var> configured with the above command. 
Events which occur within the holdtime of the previous SPF calculation
will cause the holdtime to be increased by <var>initial-holdtime</var>, bounded
by the <var>maximum-holdtime</var> configured with this command. If the adaptive
hold-time elapses without any SPF-triggering event occuring then
the current holdtime is reset to the <var>initial-holdtime</var>. The current
holdtime can be viewed with <a href="#show-ip-ospf">show ip ospf</a>, where it is expressed as
a multiplier of the <var>initial-holdtime</var>.

     <pre class="example">          router ospf
           timers throttle spf 200 400 10000
</pre>
        <p>In this example, the <var>delay</var> is set to 200ms, the <var>initial
holdtime</var> is set to 400ms and the <var>maximum holdtime</var> to 10s. Hence
there will always be at least 200ms between an event which requires SPF
calculation and the actual SPF calculation. Further consecutive SPF
calculations will always be seperated by between 400ms to 10s, the
hold-time increasing by 400ms each time an SPF-triggering event occurs
within the hold-time of the previous SPF calculation.

        <p>This command supercedes the <samp><span class="command">timers spf</span></samp> command in previous Quagga
releases. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>max-metric router-lsa [on-startup|on-shutdown] &lt;5-86400&gt;</b><var> <a name="index-max_002dmetric-router_002dlsa-_005bon_002dstartup_007con_002dshutdown_005d-_003c5_002d86400_003e-241"></a></var><br>
&mdash; OSPF Command: <b>max-metric router-lsa administrative</b><var> <a name="index-max_002dmetric-router_002dlsa-administrative-242"></a></var><br>
&mdash; OSPF Command: <b>no max-metric router-lsa [on-startup|on-shutdown|administrative]</b><var> <a name="index-no-max_002dmetric-router_002dlsa-_005bon_002dstartup_007con_002dshutdown_007cadministrative_005d-243"></a></var><br>
<blockquote><p>This enables <cite>RFC3137, OSPF Stub Router Advertisement</cite> support,
where the OSPF process describes its transit links in its router-LSA as
having infinite distance so that other routers will avoid calculating
transit paths through the router while still being able to reach
networks through the router.

        <p>This support may be enabled administratively (and indefinitely) or
conditionally. Conditional enabling of max-metric router-lsas can be
for a period of seconds after startup and/or for a period of seconds
prior to shutdown.

        <p>Enabling this for a period after startup allows OSPF to converge fully
first without affecting any existing routes used by other routers,
while still allowing any connected stub links and/or redistributed
routes to be reachable. Enabling this for a period of time in advance
of shutdown allows the router to gracefully excuse itself from the OSPF
domain.

        <p>Enabling this feature administratively allows for administrative
intervention for whatever reason, for an indefinite period of time. 
Note that if the configuration is written to file, this administrative
form of the stub-router command will also be written to file. If
<samp><span class="command">ospfd</span></samp> is restarted later, the command will then take effect
until manually deconfigured.

        <p>Configured state of this feature as well as current status, such as the
number of second remaining till on-startup or on-shutdown ends, can be
viewed with the <a href="#show-ip-ospf">show ip ospf</a> command. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>auto-cost reference-bandwidth &lt;1-4294967&gt;</b><var> <a name="index-auto_002dcost-reference_002dbandwidth-_003c1_002d4294967_003e-244"></a></var><br>
&mdash; OSPF Command: <b>no auto-cost reference-bandwidth</b><var> <a name="index-no-auto_002dcost-reference_002dbandwidth-245"></a></var><br>
<blockquote><p><a name="OSPF-auto_002dcost-reference_002dbandwidth"></a>This sets the reference
bandwidth for cost calculations, where this bandwidth is considered
equivalent to an OSPF cost of 1, specified in Mbits/s. The default is
100Mbit/s (i.e. a link of bandwidth 100Mbit/s or higher will have a
cost of 1. Cost of lower bandwidth links will be scaled with reference
to this cost).

        <p>This configuration setting MUST be consistent across all routers within the
OSPF domain. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>network </b><var>a.b.c.d/m</var><b> area </b><var>a.b.c.d</var><var> <a name="index-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007ba_002eb_002ec_002ed_007d-246"></a></var><br>
&mdash; OSPF Command: <b>network </b><var>a.b.c.d/m</var><b> area </b><var>&lt;0-4294967295&gt;</var><var> <a name="index-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007b_003c0_002d4294967295_003e_007d-247"></a></var><br>
&mdash; OSPF Command: <b>no network </b><var>a.b.c.d/m</var><b> area </b><var>a.b.c.d</var><var> <a name="index-no-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007ba_002eb_002ec_002ed_007d-248"></a></var><br>
&mdash; OSPF Command: <b>no network </b><var>a.b.c.d/m</var><b> area </b><var>&lt;0-4294967295&gt;</var><var> <a name="index-no-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007b_003c0_002d4294967295_003e_007d-249"></a></var><br>
<blockquote><p>This command specifies the OSPF enabled interface(s).  If the interface has
an address from range 192.168.1.0/24 then the command below enables ospf
on this interface so router can provide network information to the other
ospf routers via this interface.

     <pre class="example">          router ospf
           network 192.168.1.0/24 area 0.0.0.0
</pre>
        <p>Prefix length in interface must be equal or bigger (ie. smaller network) than
prefix length in network statement. For example statement above doesn't enable
ospf on interface with address 192.168.1.1/23, but it does on interface with
address 192.168.1.129/25.

        <p>Note that the behavior when there is a peer address
defined on an interface changed after release 0.99.7. 
Currently, if a peer prefix has been configured,
then we test whether the prefix in the network command contains
the destination prefix.  Otherwise, we test whether the network command prefix
contains the local address prefix of the interface. 
</p></blockquote></div>

<div class="node">
<a name="OSPF-area"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF-interface">OSPF interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPF-router">OSPF router</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.3 OSPF area</h3>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> range </b><var>a.b.c.d/m</var><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-250"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; range </b><var>a.b.c.d/m</var><var> <a name="index-area-_003c0_002d4294967295_003e-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-251"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> range </b><var>a.b.c.d/m</var><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-252"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; range </b><var>a.b.c.d/m</var><var> <a name="index-no-area-_003c0_002d4294967295_003e-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-253"></a></var><br>
<blockquote><p>Summarize intra area paths from specified area into one Type-3 summary-LSA
announced to other areas. This command can be used only in ABR and ONLY
router-LSAs (Type-1) and network-LSAs (Type-2) (ie. LSAs with scope area) can
be summarized. Type-5 AS-external-LSAs can't be summarized - their scope is AS. 
Summarizing Type-7 AS-external-LSAs isn't supported yet by Quagga.

     <pre class="example">          router ospf
           network 192.168.1.0/24 area 0.0.0.0
           network 10.0.0.0/8 area 0.0.0.10
           area 0.0.0.10 range 10.0.0.0/8
</pre>
        <p>With configuration above one Type-3 Summary-LSA with routing info 10.0.0.0/8 is
announced into backbone area if area 0.0.0.10 contains at least one intra-area
network (ie. described with router or network LSA) from this range. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> range IPV4_PREFIX not-advertise</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-not_002dadvertise-254"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> range IPV4_PREFIX not-advertise</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-not_002dadvertise-255"></a></var><br>
<blockquote><p>Instead of summarizing intra area paths filter them - ie. intra area paths from this
range are not advertised into other areas. 
This command makes sense in ABR only. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> range IPV4_PREFIX substitute IPV4_PREFIX</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-substitute-IPV4_005fPREFIX-256"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> range IPV4_PREFIX substitute IPV4_PREFIX</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-substitute-IPV4_005fPREFIX-257"></a></var><br>
<blockquote><p>Substitute summarized prefix with another prefix.

     <pre class="example">          router ospf
           network 192.168.1.0/24 area 0.0.0.0
           network 10.0.0.0/8 area 0.0.0.10
           area 0.0.0.10 range 10.0.0.0/8 substitute 11.0.0.0/8
</pre>
        <p>One Type-3 summary-LSA with routing info 11.0.0.0/8 is announced into backbone area if
area 0.0.0.10 contains at least one intra-area network (ie. described with router-LSA or
network-LSA) from range 10.0.0.0/8. 
This command makes sense in ABR only. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> virtual-link </b><var>a.b.c.d</var><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-258"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; virtual-link </b><var>a.b.c.d</var><var> <a name="index-area-_003c0_002d4294967295_003e-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-259"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> virtual-link </b><var>a.b.c.d</var><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-260"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; virtual-link </b><var>a.b.c.d</var><var> <a name="index-no-area-_003c0_002d4294967295_003e-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-261"></a></var><br>
<blockquote><p><a name="OSPF-virtual_002dlink"></a></p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> shortcut</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-shortcut-262"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; shortcut</b><var> <a name="index-area-_003c0_002d4294967295_003e-shortcut-263"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> shortcut</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-shortcut-264"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; shortcut</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-shortcut-265"></a></var><br>
<blockquote><p>Configure the area as Shortcut capable. See <cite>RFC3509</cite>. This requires
that the 'abr-type' be set to 'shortcut'. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> stub</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-266"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; stub</b><var> <a name="index-area-_003c0_002d4294967295_003e-stub-267"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> stub</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-268"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; stub</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-stub-269"></a></var><br>
<blockquote><p>Configure the area to be a stub area. That is, an area where no router
originates routes external to OSPF and hence an area where all external
routes are via the ABR(s). Hence, ABRs for such an area do not need
to pass AS-External LSAs (type-5s) or ASBR-Summary LSAs (type-4) into the
area. They need only pass Network-Summary (type-3) LSAs into such an area,
along with a default-route summary. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> stub no-summary</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-no_002dsummary-270"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; stub no-summary</b><var> <a name="index-area-_003c0_002d4294967295_003e-stub-no_002dsummary-271"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> stub no-summary</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-no_002dsummary-272"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; stub no-summary</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-stub-no_002dsummary-273"></a></var><br>
<blockquote><p>Prevents an <samp><span class="command">ospfd</span></samp> ABR from injecting inter-area
summaries into the specified stub area. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> default-cost &lt;0-16777215&gt;</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-default_002dcost-_003c0_002d16777215_003e-274"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> default-cost &lt;0-16777215&gt;</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-default_002dcost-_003c0_002d16777215_003e-275"></a></var><br>
<blockquote><p>Set the cost of default-summary LSAs announced to stubby areas. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> export-list NAME</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-export_002dlist-NAME-276"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; export-list NAME</b><var> <a name="index-area-_003c0_002d4294967295_003e-export_002dlist-NAME-277"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> export-list NAME</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-export_002dlist-NAME-278"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; export-list NAME</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-export_002dlist-NAME-279"></a></var><br>
<blockquote><p>Filter Type-3 summary-LSAs announced to other areas originated from intra-
area paths from specified area.

     <pre class="example">          router ospf
           network 192.168.1.0/24 area 0.0.0.0
           network 10.0.0.0/8 area 0.0.0.10
           area 0.0.0.10 export-list foo
          !
          access-list foo permit 10.10.0.0/16
          access-list foo deny any
</pre>
        <p>With example above any intra-area paths from area 0.0.0.10 and from range
10.10.0.0/16 (for example 10.10.1.0/24 and 10.10.2.128/30) are announced into
other areas as Type-3 summary-LSA's, but any others (for example 10.11.0.0/16
or 10.128.30.16/30) aren't.

        <p>This command is only relevant if the router is an ABR for the specified
area. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> import-list NAME</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-import_002dlist-NAME-280"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; import-list NAME</b><var> <a name="index-area-_003c0_002d4294967295_003e-import_002dlist-NAME-281"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> import-list NAME</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-import_002dlist-NAME-282"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; import-list NAME</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-import_002dlist-NAME-283"></a></var><br>
<blockquote><p>Same as export-list, but it applies to paths announced into specified area as
Type-3 summary-LSAs. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> filter-list prefix NAME in</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-in-284"></a></var><br>
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> filter-list prefix NAME out</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-out-285"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; filter-list prefix NAME in</b><var> <a name="index-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-in-286"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; filter-list prefix NAME out</b><var> <a name="index-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-out-287"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> filter-list prefix NAME in</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-in-288"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> filter-list prefix NAME out</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-out-289"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; filter-list prefix NAME in</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-in-290"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; filter-list prefix NAME out</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-out-291"></a></var><br>
<blockquote><p>Filtering Type-3 summary-LSAs to/from area using prefix lists. This command
makes sense in ABR only. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> authentication</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-authentication-292"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; authentication</b><var> <a name="index-area-_003c0_002d4294967295_003e-authentication-293"></a></var><br>
&mdash; OSPF Command: <b>no area </b><var>a.b.c.d</var><b> authentication</b><var> <a name="index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-authentication-294"></a></var><br>
&mdash; OSPF Command: <b>no area &lt;0-4294967295&gt; authentication</b><var> <a name="index-no-area-_003c0_002d4294967295_003e-authentication-295"></a></var><br>
<blockquote><p>Specify that simple password authentication should be used for the given
area. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>area </b><var>a.b.c.d</var><b> authentication message-digest</b><var> <a name="index-area-_0040var_007ba_002eb_002ec_002ed_007d-authentication-message_002ddigest-296"></a></var><br>
&mdash; OSPF Command: <b>area &lt;0-4294967295&gt; authentication message-digest</b><var> <a name="index-area-_003c0_002d4294967295_003e-authentication-message_002ddigest-297"></a></var><br>
<blockquote>
        <p><a name="area-authentication-message_002ddigest"></a>Specify that OSPF packets
must be authenticated with MD5 HMACs within the given area. Keying
material must also be configured on a per-interface basis (see <a href="#ip-ospf-message_002ddigest_002dkey">ip ospf message-digest-key</a>).

        <p>MD5 authentication may also be configured on a per-interface basis
(see <a href="#ip-ospf-authentication-message_002ddigest">ip ospf authentication message-digest</a>). Such per-interface
settings will override any per-area authentication setting. 
</p></blockquote></div>

<div class="node">
<a name="OSPF-interface"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPF-area">OSPF area</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.4 OSPF interface</h3>

<div class="defun">
&mdash; Interface Command: <b>ip ospf authentication-key </b><var>AUTH_KEY</var><var> <a name="index-ip-ospf-authentication_002dkey-_0040var_007bAUTH_005fKEY_007d-298"></a></var><br>
&mdash; Interface Command: <b>no ip ospf authentication-key</b><var> <a name="index-no-ip-ospf-authentication_002dkey-299"></a></var><br>
<blockquote><p>Set OSPF authentication key to a simple password.  After setting <var>AUTH_KEY</var>,
all OSPF packets are authenticated. <var>AUTH_KEY</var> has length up to 8 chars.

        <p>Simple text password authentication is insecure and deprecated in favour of
MD5 HMAC authentication (see <a href="#ip-ospf-authentication-message_002ddigest">ip ospf authentication message-digest</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf authentication message-digest</b><var> <a name="index-ip-ospf-authentication-message_002ddigest-300"></a></var><br>
<blockquote><p><a name="ip-ospf-authentication-message_002ddigest"></a>Specify that MD5 HMAC
authentication must be used on this interface. MD5 keying material must
also be configured (see <a href="#ip-ospf-message_002ddigest_002dkey">ip ospf message-digest-key</a>). Overrides any
authentication enabled on a per-area basis (see <a href="#area-authentication-message_002ddigest">area authentication message-digest</a>).

        <p>Note that OSPF MD5 authentication requires that time never go backwards
(correct time is NOT important, only that it never goes backwards), even
across resets, if ospfd is to be able to promptly reestabish adjacencies
with its neighbours after restarts/reboots. The host should have system
time be set at boot from an external or non-volatile source (eg battery backed clock, NTP,
etc.) or else the system clock should be periodically saved to non-volative
storage and restored at boot if MD5 authentication is to be expected to work
reliably. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf message-digest-key KEYID md5 KEY</b><var> <a name="index-ip-ospf-message_002ddigest_002dkey-KEYID-md5-KEY-301"></a></var><br>
&mdash; Interface Command: <b>no ip ospf message-digest-key</b><var> <a name="index-no-ip-ospf-message_002ddigest_002dkey-302"></a></var><br>
<blockquote><p><a name="ip-ospf-message_002ddigest_002dkey"></a>Set OSPF authentication key to a
cryptographic password.  The cryptographic algorithm is MD5.

        <p>KEYID identifies secret key used to create the message digest. This ID
is part of the protocol and must be consistent across routers on a
link.

        <p>KEY is the actual message digest key, of up to 16 chars (larger strings
will be truncated), and is associated with the given KEYID. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf cost &lt;1-65535&gt;</b><var> <a name="index-ip-ospf-cost-_003c1_002d65535_003e-303"></a></var><br>
&mdash; Interface Command: <b>no ip ospf cost</b><var> <a name="index-no-ip-ospf-cost-304"></a></var><br>
<blockquote><p>Set link cost for the specified interface.  The cost value is set to router-LSA's
metric field and used for SPF calculation. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf dead-interval &lt;1-65535&gt;</b><var> <a name="index-ip-ospf-dead_002dinterval-_003c1_002d65535_003e-305"></a></var><br>
&mdash; Interface Command: <b>ip ospf dead-interval minimal hello-multiplier &lt;2-20&gt;</b><var> <a name="index-ip-ospf-dead_002dinterval-minimal-hello_002dmultiplier-_003c2_002d20_003e-306"></a></var><br>
&mdash; Interface Command: <b>no ip ospf dead-interval</b><var> <a name="index-no-ip-ospf-dead_002dinterval-307"></a></var><br>
<blockquote><p><a name="ip-ospf-dead_002dinterval-minimal"></a>Set number of seconds for
RouterDeadInterval timer value used for Wait Timer and Inactivity
Timer.  This value must be the same for all routers attached to a
common network.  The default value is 40 seconds.

        <p>If 'minimal' is specified instead, then the dead-interval is set to 1
second and one must specify a hello-multiplier. The hello-multiplier
specifies how many Hellos to send per second, from 2 (every 500ms) to
20 (every 50ms). Thus one can have 1s convergence time for OSPF. If this form
is specified, then the hello-interval advertised in Hello packets is set to
0 and the hello-interval on received Hello packets is not checked, thus
the hello-multiplier need NOT be the same across multiple routers on a common
link. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf hello-interval &lt;1-65535&gt;</b><var> <a name="index-ip-ospf-hello_002dinterval-_003c1_002d65535_003e-308"></a></var><br>
&mdash; Interface Command: <b>no ip ospf hello-interval</b><var> <a name="index-no-ip-ospf-hello_002dinterval-309"></a></var><br>
<blockquote><p>Set number of seconds for HelloInterval timer value.  Setting this value,
Hello packet will be sent every timer value seconds on the specified interface. 
This value must be the same for all routers attached to a common network. 
The default value is 10 seconds.

        <p>This command has no effect if <a href="#ip-ospf-dead_002dinterval-minimal">ip ospf dead-interval minimal</a> is also
specified for the interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf network (broadcast|non-broadcast|point-to-multipoint|point-to-point)</b><var> <a name="index-ip-ospf-network-_0028broadcast_007cnon_002dbroadcast_007cpoint_002dto_002dmultipoint_007cpoint_002dto_002dpoint_0029-310"></a></var><br>
&mdash; Interface Command: <b>no ip ospf network</b><var> <a name="index-no-ip-ospf-network-311"></a></var><br>
<blockquote><p>Set explicitly network type for specifed interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf priority &lt;0-255&gt;</b><var> <a name="index-ip-ospf-priority-_003c0_002d255_003e-312"></a></var><br>
&mdash; Interface Command: <b>no ip ospf priority</b><var> <a name="index-no-ip-ospf-priority-313"></a></var><br>
<blockquote><p>Set RouterPriority integer value.  The router with the highest priority
will be more eligible to become Designated Router.  Setting the value
to 0, makes the router ineligible to become Designated Router. The
default value is 1. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf retransmit-interval &lt;1-65535&gt;</b><var> <a name="index-ip-ospf-retransmit_002dinterval-_003c1_002d65535_003e-314"></a></var><br>
&mdash; Interface Command: <b>no ip ospf retransmit interval</b><var> <a name="index-no-ip-ospf-retransmit-interval-315"></a></var><br>
<blockquote><p>Set number of seconds for RxmtInterval timer value.  This value is used
when retransmitting Database Description and Link State Request packets. 
The default value is 5 seconds. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ip ospf transmit-delay</b><var> <a name="index-ip-ospf-transmit_002ddelay-316"></a></var><br>
&mdash; Interface Command: <b>no ip ospf transmit-delay</b><var> <a name="index-no-ip-ospf-transmit_002ddelay-317"></a></var><br>
<blockquote><p>Set number of seconds for InfTransDelay value.  LSAs' age should be
incremented by this value when transmitting. 
The default value is 1 seconds. 
</p></blockquote></div>

<div class="node">
<a name="Redistribute-routes-to-OSPF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-OSPF-information">Showing OSPF information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPF-interface">OSPF interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.5 Redistribute routes to OSPF</h3>

<div class="defun">
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp)</b><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-318"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) </b><var>route-map</var><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-_0040var_007broute_002dmap_007d-319"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2)</b><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-320"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2) route-map </b><var>word</var><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-route_002dmap-_0040var_007bword_007d-321"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) metric &lt;0-16777214&gt;</b><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric-_003c0_002d16777214_003e-322"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) metric &lt;0-16777214&gt; route-map </b><var>word</var><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric-_003c0_002d16777214_003e-route_002dmap-_0040var_007bword_007d-323"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2) metric &lt;0-16777214&gt;</b><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-metric-_003c0_002d16777214_003e-324"></a></var><br>
&mdash; OSPF Command: <b>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2) metric &lt;0-16777214&gt; route-map </b><var>word</var><var> <a name="index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-metric-_003c0_002d16777214_003e-route_002dmap-_0040var_007bword_007d-325"></a></var><br>
&mdash; OSPF Command: <b>no redistribute (kernel|connected|static|rip|bgp)</b><var> <a name="index-no-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-326"></a></var><br>
<blockquote><p><a name="OSPF-redistribute"></a>Redistribute routes of the specified protocol
or kind into OSPF, with the metric type and metric set if specified,
filtering the routes using the given route-map if specified. 
Redistributed routes may also be filtered with distribute-lists, see
<a href="#ospf-distribute_002dlist">ospf distribute-list</a>.

        <p>Redistributed routes are distributed as into OSPF as Type-5 External
LSAs into links to areas that accept external routes, Type-7 External LSAs
for NSSA areas and are not redistributed at all into Stub areas, where
external routes are not permitted.

        <p>Note that for connected routes, one may instead use
<dfn>passive-interface</dfn>, see <a href="#OSPF-passive_002dinterface">OSPF passive-interface</a>. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>default-information originate</b><var> <a name="index-default_002dinformation-originate-327"></a></var><br>
&mdash; OSPF Command: <b>default-information originate metric &lt;0-16777214&gt;</b><var> <a name="index-default_002dinformation-originate-metric-_003c0_002d16777214_003e-328"></a></var><br>
&mdash; OSPF Command: <b>default-information originate metric &lt;0-16777214&gt; metric-type (1|2)</b><var> <a name="index-default_002dinformation-originate-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-329"></a></var><br>
&mdash; OSPF Command: <b>default-information originate metric &lt;0-16777214&gt; metric-type (1|2) route-map </b><var>word</var><var> <a name="index-default_002dinformation-originate-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-route_002dmap-_0040var_007bword_007d-330"></a></var><br>
&mdash; OSPF Command: <b>default-information originate always</b><var> <a name="index-default_002dinformation-originate-always-331"></a></var><br>
&mdash; OSPF Command: <b>default-information originate always metric &lt;0-16777214&gt;</b><var> <a name="index-default_002dinformation-originate-always-metric-_003c0_002d16777214_003e-332"></a></var><br>
&mdash; OSPF Command: <b>default-information originate always metric &lt;0-16777214&gt; metric-type (1|2)</b><var> <a name="index-default_002dinformation-originate-always-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-333"></a></var><br>
&mdash; OSPF Command: <b>default-information originate always metric &lt;0-16777214&gt; metric-type (1|2) route-map </b><var>word</var><var> <a name="index-default_002dinformation-originate-always-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-route_002dmap-_0040var_007bword_007d-334"></a></var><br>
&mdash; OSPF Command: <b>no default-information originate</b><var> <a name="index-no-default_002dinformation-originate-335"></a></var><br>
<blockquote><p>Originate an AS-External (type-5) LSA describing a default route into
all external-routing capable areas, of the specified metric and metric
type. If the 'always' keyword is given then the default is always
advertised, even when there is no default present in the routing table. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>distribute-list NAME out (kernel|connected|static|rip|ospf</b><var> <a name="index-distribute_002dlist-NAME-out-_0028kernel_007cconnected_007cstatic_007crip_007cospf-336"></a></var><br>
&mdash; OSPF Command: <b>no distribute-list NAME out (kernel|connected|static|rip|ospf</b><var> <a name="index-no-distribute_002dlist-NAME-out-_0028kernel_007cconnected_007cstatic_007crip_007cospf-337"></a></var><br>
<blockquote><p><a name="ospf-distribute_002dlist"></a>Apply the access-list filter, NAME, to
redistributed routes of the given type before allowing the routes to
redistributed into OSPF (see <a href="#OSPF-redistribute">OSPF redistribute</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF Command: <b>default-metric &lt;0-16777214&gt;</b><var> <a name="index-default_002dmetric-_003c0_002d16777214_003e-338"></a></var><br>
&mdash; OSPF Command: <b>no default-metric</b><var> <a name="index-no-default_002dmetric-339"></a></var><br>
        </div>

<div class="defun">
&mdash; OSPF Command: <b>distance &lt;1-255&gt;</b><var> <a name="index-distance-_003c1_002d255_003e-340"></a></var><br>
&mdash; OSPF Command: <b>no distance &lt;1-255&gt;</b><var> <a name="index-no-distance-_003c1_002d255_003e-341"></a></var><br>
        </div>

<div class="defun">
&mdash; OSPF Command: <b>distance ospf (intra-area|inter-area|external) &lt;1-255&gt;</b><var> <a name="index-distance-ospf-_0028intra_002darea_007cinter_002darea_007cexternal_0029-_003c1_002d255_003e-342"></a></var><br>
&mdash; OSPF Command: <b>no distance ospf</b><var> <a name="index-no-distance-ospf-343"></a></var><br>
        </div>

<div class="node">
<a name="Showing-OSPF-information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Debugging-OSPF">Debugging OSPF</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.6 Showing OSPF information</h3>

<div class="defun">
&mdash; Command: <b>show ip ospf</b><var> <a name="index-show-ip-ospf-344"></a></var><br>
<blockquote><p><a name="show-ip-ospf"></a>Show information on a variety of general OSPF and
area state and configuration information. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip ospf interface [INTERFACE]</b><var> <a name="index-show-ip-ospf-interface-_005bINTERFACE_005d-345"></a></var><br>
<blockquote><p>Show state and configuration of OSPF the specified interface, or all
interfaces if no interface is given. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip ospf neighbor</b><var> <a name="index-show-ip-ospf-neighbor-346"></a></var><br>
&mdash; Command: <b>show ip ospf neighbor INTERFACE</b><var> <a name="index-show-ip-ospf-neighbor-INTERFACE-347"></a></var><br>
&mdash; Command: <b>show ip ospf neighbor detail</b><var> <a name="index-show-ip-ospf-neighbor-detail-348"></a></var><br>
&mdash; Command: <b>show ip ospf neighbor INTERFACE detail</b><var> <a name="index-show-ip-ospf-neighbor-INTERFACE-detail-349"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip ospf database</b><var> <a name="index-show-ip-ospf-database-350"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip ospf database (asbr-summary|external|network|router|summary)</b><var> <a name="index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-351"></a></var><br>
&mdash; Command: <b>show ip ospf database (asbr-summary|external|network|router|summary) </b><var>link-state-id</var><var> <a name="index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-_0040var_007blink_002dstate_002did_007d-352"></a></var><br>
&mdash; Command: <b>show ip ospf database (asbr-summary|external|network|router|summary) </b><var>link-state-id</var><b> adv-router </b><var>adv-router</var><var> <a name="index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-_0040var_007blink_002dstate_002did_007d-adv_002drouter-_0040var_007badv_002drouter_007d-353"></a></var><br>
&mdash; Command: <b>show ip ospf database (asbr-summary|external|network|router|summary) adv-router </b><var>adv-router</var><var> <a name="index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-adv_002drouter-_0040var_007badv_002drouter_007d-354"></a></var><br>
&mdash; Command: <b>show ip ospf database (asbr-summary|external|network|router|summary) </b><var>link-state-id</var><b> self-originate</b><var> <a name="index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-_0040var_007blink_002dstate_002did_007d-self_002doriginate-355"></a></var><br>
&mdash; Command: <b>show ip ospf database (asbr-summary|external|network|router|summary) self-originate</b><var> <a name="index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-self_002doriginate-356"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip ospf database max-age</b><var> <a name="index-show-ip-ospf-database-max_002dage-357"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip ospf database self-originate</b><var> <a name="index-show-ip-ospf-database-self_002doriginate-358"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip ospf route</b><var> <a name="index-show-ip-ospf-route-359"></a></var><br>
<blockquote><p>Show the OSPF routing table, as determined by the most recent SPF calculation. 
</p></blockquote></div>

<div class="node">
<a name="Debugging-OSPF"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF-Configuration-Examples">OSPF Configuration Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-OSPF-information">Showing OSPF information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.7 Debugging OSPF</h3>

<div class="defun">
&mdash; Command: <b>debug ospf packet (hello|dd|ls-request|ls-update|ls-ack|all) (send|recv) [detail]</b><var> <a name="index-debug-ospf-packet-_0028hello_007cdd_007cls_002drequest_007cls_002dupdate_007cls_002dack_007call_0029-_0028send_007crecv_0029-_005bdetail_005d-360"></a></var><br>
&mdash; Command: <b>no debug ospf packet (hello|dd|ls-request|ls-update|ls-ack|all) (send|recv) [detail]</b><var> <a name="index-no-debug-ospf-packet-_0028hello_007cdd_007cls_002drequest_007cls_002dupdate_007cls_002dack_007call_0029-_0028send_007crecv_0029-_005bdetail_005d-361"></a></var><br>
     </div>

<div class="defun">
&mdash; Command: <b>debug ospf ism</b><var> <a name="index-debug-ospf-ism-362"></a></var><br>
&mdash; Command: <b>debug ospf ism (status|events|timers)</b><var> <a name="index-debug-ospf-ism-_0028status_007cevents_007ctimers_0029-363"></a></var><br>
&mdash; Command: <b>no debug ospf ism</b><var> <a name="index-no-debug-ospf-ism-364"></a></var><br>
&mdash; Command: <b>no debug ospf ism (status|events|timers)</b><var> <a name="index-no-debug-ospf-ism-_0028status_007cevents_007ctimers_0029-365"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug ospf nsm</b><var> <a name="index-debug-ospf-nsm-366"></a></var><br>
&mdash; Command: <b>debug ospf nsm (status|events|timers)</b><var> <a name="index-debug-ospf-nsm-_0028status_007cevents_007ctimers_0029-367"></a></var><br>
&mdash; Command: <b>no debug ospf nsm</b><var> <a name="index-no-debug-ospf-nsm-368"></a></var><br>
&mdash; Command: <b>no debug ospf nsm (status|events|timers)</b><var> <a name="index-no-debug-ospf-nsm-_0028status_007cevents_007ctimers_0029-369"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug ospf lsa</b><var> <a name="index-debug-ospf-lsa-370"></a></var><br>
&mdash; Command: <b>debug ospf lsa (generate|flooding|refresh)</b><var> <a name="index-debug-ospf-lsa-_0028generate_007cflooding_007crefresh_0029-371"></a></var><br>
&mdash; Command: <b>no debug ospf lsa</b><var> <a name="index-no-debug-ospf-lsa-372"></a></var><br>
&mdash; Command: <b>no debug ospf lsa (generate|flooding|refresh)</b><var> <a name="index-no-debug-ospf-lsa-_0028generate_007cflooding_007crefresh_0029-373"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug ospf zebra</b><var> <a name="index-debug-ospf-zebra-374"></a></var><br>
&mdash; Command: <b>debug ospf zebra (interface|redistribute)</b><var> <a name="index-debug-ospf-zebra-_0028interface_007credistribute_0029-375"></a></var><br>
&mdash; Command: <b>no debug ospf zebra</b><var> <a name="index-no-debug-ospf-zebra-376"></a></var><br>
&mdash; Command: <b>no debug ospf zebra (interface|redistribute)</b><var> <a name="index-no-debug-ospf-zebra-_0028interface_007credistribute_0029-377"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show debugging ospf</b><var> <a name="index-show-debugging-ospf-378"></a></var><br>
        </div>

<div class="node">
<a name="OSPF-Configuration-Examples"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Debugging-OSPF">Debugging OSPF</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv2">OSPFv2</a>

</div>

<h3 class="section">7.8 OSPF Configuration Examples</h3>

<p>A simple example, with MD5 authentication enabled:

<pre class="example">     !
     interface bge0
      ip ospf authentication message-digest
      ip ospf message-digest-key 1 md5 ABCDEFGHIJK
     !
     router ospf
      network 192.168.0.0/16 area 0.0.0.1
      area 0.0.0.1 authentication message-digest
</pre>
   <p>An <acronym title="Area Border Router">ABR</acronym> router, with MD5 authentication and performing summarisation
of networks between the areas:

<pre class="example">     !
     password ABCDEF
     log file /var/log/quagga/ospfd.log
     service advanced-vty
     !
     interface eth0
      ip ospf authentication message-digest
      ip ospf message-digest-key 1 md5 ABCDEFGHIJK
     !
     interface ppp0
     !
     interface br0
      ip ospf authentication message-digest
      ip ospf message-digest-key 2 md5 XYZ12345
     !
     router ospf
      ospf router-id 192.168.0.1
      redistribute connected
      passive interface ppp0
      network 192.168.0.0/24 area 0.0.0.0
      network 10.0.0.0/16 area 0.0.0.0
      network 192.168.1.0/24 area 0.0.0.1
      area 0.0.0.0 authentication message-digest
      area 0.0.0.0 range 10.0.0.0/16
      area 0.0.0.0 range 192.168.0.0/24
      area 0.0.0.1 authentication message-digest
      area 0.0.0.1 range 10.2.0.0/16
     !
</pre>
   <div class="node">
<a name="OSPFv3"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Babel">Babel</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPFv2">OSPFv2</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">8 OSPFv3</h2>

<p><samp><span class="command">ospf6d</span></samp> is a daemon support OSPF version 3 for IPv6 network. 
OSPF for IPv6 is described in RFC2740.

<ul class="menu">
<li><a accesskey="1" href="#OSPF6-router">OSPF6 router</a>
<li><a accesskey="2" href="#OSPF6-area">OSPF6 area</a>
<li><a accesskey="3" href="#OSPF6-interface">OSPF6 interface</a>
<li><a accesskey="4" href="#Redistribute-routes-to-OSPF6">Redistribute routes to OSPF6</a>
<li><a accesskey="5" href="#Showing-OSPF6-information">Showing OSPF6 information</a>
<li><a accesskey="6" href="#OSPF6-Configuration-Examples">OSPF6 Configuration Examples</a>
</ul>

<div class="node">
<a name="OSPF6-router"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF6-area">OSPF6 area</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv3">OSPFv3</a>

</div>

<h3 class="section">8.1 OSPF6 router</h3>

<div class="defun">
&mdash; Command: <b>router ospf6</b><var> <a name="index-router-ospf6-379"></a></var><br>
     </div>

<div class="defun">
&mdash; OSPF6 Command: <b>router-id </b><var>a.b.c.d</var><var> <a name="index-router_002did-_0040var_007ba_002eb_002ec_002ed_007d-380"></a></var><br>
<blockquote><p>Set router's Router-ID. 
</p></blockquote></div>

<div class="defun">
&mdash; OSPF6 Command: <b>interface </b><var>ifname</var><b> area </b><var>area</var><var> <a name="index-interface-_0040var_007bifname_007d-area-_0040var_007barea_007d-381"></a></var><br>
<blockquote><p>Bind interface to specified area, and start sending OSPF packets.  <var>area</var> can
be specified as 0. 
</p></blockquote></div>

<div class="node">
<a name="OSPF6-area"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF6-interface">OSPF6 interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPF6-router">OSPF6 router</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv3">OSPFv3</a>

</div>

<h3 class="section">8.2 OSPF6 area</h3>

<p>Area support for OSPFv3 is not yet implemented.

<div class="node">
<a name="OSPF6-interface"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Redistribute-routes-to-OSPF6">Redistribute routes to OSPF6</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPF6-area">OSPF6 area</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv3">OSPFv3</a>

</div>

<h3 class="section">8.3 OSPF6 interface</h3>

<div class="defun">
&mdash; Interface Command: <b>ipv6 ospf6 cost COST</b><var> <a name="index-ipv6-ospf6-cost-COST-382"></a></var><br>
<blockquote><p>Sets interface's output cost.  Default value is 1. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 ospf6 hello-interval HELLOINTERVAL</b><var> <a name="index-ipv6-ospf6-hello_002dinterval-HELLOINTERVAL-383"></a></var><br>
<blockquote><p>Sets interface's Hello Interval.  Default 40
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 ospf6 dead-interval DEADINTERVAL</b><var> <a name="index-ipv6-ospf6-dead_002dinterval-DEADINTERVAL-384"></a></var><br>
<blockquote><p>Sets interface's Router Dead Interval.  Default value is 40. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 ospf6 retransmit-interval RETRANSMITINTERVAL</b><var> <a name="index-ipv6-ospf6-retransmit_002dinterval-RETRANSMITINTERVAL-385"></a></var><br>
<blockquote><p>Sets interface's Rxmt Interval.  Default value is 5. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 ospf6 priority PRIORITY</b><var> <a name="index-ipv6-ospf6-priority-PRIORITY-386"></a></var><br>
<blockquote><p>Sets interface's Router Priority.  Default value is 1. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 ospf6 transmit-delay TRANSMITDELAY</b><var> <a name="index-ipv6-ospf6-transmit_002ddelay-TRANSMITDELAY-387"></a></var><br>
<blockquote><p>Sets interface's Inf-Trans-Delay.  Default value is 1. 
</p></blockquote></div>

<div class="node">
<a name="Redistribute-routes-to-OSPF6"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-OSPF6-information">Showing OSPF6 information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPF6-interface">OSPF6 interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv3">OSPFv3</a>

</div>

<h3 class="section">8.4 Redistribute routes to OSPF6</h3>

<div class="defun">
&mdash; OSPF6 Command: <b>redistribute static</b><var> <a name="index-redistribute-static-388"></a></var><br>
&mdash; OSPF6 Command: <b>redistribute connected</b><var> <a name="index-redistribute-connected-389"></a></var><br>
&mdash; OSPF6 Command: <b>redistribute ripng</b><var> <a name="index-redistribute-ripng-390"></a></var><br>
     </div>

<div class="node">
<a name="Showing-OSPF6-information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#OSPF6-Configuration-Examples">OSPF6 Configuration Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Redistribute-routes-to-OSPF6">Redistribute routes to OSPF6</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv3">OSPFv3</a>

</div>

<h3 class="section">8.5 Showing OSPF6 information</h3>

<div class="defun">
&mdash; Command: <b>show ipv6 ospf6 [INSTANCE_ID]</b><var> <a name="index-show-ipv6-ospf6-_005bINSTANCE_005fID_005d-391"></a></var><br>
<blockquote><p>INSTANCE_ID is an optional OSPF instance ID. To see router ID and OSPF
instance ID, simply type "show ipv6 ospf6 &lt;cr&gt;". 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6 ospf6 database</b><var> <a name="index-show-ipv6-ospf6-database-392"></a></var><br>
<blockquote><p>This command shows LSA database summary.  You can specify the type of LSA. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6 ospf6 interface</b><var> <a name="index-show-ipv6-ospf6-interface-393"></a></var><br>
<blockquote><p>To see OSPF interface configuration like costs. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6 ospf6 neighbor</b><var> <a name="index-show-ipv6-ospf6-neighbor-394"></a></var><br>
<blockquote><p>Shows state and chosen (Backup) DR of neighbor. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6 ospf6 request-list A.B.C.D</b><var> <a name="index-show-ipv6-ospf6-request_002dlist-A_002eB_002eC_002eD-395"></a></var><br>
<blockquote><p>Shows requestlist of neighbor. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ipv6 route ospf6</b><var> <a name="index-show-ipv6-route-ospf6-396"></a></var><br>
<blockquote><p>This command shows internal routing table. 
</p></blockquote></div>

<div class="node">
<a name="OSPF6-Configuration-Examples"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-OSPF6-information">Showing OSPF6 information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#OSPFv3">OSPFv3</a>

</div>

<h3 class="section">8.6 OSPF6 Configuration Examples</h3>

<p>Example of ospf6d configured on one interface and area:

<pre class="example">     interface eth0
      ipv6 ospf6 instance-id 0
     !
     router ospf6
      router-id 212.17.55.53
      area 0.0.0.0 range 2001:770:105:2::/64
      interface eth0 area 0.0.0.0
     !
</pre>
   <!-- *-texinfo-*- -->
<!-- This is part of the Quagga Manual. -->
<!-- @value{COPYRIGHT_STR} -->
<!-- See file quagga.texi for copying conditions. -->
<div class="node">
<a name="Babel"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP">BGP</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#OSPFv3">OSPFv3</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">9 Babel</h2>

<p>Babel is an interior gateway protocol that is suitable both for wired
networks and for wireless mesh networks.  Babel has been described as
&ldquo;RIP on speed&rdquo; &mdash; it is based on the same principles as RIP, but
includes a number of refinements that make it react much faster to
topology changes without ever counting to infinity, and allow it to
perform reliable link quality estimation on wireless links.  Babel is
a double-stack routing protocol, meaning that a single Babel instance
is able to perform routing for both IPv4 and IPv6.

   <p>Quagga implements Babel as described in RFC6126.

<ul class="menu">
<li><a accesskey="1" href="#Configuring-babeld">Configuring babeld</a>
<li><a accesskey="2" href="#Babel-configuration">Babel configuration</a>
<li><a accesskey="3" href="#Babel-redistribution">Babel redistribution</a>
<li><a accesskey="4" href="#Show-Babel-information">Show Babel information</a>
<li><a accesskey="5" href="#Babel-debugging-commands">Babel debugging commands</a>
</ul>

<div class="node">
<a name="Configuring-babeld"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Babel-configuration">Babel configuration</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Babel">Babel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Babel">Babel</a>

</div>

<h3 class="section">9.1 Configuring babeld</h3>

<p>The <samp><span class="command">babeld</span></samp> daemon can be invoked with any of the common
options (see <a href="#Common-Invocation-Options">Common Invocation Options</a>).

   <p>The <samp><span class="command">zebra</span></samp> daemon must be running before <samp><span class="command">babeld</span></samp> is
invoked. Also, if <samp><span class="command">zebra</span></samp> is restarted then <samp><span class="command">babeld</span></samp>
must be too.

   <p>Configuration of <samp><span class="command">babeld</span></samp> is done in its configuration file
<samp><span class="file">babeld.conf</span></samp>.

<div class="node">
<a name="Babel-configuration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Babel-redistribution">Babel redistribution</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuring-babeld">Configuring babeld</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Babel">Babel</a>

</div>

<h3 class="section">9.2 Babel configuration</h3>

<div class="defun">
&mdash; Command: <b>router babel</b><var> <a name="index-router-babel-397"></a></var><br>
&mdash; Command: <b>no router babel</b><var> <a name="index-no-router-babel-398"></a></var><br>
<blockquote><p>Enable or disable Babel routing. 
</p></blockquote></div>

<div class="defun">
&mdash; Babel Command: <b>network </b><var>ifname</var><var> <a name="index-network-_0040var_007bifname_007d-399"></a></var><br>
&mdash; Babel Command: <b>no network </b><var>ifname</var><var> <a name="index-no-network-_0040var_007bifname_007d-400"></a></var><br>
<blockquote><p>Enable or disable Babel on the given interface. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>babel wired</b><var> <a name="index-babel-wired-401"></a></var><br>
&mdash; Interface Command: <b>babel wireless</b><var> <a name="index-babel-wireless-402"></a></var><br>
<blockquote><p>Specifies whether this interface is wireless, which disables a number
of optimisations that are only correct on wired interfaces. 
Specifying <code>wireless</code> (the default) is always correct, but may
cause slower convergence and extra routing traffic. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>babel split-horizon</b><var><a name="index-babel-split_002dhorizon-403"></a></var><br>
&mdash; Interface Command: <b>no babel split-horizon</b><var><a name="index-no-babel-split_002dhorizon-404"></a></var><br>
<blockquote><p>Specifies whether to perform split-horizon on the interface. 
Specifying <code>no babel split-horizon</code> (the default) is always
correct, while <code>babel split-horizon</code> is an optimisation that
should only be used on symmetric and transitive (wired) networks. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>babel hello-interval &lt;20-655340&gt;</b><var><a name="index-babel-hello_002dinterval-_003c20_002d655340_003e-405"></a></var><br>
<blockquote><p>Specifies the time in milliseconds between two scheduled hellos.  On
wired links, Babel notices a link failure within two hello intervals;
on wireless links, the link quality value is reestimated at every
hello interval.  The default is 4000<span class="dmn">ms</span>. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>babel update-interval &lt;20-655340&gt;</b><var><a name="index-babel-update_002dinterval-_003c20_002d655340_003e-406"></a></var><br>
<blockquote><p>Specifies the time in milliseconds between two scheduled updates. 
Since Babel makes extensive use of triggered updates, this can be set
to fairly high values on links with little packet loss.  The default
is 20000<span class="dmn">ms</span>. 
</p></blockquote></div>

<div class="defun">
&mdash; Babel Command: <b>babel resend-delay &lt;20-655340&gt;</b><var><a name="index-babel-resend_002ddelay-_003c20_002d655340_003e-407"></a></var><br>
<blockquote><p>Specifies the time in milliseconds after which an &ldquo;important&rdquo;
request or update will be resent.  The default is 2000<span class="dmn">ms</span>.  You
probably don't want to tweak this value. 
</p></blockquote></div>

<div class="node">
<a name="Babel-redistribution"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Show-Babel-information">Show Babel information</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Babel-configuration">Babel configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Babel">Babel</a>

</div>

<h3 class="section">9.3 Babel redistribution</h3>

<div class="defun">
&mdash; Babel command: <b>redistribute </b><var>kind</var><var><a name="index-redistribute-_0040var_007bkind_007d-408"></a></var><br>
&mdash; Babel command: <b>no redistribute </b><var>kind</var><var><a name="index-no-redistribute-_0040var_007bkind_007d-409"></a></var><br>
<blockquote><p>Specify which kind of routes should be redistributed into Babel. 
</p></blockquote></div>

<div class="node">
<a name="Show-Babel-information"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Babel-debugging-commands">Babel debugging commands</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Babel-redistribution">Babel redistribution</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Babel">Babel</a>

</div>

<h3 class="section">9.4 Show Babel information</h3>

<div class="defun">
&mdash; Command: <b>show babel database</b><var> <a name="index-show-babel-database-410"></a></var><br>
&mdash; Command: <b>show babel interface</b><var> <a name="index-show-babel-interface-411"></a></var><br>
&mdash; Command: <b>show babel neighbour</b><var> <a name="index-show-babel-neighbour-412"></a></var><br>
&mdash; Command: <b>show babel parameters</b><var> <a name="index-show-babel-parameters-413"></a></var><br>
<blockquote><p>These commands dump various parts of <samp><span class="command">babeld</span></samp>'s internal
state.  They are mostly useful for troubleshooting. 
</p></blockquote></div>

<div class="node">
<a name="Babel-debugging-commands"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Show-Babel-information">Show Babel information</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Babel">Babel</a>

</div>

<h3 class="section">9.5 Babel debugging commands</h3>

<div class="defun">
&mdash; Babel Command: <b>debug babel </b><var>kind</var><var> <a name="index-debug-babel-_0040var_007bkind_007d-414"></a></var><br>
&mdash; Babel Command: <b>no debug babel </b><var>kind</var><var> <a name="index-no-debug-babel-_0040var_007bkind_007d-415"></a></var><br>
<blockquote><p>Enable or disable debugging messages of a given kind.  <var>kind</var> can
be one of &lsquo;<samp><span class="samp">common</span></samp>&rsquo;, &lsquo;<samp><span class="samp">kernel</span></samp>&rsquo;, &lsquo;<samp><span class="samp">filter</span></samp>&rsquo;, &lsquo;<samp><span class="samp">timeout</span></samp>&rsquo;,
&lsquo;<samp><span class="samp">interface</span></samp>&rsquo;, &lsquo;<samp><span class="samp">route</span></samp>&rsquo; or &lsquo;<samp><span class="samp">all</span></samp>&rsquo;.  Note that if you have
compiled with the NO_DEBUG flag, then these commands aren't available. 
</p></blockquote></div>

<!-- *-texinfo-*- -->
<!-- This is part of the Quagga Manual. -->
<!-- @value{COPYRIGHT_STR} -->
<!-- See file quagga.texi for copying conditions. -->
<div class="node">
<a name="BGP"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Configuring-Quagga-as-a-Route-Server">Configuring Quagga as a Route Server</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Babel">Babel</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">10 BGP</h2>

<p><acronym>BGP</acronym> stands for a Border Gateway Protocol.  The lastest BGP version
is 4.  It is referred as BGP-4.  BGP-4 is one of the Exterior Gateway
Protocols and de-fact standard of Inter Domain routing protocol. 
BGP-4 is described in <cite>RFC1771, A Border Gateway Protocol
4 (BGP-4)</cite>.

   <p>Many extensions have been added to <cite>RFC1771</cite>.  <cite>RFC2858,
Multiprotocol Extensions for BGP-4</cite> provides multiprotocol support to
BGP-4.

<ul class="menu">
<li><a accesskey="1" href="#Starting-BGP">Starting BGP</a>
<li><a accesskey="2" href="#BGP-router">BGP router</a>
<li><a accesskey="3" href="#BGP-network">BGP network</a>
<li><a accesskey="4" href="#BGP-Peer">BGP Peer</a>
<li><a accesskey="5" href="#BGP-Peer-Group">BGP Peer Group</a>
<li><a accesskey="6" href="#BGP-Address-Family">BGP Address Family</a>
<li><a accesskey="7" href="#Autonomous-System">Autonomous System</a>
<li><a accesskey="8" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>
<li><a accesskey="9" href="#BGP-Extended-Communities-Attribute">BGP Extended Communities Attribute</a>
<li><a href="#Displaying-BGP-routes">Displaying BGP routes</a>
<li><a href="#Capability-Negotiation">Capability Negotiation</a>
<li><a href="#Route-Reflector">Route Reflector</a>
<li><a href="#Route-Server">Route Server</a>
<li><a href="#How-to-set-up-a-6_002dBone-connection">How to set up a 6-Bone connection</a>
<li><a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a>
<li><a href="#BGP-Configuration-Examples">BGP Configuration Examples</a>
</ul>

<div class="node">
<a name="Starting-BGP"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-router">BGP router</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.1 Starting BGP</h3>

<p>Default configuration file of <samp><span class="command">bgpd</span></samp> is <samp><span class="file">bgpd.conf</span></samp>. 
<samp><span class="command">bgpd</span></samp> searches the current directory first then
/etc/quagga/bgpd.conf.  All of bgpd's command must be
configured in <samp><span class="file">bgpd.conf</span></samp>.

   <p><samp><span class="command">bgpd</span></samp> specific invocation options are described below.  Common
options may also be specified (see <a href="#Common-Invocation-Options">Common Invocation Options</a>).

     <dl>
<dt>&lsquo;<samp><span class="samp">-p </span><var>PORT</var></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--bgp_port=</span><var>PORT</var></samp>&rsquo;<dd>Set the bgp protocol's port number.

     <br><dt>&lsquo;<samp><span class="samp">-r</span></samp>&rsquo;<dt>&lsquo;<samp><span class="samp">--retain</span></samp>&rsquo;<dd>When program terminates, retain BGP routes added by zebra. 
</dl>

<div class="node">
<a name="BGP-router"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-network">BGP network</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Starting-BGP">Starting BGP</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.2 BGP router</h3>

<p>First of all you must configure BGP router with <samp><span class="command">router bgp</span></samp>
command.  To configure BGP router, you need AS number.  AS number is an
identification of autonomous system.  BGP protocol uses the AS number
for detecting whether the BGP connection is internal one or external one.

<div class="defun">
&mdash; Command: <b>router bgp </b><var>asn</var><var> <a name="index-router-bgp-_0040var_007basn_007d-416"></a></var><br>
<blockquote><p>Enable a BGP protocol process with the specified <var>asn</var>.  After
this statement you can input any <code>BGP Commands</code>.  You can not
create different BGP process under different <var>asn</var> without
specifying <code>multiple-instance</code> (see <a href="#Multiple-instance">Multiple instance</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no router bgp </b><var>asn</var><var> <a name="index-no-router-bgp-_0040var_007basn_007d-417"></a></var><br>
<blockquote><p>Destroy a BGP protocol process with the specified <var>asn</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>bgp router-id </b><var>A.B.C.D</var><var> <a name="index-bgp-router_002did-_0040var_007bA_002eB_002eC_002eD_007d-418"></a></var><br>
<blockquote><p>This command specifies the router-ID.  If <samp><span class="command">bgpd</span></samp> connects to <samp><span class="command">zebra</span></samp> it gets
interface and address information.  In that case default router ID value
is selected as the largest IP Address of the interfaces.  When
<code>router zebra</code> is not enabled <samp><span class="command">bgpd</span></samp> can't get interface information
so <code>router-id</code> is set to 0.0.0.0.  So please set router-id by hand. 
</p></blockquote></div>

<ul class="menu">
<li><a accesskey="1" href="#BGP-distance">BGP distance</a>
<li><a accesskey="2" href="#BGP-decision-process">BGP decision process</a>
<li><a accesskey="3" href="#BGP-route-flap-dampening">BGP route flap dampening</a>
</ul>

<div class="node">
<a name="BGP-distance"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-decision-process">BGP decision process</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-router">BGP router</a>

</div>

<h4 class="subsection">10.2.1 BGP distance</h4>

<div class="defun">
&mdash; BGP: <b>distance bgp &lt;1-255&gt; &lt;1-255&gt; &lt;1-255&gt;</b><var> <a name="index-distance-bgp-_003c1_002d255_003e-_003c1_002d255_003e-_003c1_002d255_003e-419"></a></var><br>
<blockquote><p>This command change distance value of BGP.  Each argument is distance
value for external routes, internal routes and local routes. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>distance &lt;1-255&gt; </b><var>A.B.C.D/M</var><var> <a name="index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-420"></a></var><br>
&mdash; BGP: <b>distance &lt;1-255&gt; </b><var>A.B.C.D/M</var> <var>word</var><var> <a name="index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-_0040var_007bword_007d-421"></a></var><br>
<blockquote><p>This command set distance value to
</p></blockquote></div>

<div class="node">
<a name="BGP-decision-process"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-route-flap-dampening">BGP route flap dampening</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-distance">BGP distance</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-router">BGP router</a>

</div>

<h4 class="subsection">10.2.2 BGP decision process</h4>

     <dl>
<dt>1. Weight check
<br><dt>2. Local preference check.
<br><dt>3. Local route check.
<br><dt>4. AS path length check.
<br><dt>5. Origin check.
<br><dt>6. MED check.<dd></dl>

<div class="defun">
&mdash; BGP: <b>bgp bestpath as-path confed</b><var> <a name="index-bgp-bestpath-as_002dpath-confed-422"></a></var><br>
<blockquote><p>This command specifies that the length of confederation path sets and
sequences should should be taken into account during the BGP best path
decision process. 
</p></blockquote></div>

<div class="node">
<a name="BGP-route-flap-dampening"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-decision-process">BGP decision process</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-router">BGP router</a>

</div>

<h4 class="subsection">10.2.3 BGP route flap dampening</h4>

<div class="defun">
&mdash; BGP: <b>bgp dampening </b><var>&lt;1-45&gt;</var> <var>&lt;1-20000&gt;</var> <var>&lt;1-20000&gt;</var> <var>&lt;1-255&gt;</var><var> <a name="index-bgp-dampening-_0040var_007b_003c1_002d45_003e_007d-_0040var_007b_003c1_002d20000_003e_007d-_0040var_007b_003c1_002d20000_003e_007d-_0040var_007b_003c1_002d255_003e_007d-423"></a></var><br>
<blockquote><p>This command enables BGP route-flap dampening and specifies dampening parameters.

          <dl>
<dt>half-life<dd>Half-life time for the penalty
<br><dt>reuse-threshold<dd>Value to start reusing a route
<br><dt>suppress-threshold<dd>Value to start suppressing a route
<br><dt>max-suppress<dd>Maximum duration to suppress a stable route
</dl>

        <p>The route-flap damping algorithm is compatible with <cite>RFC2439</cite>. The use of this command
is not recommended nowadays, see <a href="http://www.ripe.net/ripe/docs/ripe-378">RIPE-378</a>. 
</p></blockquote></div>

<div class="node">
<a name="BGP-network"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Peer">BGP Peer</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-router">BGP router</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.3 BGP network</h3>

<ul class="menu">
<li><a accesskey="1" href="#BGP-route">BGP route</a>
<li><a accesskey="2" href="#Route-Aggregation">Route Aggregation</a>
<li><a accesskey="3" href="#Redistribute-to-BGP">Redistribute to BGP</a>
</ul>

<div class="node">
<a name="BGP-route"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Aggregation">Route Aggregation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-network">BGP network</a>

</div>

<h4 class="subsection">10.3.1 BGP route</h4>

<div class="defun">
&mdash; BGP: <b>network </b><var>A.B.C.D/M</var><var> <a name="index-network-_0040var_007bA_002eB_002eC_002eD_002fM_007d-424"></a></var><br>
<blockquote><p>This command adds the announcement network.
     <pre class="example">          router bgp 1
           network 10.0.0.0/8
</pre>
        <p>This configuration example says that network 10.0.0.0/8 will be
announced to all neighbors.  Some vendors' routers don't advertise
routes if they aren't present in their IGP routing tables; <code>bgpd</code>
doesn't care about IGP routes when announcing its routes. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>no network </b><var>A.B.C.D/M</var><var> <a name="index-no-network-_0040var_007bA_002eB_002eC_002eD_002fM_007d-425"></a></var><br>
        </div>

<div class="node">
<a name="Route-Aggregation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Redistribute-to-BGP">Redistribute to BGP</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-route">BGP route</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-network">BGP network</a>

</div>

<h4 class="subsection">10.3.2 Route Aggregation</h4>

<div class="defun">
&mdash; BGP: <b>aggregate-address </b><var>A.B.C.D/M</var><var> <a name="index-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-426"></a></var><br>
<blockquote><p>This command specifies an aggregate address. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>aggregate-address </b><var>A.B.C.D/M</var><b> as-set</b><var> <a name="index-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-as_002dset-427"></a></var><br>
<blockquote><p>This command specifies an aggregate address.  Resulting routes inlucde
AS set. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>aggregate-address </b><var>A.B.C.D/M</var><b> summary-only</b><var> <a name="index-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-summary_002donly-428"></a></var><br>
<blockquote><p>This command specifies an aggregate address.  Aggreated routes will
not be announce. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>no aggregate-address </b><var>A.B.C.D/M</var><var> <a name="index-no-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-429"></a></var><br>
        </div>

<div class="node">
<a name="Redistribute-to-BGP"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Aggregation">Route Aggregation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-network">BGP network</a>

</div>

<h4 class="subsection">10.3.3 Redistribute to BGP</h4>

<div class="defun">
&mdash; BGP: <b>redistribute kernel</b><var> <a name="index-redistribute-kernel-430"></a></var><br>
<blockquote><p>Redistribute kernel route to BGP process. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>redistribute static</b><var> <a name="index-redistribute-static-431"></a></var><br>
<blockquote><p>Redistribute static route to BGP process. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>redistribute connected</b><var> <a name="index-redistribute-connected-432"></a></var><br>
<blockquote><p>Redistribute connected route to BGP process. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>redistribute rip</b><var> <a name="index-redistribute-rip-433"></a></var><br>
<blockquote><p>Redistribute RIP route to BGP process. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>redistribute ospf</b><var> <a name="index-redistribute-ospf-434"></a></var><br>
<blockquote><p>Redistribute OSPF route to BGP process. 
</p></blockquote></div>

<div class="node">
<a name="BGP-Peer"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Peer-Group">BGP Peer Group</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-network">BGP network</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.4 BGP Peer</h3>

<ul class="menu">
<li><a accesskey="1" href="#Defining-Peer">Defining Peer</a>
<li><a accesskey="2" href="#BGP-Peer-commands">BGP Peer commands</a>
<li><a accesskey="3" href="#Peer-filtering">Peer filtering</a>
</ul>

<div class="node">
<a name="Defining-Peer"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Peer-commands">BGP Peer commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Peer">BGP Peer</a>

</div>

<h4 class="subsection">10.4.1 Defining Peer</h4>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> remote-as </b><var>asn</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-remote_002das-_0040var_007basn_007d-435"></a></var><br>
<blockquote><p>Creates a new neighbor whose remote-as is <var>asn</var>.  <var>peer</var>
can be an IPv4 address or an IPv6 address.
     <pre class="example">          router bgp 1
           neighbor 10.0.0.1 remote-as 2
</pre>
        <p>In this case my router, in AS-1, is trying to peer with AS-2 at
10.0.0.1.

        <p>This command must be the first command used when configuring a neighbor. 
If the remote-as is not specified, <samp><span class="command">bgpd</span></samp> will complain like this:
     <pre class="example">          can't find neighbor 10.0.0.1
</pre>
        </blockquote></div>

<div class="node">
<a name="BGP-Peer-commands"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Peer-filtering">Peer filtering</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Defining-Peer">Defining Peer</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Peer">BGP Peer</a>

</div>

<h4 class="subsection">10.4.2 BGP Peer commands</h4>

<p>In a <code>router bgp</code> clause there are neighbor specific configurations
required.

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> shutdown</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-shutdown-436"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> shutdown</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-shutdown-437"></a></var><br>
<blockquote><p>Shutdown the peer.  We can delete the neighbor's configuration by
<code>no neighbor </code><var>peer</var><code> remote-as </code><var>as-number</var> but all
configuration of the neighbor will be deleted.  When you want to
preserve the configuration, but want to drop the BGP peer, use this
syntax. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> ebgp-multihop</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-ebgp_002dmultihop-438"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> ebgp-multihop</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-ebgp_002dmultihop-439"></a></var><br>
        </div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> description ...</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-description-_002e_002e_002e-440"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> description ...</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-description-_002e_002e_002e-441"></a></var><br>
<blockquote><p>Set description of the peer. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> version </b><var>version</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-version-_0040var_007bversion_007d-442"></a></var><br>
<blockquote><p>Set up the neighbor's BGP version.  <var>version</var> can be <var>4</var>,
<var>4+</var> or <var>4-</var>.  BGP version <var>4</var> is the default value used for
BGP peering.  BGP version <var>4+</var> means that the neighbor supports
Multiprotocol Extensions for BGP-4.  BGP version <var>4-</var> is similar but
the neighbor speaks the old Internet-Draft revision 00's Multiprotocol
Extensions for BGP-4.  Some routing software is still using this
version. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> interface </b><var>ifname</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-interface-_0040var_007bifname_007d-443"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> interface </b><var>ifname</var><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-interface-_0040var_007bifname_007d-444"></a></var><br>
<blockquote><p>When you connect to a BGP peer over an IPv6 link-local address, you
have to specify the <var>ifname</var> of the interface used for the
connection. To specify IPv4 session addresses, see the
<code>neighbor </code><var>peer</var><code> update-source</code> command below.

        <p>This command is deprecated and may be removed in a future release. Its
use should be avoided. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> next-hop-self</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-next_002dhop_002dself-445"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> next-hop-self</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-next_002dhop_002dself-446"></a></var><br>
<blockquote><p>This command specifies an announced route's nexthop as being equivalent
to the address of the bgp router. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> update-source </b><var>&lt;ifname|address&gt;</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-update_002dsource-_0040var_007b_003cifname_007caddress_003e_007d-447"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> update-source</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-update_002dsource-448"></a></var><br>
<blockquote><p>Specify the IPv4 source address to use for the <acronym>BGP</acronym> session to this
neighbour, may be specified as either an IPv4 address directly or
as an interface name (in which case the <samp><span class="command">zebra</span></samp> daemon MUST be running
in order for <samp><span class="command">bgpd</span></samp> to be able to retrieve interface state).
     <pre class="example">          router bgp 64555
           neighbor foo update-source 192.168.0.1
           neighbor bar update-source lo0
</pre>
        </blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> default-originate</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-default_002doriginate-449"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> default-originate</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-default_002doriginate-450"></a></var><br>
<blockquote><p><samp><span class="command">bgpd</span></samp>'s default is to not announce the default route (0.0.0.0/0) even it
is in routing table.  When you want to announce default routes to the
peer, use this command. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> port </b><var>port</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-port-_0040var_007bport_007d-451"></a></var><br>
&mdash; BGP: <b>neighbor </b><var>peer</var><b> port </b><var>port</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-port-_0040var_007bport_007d-452"></a></var><br>
        </div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> send-community</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-send_002dcommunity-453"></a></var><br>
&mdash; BGP: <b>neighbor </b><var>peer</var><b> send-community</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-send_002dcommunity-454"></a></var><br>
        </div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> weight </b><var>weight</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-weight-_0040var_007bweight_007d-455"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> weight </b><var>weight</var><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-weight-_0040var_007bweight_007d-456"></a></var><br>
<blockquote><p>This command specifies a default <var>weight</var> value for the neighbor's
routes. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> maximum-prefix </b><var>number</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-maximum_002dprefix-_0040var_007bnumber_007d-457"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> maximum-prefix </b><var>number</var><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-maximum_002dprefix-_0040var_007bnumber_007d-458"></a></var><br>
        </div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> local-as </b><var>as-number</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-local_002das-_0040var_007bas_002dnumber_007d-459"></a></var><br>
&mdash; BGP: <b>neighbor </b><var>peer</var><b> local-as </b><var>as-number</var><b> no-prepend</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-local_002das-_0040var_007bas_002dnumber_007d-no_002dprepend-460"></a></var><br>
&mdash; BGP: <b>neighbor </b><var>peer</var><b> local-as </b><var>as-number</var><b> no-prepend replace-as</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-local_002das-_0040var_007bas_002dnumber_007d-no_002dprepend-replace_002das-461"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> local-as</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-local_002das-462"></a></var><br>
<blockquote><p>Specify an alternate AS for this BGP process when interacting with the
specified peer.  With no modifiers, the specified local-as is prepended to
the received AS_PATH when receiving routing updates from the peer, and
prepended to the outgoing AS_PATH (after the process local AS) when
transmitting local routes to the peer.

        <p>If the no-prepend attribute is specified, then the supplied local-as is not
prepended to the received AS_PATH.

        <p>If the replace-as attribute is specified, then only the supplied local-as is
prepended to the AS_PATH when transmitting local-route updates to this peer.

        <p>Note that replace-as can only be specified if no-prepend is.

        <p>This command is only allowed for eBGP peers. 
</p></blockquote></div>

<div class="node">
<a name="Peer-filtering"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Peer-commands">BGP Peer commands</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Peer">BGP Peer</a>

</div>

<h4 class="subsection">10.4.3 Peer filtering</h4>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> distribute-list </b><var>name</var><b> [in|out]</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-distribute_002dlist-_0040var_007bname_007d-_005bin_007cout_005d-463"></a></var><br>
<blockquote><p>This command specifies a distribute-list for the peer.  <var>direct</var> is
&lsquo;<samp><span class="samp">in</span></samp>&rsquo; or &lsquo;<samp><span class="samp">out</span></samp>&rsquo;. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP command: <b>neighbor </b><var>peer</var><b> prefix-list </b><var>name</var><b> [in|out]</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-prefix_002dlist-_0040var_007bname_007d-_005bin_007cout_005d-464"></a></var><br>
        </div>

<div class="defun">
&mdash; BGP command: <b>neighbor </b><var>peer</var><b> filter-list </b><var>name</var><b> [in|out]</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-filter_002dlist-_0040var_007bname_007d-_005bin_007cout_005d-465"></a></var><br>
        </div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> route-map </b><var>name</var><b> [in|out]</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-route_002dmap-_0040var_007bname_007d-_005bin_007cout_005d-466"></a></var><br>
<blockquote><p>Apply a route-map on the neighbor.  <var>direct</var> must be <code>in</code> or
<code>out</code>. 
</p></blockquote></div>

<!--  -->
<div class="node">
<a name="BGP-Peer-Group"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Address-Family">BGP Address Family</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Peer">BGP Peer</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.5 BGP Peer Group</h3>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>word</var><b> peer-group</b><var> <a name="index-neighbor-_0040var_007bword_007d-peer_002dgroup-467"></a></var><br>
<blockquote><p>This command defines a new peer group. 
</p></blockquote></div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> peer-group </b><var>word</var><var> <a name="index-neighbor-_0040var_007bpeer_007d-peer_002dgroup-_0040var_007bword_007d-468"></a></var><br>
<blockquote><p>This command bind specific peer to peer group <var>word</var>. 
</p></blockquote></div>

<div class="node">
<a name="BGP-Address-Family"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Autonomous-System">Autonomous System</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Peer-Group">BGP Peer Group</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.6 BGP Address Family</h3>

<!--  -->
<div class="node">
<a name="Autonomous-System"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Address-Family">BGP Address Family</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.7 Autonomous System</h3>

<p>The <acronym title="Autonomous System">AS</acronym> (Autonomous System) number is one of the essential
element of BGP.  BGP is a distance vector routing protocol, and the
AS-Path framework provides distance vector metric and loop detection to
BGP. <cite>RFC1930, Guidelines for creation, selection, and
registration of an Autonomous System (AS)</cite> provides some background on
the concepts of an AS.

   <p>The AS number is a two octet value, ranging in value from 1 to 65535. 
The AS numbers 64512 through 65535 are defined as private AS numbers. 
Private AS numbers must not to be advertised in the global Internet.

<ul class="menu">
<li><a accesskey="1" href="#AS-Path-Regular-Expression">AS Path Regular Expression</a>
<li><a accesskey="2" href="#Display-BGP-Routes-by-AS-Path">Display BGP Routes by AS Path</a>
<li><a accesskey="3" href="#AS-Path-Access-List">AS Path Access List</a>
<li><a accesskey="4" href="#Using-AS-Path-in-Route-Map">Using AS Path in Route Map</a>
<li><a accesskey="5" href="#Private-AS-Numbers">Private AS Numbers</a>
</ul>

<div class="node">
<a name="AS-Path-Regular-Expression"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Display-BGP-Routes-by-AS-Path">Display BGP Routes by AS Path</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autonomous-System">Autonomous System</a>

</div>

<h4 class="subsection">10.7.1 AS Path Regular Expression</h4>

<p>AS path regular expression can be used for displaying BGP routes and
AS path access list.  AS path regular expression is based on
<code>POSIX 1003.2</code> regular expressions.  Following description is
just a subset of <code>POSIX</code> regular expression.  User can use full
<code>POSIX</code> regular expression.  Adding to that special character '_'
is added for AS path regular expression.

     <dl>
<dt><code>.</code><dd>Matches any single character. 
<br><dt><code>*</code><dd>Matches 0 or more occurrences of pattern. 
<br><dt><code>+</code><dd>Matches 1 or more occurrences of pattern. 
<br><dt><code>?</code><dd>Match 0 or 1 occurrences of pattern. 
<br><dt><code>^</code><dd>Matches the beginning of the line. 
<br><dt><code>$</code><dd>Matches the end of the line. 
<br><dt><code>_</code><dd>Character <code>_</code> has special meanings in AS path regular expression. 
It matches to space and comma , and AS set delimiter { and } and AS
confederation delimiter <code>(</code> and <code>)</code>.  And it also matches to
the beginning of the line and the end of the line.  So <code>_</code> can be
used for AS value boundaries match.  <code>show ip bgp regexp _7675_</code>
matches to all of BGP routes which as AS number include <var>7675</var>. 
</dl>

<div class="node">
<a name="Display-BGP-Routes-by-AS-Path"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#AS-Path-Access-List">AS Path Access List</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#AS-Path-Regular-Expression">AS Path Regular Expression</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autonomous-System">Autonomous System</a>

</div>

<h4 class="subsection">10.7.2 Display BGP Routes by AS Path</h4>

<p>To show BGP routes which has specific AS path information <code>show
ip bgp</code> command can be used.

<div class="defun">
&mdash; Command: <b>show ip bgp regexp </b><var>line</var><var> <a name="index-show-ip-bgp-regexp-_0040var_007bline_007d-469"></a></var><br>
<blockquote><p>This commands display BGP routes that matches AS path regular
expression <var>line</var>. 
</p></blockquote></div>

<div class="node">
<a name="AS-Path-Access-List"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-AS-Path-in-Route-Map">Using AS Path in Route Map</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Display-BGP-Routes-by-AS-Path">Display BGP Routes by AS Path</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autonomous-System">Autonomous System</a>

</div>

<h4 class="subsection">10.7.3 AS Path Access List</h4>

<p>AS path access list is user defined AS path.

<div class="defun">
&mdash; Command: <b>ip as-path access-list </b><var>word</var><b> {permit|deny} </b><var>line</var><var> <a name="index-ip-as_002dpath-access_002dlist-_0040var_007bword_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-470"></a></var><br>
<blockquote><p>This command defines a new AS path access list. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no ip as-path access-list </b><var>word</var><var> <a name="index-no-ip-as_002dpath-access_002dlist-_0040var_007bword_007d-471"></a></var><br>
&mdash; Command: <b>no ip as-path access-list </b><var>word</var><b> {permit|deny} </b><var>line</var><var> <a name="index-no-ip-as_002dpath-access_002dlist-_0040var_007bword_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-472"></a></var><br>
        </div>

<div class="node">
<a name="Using-AS-Path-in-Route-Map"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Private-AS-Numbers">Private AS Numbers</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#AS-Path-Access-List">AS Path Access List</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autonomous-System">Autonomous System</a>

</div>

<h4 class="subsection">10.7.4 Using AS Path in Route Map</h4>

<div class="defun">
&mdash; Route Map: <b>match as-path </b><var>word</var><var> <a name="index-match-as_002dpath-_0040var_007bword_007d-473"></a></var><br>
     </div>

<div class="defun">
&mdash; Route Map: <b>set as-path prepend </b><var>as-path</var><var> <a name="index-set-as_002dpath-prepend-_0040var_007bas_002dpath_007d-474"></a></var><br>
        </div>

<div class="node">
<a name="Private-AS-Numbers"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Using-AS-Path-in-Route-Map">Using AS Path in Route Map</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Autonomous-System">Autonomous System</a>

</div>

<h4 class="subsection">10.7.5 Private AS Numbers</h4>

<!--  -->
<div class="node">
<a name="BGP-Communities-Attribute"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Extended-Communities-Attribute">BGP Extended Communities Attribute</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Autonomous-System">Autonomous System</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.8 BGP Communities Attribute</h3>

<p>BGP communities attribute is widely used for implementing policy
routing.  Network operators can manipulate BGP communities attribute
based on their network policy.  BGP communities attribute is defined
in <cite>RFC1997, BGP Communities Attribute</cite> and
<cite>RFC1998, An Application of the BGP Community Attribute
in Multi-home Routing</cite>.  It is an optional transitive attribute,
therefore local policy can travel through different autonomous system.

   <p>Communities attribute is a set of communities values.  Each
communities value is 4 octet long.  The following format is used to
define communities value.

     <dl>
<dt><code>AS:VAL</code><dd>This format represents 4 octet communities value.  <code>AS</code> is high
order 2 octet in digit format.  <code>VAL</code> is low order 2 octet in
digit format.  This format is useful to define AS oriented policy
value.  For example, <code>7675:80</code> can be used when AS 7675 wants to
pass local policy value 80 to neighboring peer. 
<br><dt><code>internet</code><dd><code>internet</code> represents well-known communities value 0. 
<br><dt><code>no-export</code><dd><code>no-export</code> represents well-known communities value <code>NO_EXPORT</code><br>
<span class="roman">(0xFFFFFF01)</span>.  All routes carry this value must not be advertised
to outside a BGP confederation boundary.  If neighboring BGP peer is
part of BGP confederation, the peer is considered as inside a BGP
confederation boundary, so the route will be announced to the peer. 
<br><dt><code>no-advertise</code><dd><code>no-advertise</code> represents well-known communities value
<code>NO_ADVERTISE</code><br><span class="roman">(0xFFFFFF02)</span>.  All routes carry this value
must not be advertise to other BGP peers. 
<br><dt><code>local-AS</code><dd><code>local-AS</code> represents well-known communities value
<code>NO_EXPORT_SUBCONFED</code> <span class="roman">(0xFFFFFF03)</span>.  All routes carry this
value must not be advertised to external BGP peers.  Even if the
neighboring router is part of confederation, it is considered as
external BGP peer, so the route will not be announced to the peer. 
</dl>

   <p>When BGP communities attribute is received, duplicated communities
value in the communities attribute is ignored and each communities
values are sorted in numerical order.

<ul class="menu">
<li><a accesskey="1" href="#BGP-Community-Lists">BGP Community Lists</a>
<li><a accesskey="2" href="#Numbered-BGP-Community-Lists">Numbered BGP Community Lists</a>
<li><a accesskey="3" href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a>
<li><a accesskey="4" href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a>
<li><a accesskey="5" href="#Using-BGP-Communities-Attribute">Using BGP Communities Attribute</a>
</ul>

<div class="node">
<a name="BGP-Community-Lists"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Numbered-BGP-Community-Lists">Numbered BGP Community Lists</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>

</div>

<h4 class="subsection">10.8.1 BGP Community Lists</h4>

<p>BGP community list is a user defined BGP communites attribute list. 
BGP community list can be used for matching or manipulating BGP
communities attribute in updates.

   <p>There are two types of community list.  One is standard community
list and another is expanded community list.  Standard community list
defines communities attribute.  Expanded community list defines
communities attribute string with regular expression.  Standard
community list is compiled into binary format when user define it. 
Standard community list will be directly compared to BGP communities
attribute in BGP updates.  Therefore the comparison is faster than
expanded community list.

<div class="defun">
&mdash; Command: <b>ip community-list standard </b><var>name</var><b> {permit|deny} </b><var>community</var><var> <a name="index-ip-community_002dlist-standard-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-475"></a></var><br>
<blockquote><p>This command defines a new standard community list.  <var>community</var>
is communities value.  The <var>community</var> is compiled into community
structure.  We can define multiple community list under same name.  In
that case match will happen user defined order.  Once the
community list matches to communities attribute in BGP updates it
return permit or deny by the community list definition.  When there is
no matched entry, deny will be returned.  When <var>community</var> is
empty it matches to any routes. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>ip community-list expanded </b><var>name</var><b> {permit|deny} </b><var>line</var><var> <a name="index-ip-community_002dlist-expanded-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-476"></a></var><br>
<blockquote><p>This command defines a new expanded community list.  <var>line</var> is a
string expression of communities attribute.  <var>line</var> can include
regular expression to match communities attribute in BGP updates. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no ip community-list </b><var>name</var><var> <a name="index-no-ip-community_002dlist-_0040var_007bname_007d-477"></a></var><br>
&mdash; Command: <b>no ip community-list standard </b><var>name</var><var> <a name="index-no-ip-community_002dlist-standard-_0040var_007bname_007d-478"></a></var><br>
&mdash; Command: <b>no ip community-list expanded </b><var>name</var><var> <a name="index-no-ip-community_002dlist-expanded-_0040var_007bname_007d-479"></a></var><br>
<blockquote><p>These commands delete community lists specified by <var>name</var>.  All of
community lists shares a single name space.  So community lists can be
removed simpley specifying community lists name. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip community-list</b><var> <a name="index-show-ip-community_002dlist-480"></a></var><br>
&mdash; Command: <b>show ip community-list </b><var>name</var><var> <a name="index-show-ip-community_002dlist-_0040var_007bname_007d-481"></a></var><br>
<blockquote><p>This command display current community list information.  When
<var>name</var> is specified the specified community list's information is
shown.

     <pre class="example">          # show ip community-list
          Named Community standard list CLIST
              permit 7675:80 7675:100 no-export
              deny internet
          Named Community expanded list EXPAND
              permit :
          
          # show ip community-list CLIST
          Named Community standard list CLIST
              permit 7675:80 7675:100 no-export
              deny internet
</pre>
        </blockquote></div>

<div class="node">
<a name="Numbered-BGP-Community-Lists"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Community-Lists">BGP Community Lists</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>

</div>

<h4 class="subsection">10.8.2 Numbered BGP Community Lists</h4>

<p>When number is used for BGP community list name, the number has
special meanings.  Community list number in the range from 1 and 99 is
standard community list.  Community list number in the range from 100
to 199 is expanded community list.  These community lists are called
as numbered community lists.  On the other hand normal community lists
is called as named community lists.

<div class="defun">
&mdash; Command: <b>ip community-list &lt;1-99&gt; {permit|deny} </b><var>community</var><var> <a name="index-ip-community_002dlist-_003c1_002d99_003e-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-482"></a></var><br>
<blockquote><p>This command defines a new community list.  &lt;1-99&gt; is standard
community list number.  Community list name within this range defines
standard community list.  When <var>community</var> is empty it matches to
any routes. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>ip community-list &lt;100-199&gt; {permit|deny} </b><var>community</var><var> <a name="index-ip-community_002dlist-_003c100_002d199_003e-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-483"></a></var><br>
<blockquote><p>This command defines a new community list.  &lt;100-199&gt; is expanded
community list number.  Community list name within this range defines
expanded community list. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>ip community-list </b><var>name</var><b> {permit|deny} </b><var>community</var><var> <a name="index-ip-community_002dlist-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-484"></a></var><br>
<blockquote><p>When community list type is not specifed, the community list type is
automatically detected.  If <var>community</var> can be compiled into
communities attribute, the community list is defined as a standard
community list.  Otherwise it is defined as an expanded community
list.  This feature is left for backward compability.  Use of this
feature is not recommended. 
</p></blockquote></div>

<div class="node">
<a name="BGP-Community-in-Route-Map"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Numbered-BGP-Community-Lists">Numbered BGP Community Lists</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>

</div>

<h4 class="subsection">10.8.3 BGP Community in Route Map</h4>

<p>In Route Map (see <a href="#Route-Map">Route Map</a>), we can match or set BGP
communities attribute.  Using this feature network operator can
implement their network policy based on BGP communities attribute.

   <p>Following commands can be used in Route Map.

<div class="defun">
&mdash; Route Map: <b>match community </b><var>word</var><var> <a name="index-match-community-_0040var_007bword_007d-485"></a></var><br>
&mdash; Route Map: <b>match community </b><var>word</var><b> exact-match</b><var> <a name="index-match-community-_0040var_007bword_007d-exact_002dmatch-486"></a></var><br>
<blockquote><p>This command perform match to BGP updates using community list
<var>word</var>.  When the one of BGP communities value match to the one of
communities value in community list, it is match.  When
<code>exact-match</code> keyword is spcified, match happen only when BGP
updates have completely same communities value specified in the
community list. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>set community none</b><var> <a name="index-set-community-none-487"></a></var><br>
&mdash; Route Map: <b>set community </b><var>community</var><var> <a name="index-set-community-_0040var_007bcommunity_007d-488"></a></var><br>
&mdash; Route Map: <b>set community </b><var>community</var><b> additive</b><var> <a name="index-set-community-_0040var_007bcommunity_007d-additive-489"></a></var><br>
<blockquote><p>This command manipulate communities value in BGP updates.  When
<code>none</code> is specified as communities value, it removes entire
communities attribute from BGP updates.  When <var>community</var> is not
<code>none</code>, specified communities value is set to BGP updates.  If
BGP updates already has BGP communities value, the existing BGP
communities value is replaced with specified <var>community</var> value. 
When <code>additive</code> keyword is specified, <var>community</var> is appended
to the existing communities value. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>set comm-list </b><var>word</var><b> delete</b><var> <a name="index-set-comm_002dlist-_0040var_007bword_007d-delete-490"></a></var><br>
<blockquote><p>This command remove communities value from BGP communities attribute. 
The <var>word</var> is community list name.  When BGP route's communities
value matches to the community list <var>word</var>, the communities value
is removed.  When all of communities value is removed eventually, the
BGP update's communities attribute is completely removed. 
</p></blockquote></div>

<div class="node">
<a name="Display-BGP-Routes-by-Community"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Using-BGP-Communities-Attribute">Using BGP Communities Attribute</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>

</div>

<h4 class="subsection">10.8.4 Display BGP Routes by Community</h4>

<p>To show BGP routes which has specific BGP communities attribute,
<code>show ip bgp</code> command can be used.  The <var>community</var> value and
community list can be used for <code>show ip bgp</code> command.

<div class="defun">
&mdash; Command: <b>show ip bgp community</b><var> <a name="index-show-ip-bgp-community-491"></a></var><br>
&mdash; Command: <b>show ip bgp community </b><var>community</var><var> <a name="index-show-ip-bgp-community-_0040var_007bcommunity_007d-492"></a></var><br>
&mdash; Command: <b>show ip bgp community </b><var>community</var><b> exact-match</b><var> <a name="index-show-ip-bgp-community-_0040var_007bcommunity_007d-exact_002dmatch-493"></a></var><br>
<blockquote><p><code>show ip bgp community</code> displays BGP routes which has communities
attribute.  When <var>community</var> is specified, BGP routes that matches
<var>community</var> value is displayed.  For this command, <code>internet</code>
keyword can't be used for <var>community</var> value.  When
<code>exact-match</code> is specified, it display only routes that have an
exact match. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip bgp community-list </b><var>word</var><var> <a name="index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-494"></a></var><br>
&mdash; Command: <b>show ip bgp community-list </b><var>word</var><b> exact-match</b><var> <a name="index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-exact_002dmatch-495"></a></var><br>
<blockquote><p>This commands display BGP routes that matches community list
<var>word</var>.  When <code>exact-match</code> is specified, display only routes
that have an exact match. 
</p></blockquote></div>

<div class="node">
<a name="Using-BGP-Communities-Attribute"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>

</div>

<h4 class="subsection">10.8.5 Using BGP Communities Attribute</h4>

<p>Following configuration is the most typical usage of BGP communities
attribute.  AS 7675 provides upstream Internet connection to AS 100. 
When following configuration exists in AS 7675, AS 100 networks
operator can set local preference in AS 7675 network by setting BGP
communities attribute to the updates.

<pre class="example">     router bgp 7675
      neighbor 192.168.0.1 remote-as 100
      neighbor 192.168.0.1 route-map RMAP in
     !
     ip community-list 70 permit 7675:70
     ip community-list 70 deny
     ip community-list 80 permit 7675:80
     ip community-list 80 deny
     ip community-list 90 permit 7675:90
     ip community-list 90 deny
     !
     route-map RMAP permit 10
      match community 70
      set local-preference 70
     !
     route-map RMAP permit 20
      match community 80
      set local-preference 80
     !
     route-map RMAP permit 30
      match community 90
      set local-preference 90
</pre>
   <p>Following configuration announce 10.0.0.0/8 from AS 100 to AS 7675. 
The route has communities value 7675:80 so when above configuration
exists in AS 7675, announced route's local preference will be set to
value 80.

<pre class="example">     router bgp 100
      network 10.0.0.0/8
      neighbor 192.168.0.2 remote-as 7675
      neighbor 192.168.0.2 route-map RMAP out
     !
     ip prefix-list PLIST permit 10.0.0.0/8
     !
     route-map RMAP permit 10
      match ip address prefix-list PLIST
      set community 7675:80
</pre>
   <p>Following configuration is an example of BGP route filtering using
communities attribute.  This configuration only permit BGP routes
which has BGP communities value 0:80 or 0:90.  Network operator can
put special internal communities value at BGP border router, then
limit the BGP routes announcement into the internal network.

<pre class="example">     router bgp 7675
      neighbor 192.168.0.1 remote-as 100
      neighbor 192.168.0.1 route-map RMAP in
     !
     ip community-list 1 permit 0:80 0:90
     !
     route-map RMAP permit in
      match community 1
</pre>
   <p>Following exmaple filter BGP routes which has communities value 1:1. 
When there is no match community-list returns deny.  To avoid
filtering all of routes, we need to define permit any at last.

<pre class="example">     router bgp 7675
      neighbor 192.168.0.1 remote-as 100
      neighbor 192.168.0.1 route-map RMAP in
     !
     ip community-list standard FILTER deny 1:1
     ip community-list standard FILTER permit
     !
     route-map RMAP permit 10
      match community FILTER
</pre>
   <p>Communities value keyword <code>internet</code> has special meanings in
standard community lists.  In below example <code>internet</code> act as
match any.  It matches all of BGP routes even if the route does not
have communities attribute at all.  So community list <code>INTERNET</code>
is same as above example's <code>FILTER</code>.

<pre class="example">     ip community-list standard INTERNET deny 1:1
     ip community-list standard INTERNET permit internet
</pre>
   <p>Following configuration is an example of communities value deletion. 
With this configuration communities value 100:1 and 100:2 is removed
from BGP updates.  For communities value deletion, only <code>permit</code>
community-list is used.  <code>deny</code> community-list is ignored.

<pre class="example">     router bgp 7675
      neighbor 192.168.0.1 remote-as 100
      neighbor 192.168.0.1 route-map RMAP in
     !
     ip community-list standard DEL permit 100:1 100:2
     !
     route-map RMAP permit 10
      set comm-list DEL delete
</pre>
   <!--  -->
<div class="node">
<a name="BGP-Extended-Communities-Attribute"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Displaying-BGP-routes">Displaying BGP routes</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Communities-Attribute">BGP Communities Attribute</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.9 BGP Extended Communities Attribute</h3>

<p>BGP extended communities attribute is introduced with MPLS VPN/BGP
technology.  MPLS VPN/BGP expands capability of network infrastructure
to provide VPN functionality.  At the same time it requires a new
framework for policy routing.  With BGP Extended Communities Attribute
we can use Route Target or Site of Origin for implementing network
policy for MPLS VPN/BGP.

   <p>BGP Extended Communities Attribute is similar to BGP Communities
Attribute.  It is an optional transitive attribute.  BGP Extended
Communities Attribute can carry multiple Extended Community value. 
Each Extended Community value is eight octet length.

   <p>BGP Extended Communities Attribute provides an extended range
compared with BGP Communities Attribute.  Adding to that there is a
type field in each value to provides community space structure.

   <p>There are two format to define Extended Community value.  One is AS
based format the other is IP address based format.

     <dl>
<dt><code>AS:VAL</code><dd>This is a format to define AS based Extended Community value. 
<code>AS</code> part is 2 octets Global Administrator subfield in Extended
Community value.  <code>VAL</code> part is 4 octets Local Administrator
subfield.  <code>7675:100</code> represents AS 7675 policy value 100. 
<br><dt><code>IP-Address:VAL</code><dd>This is a format to define IP address based Extended Community value. 
<code>IP-Address</code> part is 4 octets Global Administrator subfield. 
<code>VAL</code> part is 2 octets Local Administrator subfield. 
<code>10.0.0.1:100</code> represents
</dl>

<ul class="menu">
<li><a accesskey="1" href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a>
<li><a accesskey="2" href="#BGP-Extended-Communities-in-Route-Map">BGP Extended Communities in Route Map</a>
</ul>

<div class="node">
<a name="BGP-Extended-Community-Lists"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Extended-Communities-in-Route-Map">BGP Extended Communities in Route Map</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Extended-Communities-Attribute">BGP Extended Communities Attribute</a>

</div>

<h4 class="subsection">10.9.1 BGP Extended Community Lists</h4>

<p>Expanded Community Lists is a user defined BGP Expanded Community
Lists.

<div class="defun">
&mdash; Command: <b>ip extcommunity-list standard </b><var>name</var><b> {permit|deny} </b><var>extcommunity</var><var> <a name="index-ip-extcommunity_002dlist-standard-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bextcommunity_007d-496"></a></var><br>
<blockquote><p>This command defines a new standard extcommunity-list. 
<var>extcommunity</var> is extended communities value.  The
<var>extcommunity</var> is compiled into extended community structure.  We
can define multiple extcommunity-list under same name.  In that case
match will happen user defined order.  Once the extcommunity-list
matches to extended communities attribute in BGP updates it return
permit or deny based upon the extcommunity-list definition.  When
there is no matched entry, deny will be returned.  When
<var>extcommunity</var> is empty it matches to any routes. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>ip extcommunity-list expanded </b><var>name</var><b> {permit|deny} </b><var>line</var><var> <a name="index-ip-extcommunity_002dlist-expanded-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-497"></a></var><br>
<blockquote><p>This command defines a new expanded extcommunity-list.  <var>line</var> is
a string expression of extended communities attribute.  <var>line</var> can
include regular expression to match extended communities attribute in
BGP updates. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no ip extcommunity-list </b><var>name</var><var> <a name="index-no-ip-extcommunity_002dlist-_0040var_007bname_007d-498"></a></var><br>
&mdash; Command: <b>no ip extcommunity-list standard </b><var>name</var><var> <a name="index-no-ip-extcommunity_002dlist-standard-_0040var_007bname_007d-499"></a></var><br>
&mdash; Command: <b>no ip extcommunity-list expanded </b><var>name</var><var> <a name="index-no-ip-extcommunity_002dlist-expanded-_0040var_007bname_007d-500"></a></var><br>
<blockquote><p>These commands delete extended community lists specified by
<var>name</var>.  All of extended community lists shares a single name
space.  So extended community lists can be removed simpley specifying
the name. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip extcommunity-list</b><var> <a name="index-show-ip-extcommunity_002dlist-501"></a></var><br>
&mdash; Command: <b>show ip extcommunity-list </b><var>name</var><var> <a name="index-show-ip-extcommunity_002dlist-_0040var_007bname_007d-502"></a></var><br>
<blockquote><p>This command display current extcommunity-list information.  When
<var>name</var> is specified the community list's information is shown.

     <pre class="example">          # show ip extcommunity-list
</pre>
        </blockquote></div>

<div class="node">
<a name="BGP-Extended-Communities-in-Route-Map"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP-Extended-Communities-Attribute">BGP Extended Communities Attribute</a>

</div>

<h4 class="subsection">10.9.2 BGP Extended Communities in Route Map</h4>

<div class="defun">
&mdash; Route Map: <b>match extcommunity </b><var>word</var><var> <a name="index-match-extcommunity-_0040var_007bword_007d-503"></a></var><br>
     </div>

<div class="defun">
&mdash; Route Map: <b>set extcommunity rt </b><var>extcommunity</var><var> <a name="index-set-extcommunity-rt-_0040var_007bextcommunity_007d-504"></a></var><br>
<blockquote><p>This command set Route Target value. 
</p></blockquote></div>

<div class="defun">
&mdash; Route Map: <b>set extcommunity soo </b><var>extcommunity</var><var> <a name="index-set-extcommunity-soo-_0040var_007bextcommunity_007d-505"></a></var><br>
<blockquote><p>This command set Site of Origin value. 
</p></blockquote></div>

<!--  -->
<div class="node">
<a name="Displaying-BGP-routes"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Capability-Negotiation">Capability Negotiation</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-Extended-Communities-Attribute">BGP Extended Communities Attribute</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.10 Displaying BGP Routes</h3>

<ul class="menu">
<li><a accesskey="1" href="#Show-IP-BGP">Show IP BGP</a>
<li><a accesskey="2" href="#More-Show-IP-BGP">More Show IP BGP</a>
</ul>

<div class="node">
<a name="Show-IP-BGP"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#More-Show-IP-BGP">More Show IP BGP</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Displaying-BGP-routes">Displaying BGP routes</a>

</div>

<h4 class="subsection">10.10.1 Show IP BGP</h4>

<div class="defun">
&mdash; Command: <b>show ip bgp</b><var> <a name="index-show-ip-bgp-506"></a></var><br>
&mdash; Command: <b>show ip bgp </b><var>A.B.C.D</var><var> <a name="index-show-ip-bgp-_0040var_007bA_002eB_002eC_002eD_007d-507"></a></var><br>
&mdash; Command: <b>show ip bgp </b><var>X:X::X:X</var><var> <a name="index-show-ip-bgp-_0040var_007bX_003aX_003a_003aX_003aX_007d-508"></a></var><br>
<blockquote><p>This command displays BGP routes.  When no route is specified it
display all of IPv4 BGP routes. 
</p></blockquote></div>

<pre class="example">     BGP table version is 0, local router ID is 10.1.1.1
     Status codes: s suppressed, d damped, h history, * valid, &gt; best, i - internal
     Origin codes: i - IGP, e - EGP, ? - incomplete
     
        Network          Next Hop            Metric LocPrf Weight Path
     *&gt; 1.1.1.1/32       0.0.0.0                  0         32768 i
     
     Total number of prefixes 1
</pre>
   <div class="node">
<a name="More-Show-IP-BGP"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Show-IP-BGP">Show IP BGP</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Displaying-BGP-routes">Displaying BGP routes</a>

</div>

<h4 class="subsection">10.10.2 More Show IP BGP</h4>

<div class="defun">
&mdash; Command: <b>show ip bgp regexp </b><var>line</var><var> <a name="index-show-ip-bgp-regexp-_0040var_007bline_007d-509"></a></var><br>
<blockquote><p>This command display BGP routes using AS path regular expression (see <a href="#Display-BGP-Routes-by-AS-Path">Display BGP Routes by AS Path</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip bgp community </b><var>community</var><var> <a name="index-show-ip-bgp-community-_0040var_007bcommunity_007d-510"></a></var><br>
&mdash; Command: <b>show ip bgp community </b><var>community</var><b> exact-match</b><var> <a name="index-show-ip-bgp-community-_0040var_007bcommunity_007d-exact_002dmatch-511"></a></var><br>
<blockquote><p>This command display BGP routes using <var>community</var> (see <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip bgp community-list </b><var>word</var><var> <a name="index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-512"></a></var><br>
&mdash; Command: <b>show ip bgp community-list </b><var>word</var><b> exact-match</b><var> <a name="index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-exact_002dmatch-513"></a></var><br>
<blockquote><p>This command display BGP routes using community list (see <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a>). 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip bgp summary</b><var> <a name="index-show-ip-bgp-summary-514"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip bgp neighbor [</b><var>peer</var><b>]</b><var> <a name="index-show-ip-bgp-neighbor-_005b_0040var_007bpeer_007d_005d-515"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>clear ip bgp </b><var>peer</var><var> <a name="index-clear-ip-bgp-_0040var_007bpeer_007d-516"></a></var><br>
<blockquote><p>Clear peers which have addresses of X.X.X.X
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>clear ip bgp </b><var>peer</var><b> soft in</b><var> <a name="index-clear-ip-bgp-_0040var_007bpeer_007d-soft-in-517"></a></var><br>
<blockquote><p>Clear peer using soft reconfiguration. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip bgp dampened-paths</b><var> <a name="index-show-ip-bgp-dampened_002dpaths-518"></a></var><br>
<blockquote><p>Display paths suppressed due to dampening
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip bgp flap-statistics</b><var> <a name="index-show-ip-bgp-flap_002dstatistics-519"></a></var><br>
<blockquote><p>Display flap statistics of routes
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show debug</b><var> <a name="index-show-debug-520"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug event</b><var> <a name="index-debug-event-521"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug update</b><var> <a name="index-debug-update-522"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>debug keepalive</b><var> <a name="index-debug-keepalive-523"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>no debug event</b><var> <a name="index-no-debug-event-524"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>no debug update</b><var> <a name="index-no-debug-update-525"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>no debug keepalive</b><var> <a name="index-no-debug-keepalive-526"></a></var><br>
        </div>

<div class="node">
<a name="Capability-Negotiation"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Reflector">Route Reflector</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Displaying-BGP-routes">Displaying BGP routes</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.11 Capability Negotiation</h3>

<p>When adding IPv6 routing information exchange feature to BGP.  There
were some proposals.  <acronym title="Internet Engineering Task Force">IETF</acronym> (Internet Engineering Task Force)
<acronym title="Inter Domain Routing">IDR</acronym> (Inter Domain Routing) <acronym title="Working group">WG</acronym> (Working group) adopted
a proposal called Multiprotocol Extension for BGP.  The specification
is described in <cite>RFC2283</cite>.  The protocol does not define new protocols. 
It defines new attributes to existing BGP.  When it is used exchanging
IPv6 routing information it is called BGP-4+.  When it is used for
exchanging multicast routing information it is called MBGP.

   <p><samp><span class="command">bgpd</span></samp> supports Multiprotocol Extension for BGP.  So if remote
peer supports the protocol, <samp><span class="command">bgpd</span></samp> can exchange IPv6 and/or
multicast routing information.

   <p>Traditional BGP did not have the feature to detect remote peer's
capabilities, e.g. whether it can handle prefix types other than IPv4
unicast routes.  This was a big problem using Multiprotocol Extension
for BGP to operational network.  <cite>RFC2842, Capabilities
Advertisement with BGP-4</cite> adopted a feature called Capability
Negotiation. <samp><span class="command">bgpd</span></samp> use this Capability Negotiation to detect
the remote peer's capabilities.  If the peer is only configured as IPv4
unicast neighbor, <samp><span class="command">bgpd</span></samp> does not send these Capability
Negotiation packets (at least not unless other optional BGP features
require capability negotation).

   <p>By default, Quagga will bring up peering with minimal common capability
for the both sides.  For example, local router has unicast and
multicast capabilitie and remote router has unicast capability.  In
this case, the local router will establish the connection with unicast
only capability. When there are no common capabilities, Quagga sends
Unsupported Capability error and then resets the connection.

   <p>If you want to completely match capabilities with remote peer.  Please
use <samp><span class="command">strict-capability-match</span></samp> command.

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> strict-capability-match</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-strict_002dcapability_002dmatch-527"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> strict-capability-match</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-strict_002dcapability_002dmatch-528"></a></var><br>
<blockquote><p>Strictly compares remote capabilities and local capabilities.  If capabilities
are different, send Unsupported Capability error then reset connection. 
</p></blockquote></div>

   <p>You may want to disable sending Capability Negotiation OPEN message
optional parameter to the peer when remote peer does not implement
Capability Negotiation.  Please use <samp><span class="command">dont-capability-negotiate</span></samp>
command to disable the feature.

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> dont-capability-negotiate</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-dont_002dcapability_002dnegotiate-529"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> dont-capability-negotiate</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-dont_002dcapability_002dnegotiate-530"></a></var><br>
<blockquote><p>Suppress sending Capability Negotiation as OPEN message optional
parameter to the peer.  This command only affects the peer is configured
other than IPv4 unicast configuration. 
</p></blockquote></div>

   <p>When remote peer does not have capability negotiation feature, remote
peer will not send any capabilities at all.  In that case, bgp
configures the peer with configured capabilities.

   <p>You may prefer locally configured capabilities more than the negotiated
capabilities even though remote peer sends capabilities.  If the peer
is configured by <samp><span class="command">override-capability</span></samp>, <samp><span class="command">bgpd</span></samp> ignores
received capabilities then override negotiated capabilities with
configured values.

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> override-capability</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-override_002dcapability-531"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> override-capability</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-override_002dcapability-532"></a></var><br>
<blockquote><p>Override the result of Capability Negotiation with local configuration. 
Ignore remote peer's capability value. 
</p></blockquote></div>

<div class="node">
<a name="Route-Reflector"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Server">Route Server</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Capability-Negotiation">Capability Negotiation</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.12 Route Reflector</h3>

<div class="defun">
&mdash; BGP: <b>bgp cluster-id </b><var>a.b.c.d</var><var> <a name="index-bgp-cluster_002did-_0040var_007ba_002eb_002ec_002ed_007d-533"></a></var><br>
     </div>

<div class="defun">
&mdash; BGP: <b>neighbor </b><var>peer</var><b> route-reflector-client</b><var> <a name="index-neighbor-_0040var_007bpeer_007d-route_002dreflector_002dclient-534"></a></var><br>
&mdash; BGP: <b>no neighbor </b><var>peer</var><b> route-reflector-client</b><var> <a name="index-no-neighbor-_0040var_007bpeer_007d-route_002dreflector_002dclient-535"></a></var><br>
        </div>

<div class="node">
<a name="Route-Server"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#How-to-set-up-a-6_002dBone-connection">How to set up a 6-Bone connection</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Reflector">Route Reflector</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.13 Route Server</h3>

<p>At an Internet Exchange point, many ISPs are connected to each other by
external BGP peering.  Normally these external BGP connection are done by
&lsquo;<samp><span class="samp">full mesh</span></samp>&rsquo; method.  As with internal BGP full mesh formation,
this method has a scaling problem.

   <p>This scaling problem is well known.  Route Server is a method to resolve
the problem.  Each ISP's BGP router only peers to Route Server.  Route
Server serves as BGP information exchange to other BGP routers.  By
applying this method, numbers of BGP connections is reduced from
O(n*(n-1)/2) to O(n).

   <p>Unlike normal BGP router, Route Server must have several routing tables
for managing different routing policies for each BGP speaker.  We call the
routing tables as different <code>view</code>s.  <samp><span class="command">bgpd</span></samp> can work as
normal BGP router or Route Server or both at the same time.

<ul class="menu">
<li><a accesskey="1" href="#Multiple-instance">Multiple instance</a>
<li><a accesskey="2" href="#BGP-instance-and-view">BGP instance and view</a>
<li><a accesskey="3" href="#Routing-policy">Routing policy</a>
<li><a accesskey="4" href="#Viewing-the-view">Viewing the view</a>
</ul>

<div class="node">
<a name="Multiple-instance"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-instance-and-view">BGP instance and view</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Server">Route Server</a>

</div>

<h4 class="subsection">10.13.1 Multiple instance</h4>

<p>To enable multiple view function of <code>bgpd</code>, you must turn on
multiple instance feature beforehand.

<div class="defun">
&mdash; Command: <b>bgp multiple-instance</b><var> <a name="index-bgp-multiple_002dinstance-536"></a></var><br>
<blockquote><p>Enable BGP multiple instance feature.  After this feature is enabled,
you can make multiple BGP instances or multiple BGP views. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no bgp multiple-instance</b><var> <a name="index-no-bgp-multiple_002dinstance-537"></a></var><br>
<blockquote><p>Disable BGP multiple instance feature.  You can not disable this feature
when BGP multiple instances or views exist. 
</p></blockquote></div>

   <p>When you want to make configuration more Cisco like one,

<div class="defun">
&mdash; Command: <b>bgp config-type cisco</b><var> <a name="index-bgp-config_002dtype-cisco-538"></a></var><br>
<blockquote><p>Cisco compatible BGP configuration output. 
</p></blockquote></div>

   <p>When bgp config-type cisco is specified,

   <p>&ldquo;no synchronization&rdquo; is displayed. 
&ldquo;no auto-summary&rdquo; is displayed.

   <p>&ldquo;network&rdquo; and &ldquo;aggregate-address&rdquo; argument is displayed as
&ldquo;A.B.C.D M.M.M.M&rdquo;

   <p>Quagga: network 10.0.0.0/8
Cisco: network 10.0.0.0

   <p>Quagga: aggregate-address 192.168.0.0/24
Cisco: aggregate-address 192.168.0.0 255.255.255.0

   <p>Community attribute handling is also different.  If there is no
configuration is specified community attribute and extended community
attribute are sent to neighbor.  When user manually disable the
feature community attribute is not sent to the neighbor.  In case of
<samp><span class="command">bgp config-type cisco</span></samp> is specified, community attribute is not
sent to the neighbor by default.  To send community attribute user has
to specify <samp><span class="command">neighbor A.B.C.D send-community</span></samp> command.

<pre class="example">     !
     router bgp 1
      neighbor 10.0.0.1 remote-as 1
      no neighbor 10.0.0.1 send-community
     !
     router bgp 1
      neighbor 10.0.0.1 remote-as 1
      neighbor 10.0.0.1 send-community
     !
</pre>
   <div class="defun">
&mdash; Command: <b>bgp config-type zebra</b><var> <a name="index-bgp-config_002dtype-zebra-539"></a></var><br>
<blockquote><p>Quagga style BGP configuration.  This is default. 
</p></blockquote></div>

<div class="node">
<a name="BGP-instance-and-view"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Routing-policy">Routing policy</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Multiple-instance">Multiple instance</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Server">Route Server</a>

</div>

<h4 class="subsection">10.13.2 BGP instance and view</h4>

<p>BGP instance is a normal BGP process.  The result of route selection
goes to the kernel routing table.  You can setup different AS at the
same time when BGP multiple instance feature is enabled.

<div class="defun">
&mdash; Command: <b>router bgp </b><var>as-number</var><var> <a name="index-router-bgp-_0040var_007bas_002dnumber_007d-540"></a></var><br>
<blockquote><p>Make a new BGP instance.  You can use arbitrary word for the <var>name</var>. 
</p></blockquote></div>

<pre class="example">     bgp multiple-instance
     !
     router bgp 1
      neighbor 10.0.0.1 remote-as 2
      neighbor 10.0.0.2 remote-as 3
     !
     router bgp 2
      neighbor 10.0.0.3 remote-as 4
      neighbor 10.0.0.4 remote-as 5
</pre>
   <p>BGP view is almost same as normal BGP process. The result of
route selection does not go to the kernel routing table.  BGP view is
only for exchanging BGP routing information.

<div class="defun">
&mdash; Command: <b>router bgp </b><var>as-number</var><b> view </b><var>name</var><var> <a name="index-router-bgp-_0040var_007bas_002dnumber_007d-view-_0040var_007bname_007d-541"></a></var><br>
<blockquote><p>Make a new BGP view.  You can use arbitrary word for the <var>name</var>.  This
view's route selection result does not go to the kernel routing table. 
</p></blockquote></div>

   <p>With this command, you can setup Route Server like below.

<pre class="example">     bgp multiple-instance
     !
     router bgp 1 view 1
      neighbor 10.0.0.1 remote-as 2
      neighbor 10.0.0.2 remote-as 3
     !
     router bgp 2 view 2
      neighbor 10.0.0.3 remote-as 4
      neighbor 10.0.0.4 remote-as 5
</pre>
   <div class="node">
<a name="Routing-policy"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Viewing-the-view">Viewing the view</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP-instance-and-view">BGP instance and view</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Server">Route Server</a>

</div>

<h4 class="subsection">10.13.3 Routing policy</h4>

<p>You can set different routing policy for a peer.  For example, you can
set different filter for a peer.

<pre class="example">     bgp multiple-instance
     !
     router bgp 1 view 1
      neighbor 10.0.0.1 remote-as 2
      neighbor 10.0.0.1 distribute-list 1 in
     !
     router bgp 1 view 2
      neighbor 10.0.0.1 remote-as 2
      neighbor 10.0.0.1 distribute-list 2 in
</pre>
   <p>This means BGP update from a peer 10.0.0.1 goes to both BGP view 1 and view
2.  When the update is inserted into view 1, distribute-list 1 is
applied.  On the other hand, when the update is inserted into view 2,
distribute-list 2 is applied.

<div class="node">
<a name="Viewing-the-view"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Routing-policy">Routing policy</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Server">Route Server</a>

</div>

<h4 class="subsection">10.13.4 Viewing the view</h4>

<p>To display routing table of BGP view, you must specify view name.

<div class="defun">
&mdash; Command: <b>show ip bgp view </b><var>name</var><var> <a name="index-show-ip-bgp-view-_0040var_007bname_007d-542"></a></var><br>
<blockquote><p>Display routing table of BGP view <var>name</var>. 
</p></blockquote></div>

<div class="node">
<a name="How-to-set-up-a-6-Bone-connection"></a>
<a name="How-to-set-up-a-6_002dBone-connection"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Server">Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.14 How to set up a 6-Bone connection</h3>

<pre class="example">     zebra configuration
     ===================
     !
     ! Actually there is no need to configure zebra
     !
     
     bgpd configuration
     ==================
     !
     ! This means that routes go through zebra and into the kernel.
     !
     router zebra
     !
     ! MP-BGP configuration
     !
     router bgp 7675
      bgp router-id 10.0.0.1
      neighbor 3ffe:1cfa:0:2:2a0:c9ff:fe9e:f56 remote-as <var>as-number</var>
     !
      address-family ipv6
      network 3ffe:506::/32
      neighbor 3ffe:1cfa:0:2:2a0:c9ff:fe9e:f56 activate
      neighbor 3ffe:1cfa:0:2:2a0:c9ff:fe9e:f56 route-map set-nexthop out
      neighbor 3ffe:1cfa:0:2:2c0:4fff:fe68:a231 remote-as <var>as-number</var>
      neighbor 3ffe:1cfa:0:2:2c0:4fff:fe68:a231 route-map set-nexthop out
      exit-address-family
     !
     ipv6 access-list all permit any
     !
     ! Set output nexthop address.
     !
     route-map set-nexthop permit 10
      match ipv6 address all
      set ipv6 nexthop global 3ffe:1cfa:0:2:2c0:4fff:fe68:a225
      set ipv6 nexthop local fe80::2c0:4fff:fe68:a225
     !
     ! logfile FILENAME is obsolete.  Please use log file FILENAME
     
     log file bgpd.log
     !
</pre>
<div class="node">
<a name="Dump-BGP-packets-and-table"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#BGP-Configuration-Examples">BGP Configuration Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#How-to-set-up-a-6_002dBone-connection">How to set up a 6-Bone connection</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.15 Dump BGP packets and table</h3>

<div class="defun">
&mdash; Command: <b>dump bgp all </b><var>path</var><var> <a name="index-dump-bgp-all-_0040var_007bpath_007d-543"></a></var><br>
&mdash; Command: <b>dump bgp all </b><var>path</var> <var>interval</var><var> <a name="index-dump-bgp-all-_0040var_007bpath_007d-_0040var_007binterval_007d-544"></a></var><br>
<blockquote><p>Dump all BGP packet and events to <var>path</var> file. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>dump bgp updates </b><var>path</var><var> <a name="index-dump-bgp-updates-_0040var_007bpath_007d-545"></a></var><br>
&mdash; Command: <b>dump bgp updates </b><var>path</var> <var>interval</var><var> <a name="index-dump-bgp-updates-_0040var_007bpath_007d-_0040var_007binterval_007d-546"></a></var><br>
<blockquote><p>Dump BGP updates to <var>path</var> file. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>dump bgp routes </b><var>path</var><var> <a name="index-dump-bgp-routes-_0040var_007bpath_007d-547"></a></var><br>
&mdash; Command: <b>dump bgp routes </b><var>path</var><var> <a name="index-dump-bgp-routes-_0040var_007bpath_007d-548"></a></var><br>
<blockquote><p>Dump whole BGP routing table to <var>path</var>.  This is heavy process. 
</p></blockquote></div>

<div class="node">
<a name="BGP-Configuration-Examples"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#BGP">BGP</a>

</div>

<h3 class="section">10.16 BGP Configuration Examples</h3>

<p>Example of a session to an upstream, advertising only one prefix to it.

<pre class="example">     router bgp 64512
      bgp router-id 10.236.87.1
      network 10.236.87.0/24
      neighbor upstream peer-group
      neighbor upstream remote-as 64515
      neighbor upstream capability dynamic
      neighbor upstream prefix-list pl-allowed-adv out
      neighbor 10.1.1.1 peer-group upstream
      neighbor 10.1.1.1 description ACME ISP
     !
     ip prefix-list pl-allowed-adv seq 5 permit 82.195.133.0/25
     ip prefix-list pl-allowed-adv seq 10 deny any
     
</pre>
   <p>A more complex example. With upstream, peer and customer sessions. 
Advertising global prefixes and NO_EXPORT prefixes and providing
actions for customer routes based on community values. Extensive use of
route-maps and the 'call' feature to support selective advertising of
prefixes. This example is intended as guidance only, it has NOT been
tested and almost certainly containts silly mistakes, if not serious
flaws.

<pre class="example">     router bgp 64512
      bgp router-id 10.236.87.1
      network 10.123.456.0/24
      network 10.123.456.128/25 route-map rm-no-export
      neighbor upstream capability dynamic
      neighbor upstream route-map rm-upstream-out out
      neighbor cust capability dynamic
      neighbor cust route-map rm-cust-in in
      neighbor cust route-map rm-cust-out out
      neighbor cust send-community both
      neighbor peer capability dynamic
      neighbor peer route-map rm-peer-in in
      neighbor peer route-map rm-peer-out out
      neighbor peer send-community both
      neighbor 10.1.1.1 remote-as 64515
      neighbor 10.1.1.1 peer-group upstream
      neighbor 10.2.1.1 remote-as 64516
      neighbor 10.2.1.1 peer-group upstream
      neighbor 10.3.1.1 remote-as 64517
      neighbor 10.3.1.1 peer-group cust-default
      neighbor 10.3.1.1 description customer1
      neighbor 10.3.1.1 prefix-list pl-cust1-network in
      neighbor 10.4.1.1 remote-as 64518
      neighbor 10.4.1.1 peer-group cust
      neighbor 10.4.1.1 prefix-list pl-cust2-network in
      neighbor 10.4.1.1 description customer2
      neighbor 10.5.1.1 remote-as 64519
      neighbor 10.5.1.1 peer-group peer
      neighbor 10.5.1.1 prefix-list pl-peer1-network in
      neighbor 10.5.1.1 description peer AS 1
      neighbor 10.6.1.1 remote-as 64520
      neighbor 10.6.1.1 peer-group peer
      neighbor 10.6.1.1 prefix-list pl-peer2-network in
      neighbor 10.6.1.1 description peer AS 2
     !
     ip prefix-list pl-default permit 0.0.0.0/0
     !
     ip prefix-list pl-upstream-peers permit 10.1.1.1/32
     ip prefix-list pl-upstream-peers permit 10.2.1.1/32
     !
     ip prefix-list pl-cust1-network permit 10.3.1.0/24
     ip prefix-list pl-cust1-network permit 10.3.2.0/24
     !
     ip prefix-list pl-cust2-network permit 10.4.1.0/24
     !
     ip prefix-list pl-peer1-network permit 10.5.1.0/24
     ip prefix-list pl-peer1-network permit 10.5.2.0/24
     ip prefix-list pl-peer1-network permit 192.168.0.0/24
     !
     ip prefix-list pl-peer2-network permit 10.6.1.0/24
     ip prefix-list pl-peer2-network permit 10.6.2.0/24
     ip prefix-list pl-peer2-network permit 192.168.1.0/24
     ip prefix-list pl-peer2-network permit 192.168.2.0/24
     ip prefix-list pl-peer2-network permit 172.16.1/24
     !
     ip as-path access-list asp-own-as permit ^$
     ip as-path access-list asp-own-as permit _64512_
     !
     ! #################################################################
     ! Match communities we provide actions for, on routes receives from
     ! customers. Communities values of &lt;our-ASN&gt;:X, with X, have actions:
     !
     ! 100 - blackhole the prefix
     ! 200 - set no_export
     ! 300 - advertise only to other customers
     ! 400 - advertise only to upstreams
     ! 500 - set no_export when advertising to upstreams
     ! 2X00 - set local_preference to X00
     !
     ! blackhole the prefix of the route
     ip community-list standard cm-blackhole permit 64512:100
     !
     ! set no-export community before advertising
     ip community-list standard cm-set-no-export permit 64512:200
     !
     ! advertise only to other customers
     ip community-list standard cm-cust-only permit 64512:300
     !
     ! advertise only to upstreams
     ip community-list standard cm-upstream-only permit 64512:400
     !
     ! advertise to upstreams with no-export
     ip community-list standard cm-upstream-noexport permit 64512:500
     !
     ! set local-pref to least significant 3 digits of the community
     ip community-list standard cm-prefmod-100 permit 64512:2100
     ip community-list standard cm-prefmod-200 permit 64512:2200
     ip community-list standard cm-prefmod-300 permit 64512:2300
     ip community-list standard cm-prefmod-400 permit 64512:2400
     ip community-list expanded cme-prefmod-range permit 64512:2...
     !
     ! Informational communities
     !
     ! 3000 - learned from upstream
     ! 3100 - learned from customer
     ! 3200 - learned from peer
     !
     ip community-list standard cm-learnt-upstream permit 64512:3000
     ip community-list standard cm-learnt-cust permit 64512:3100
     ip community-list standard cm-learnt-peer permit 64512:3200
     !
     ! ###################################################################
     ! Utility route-maps
     !
     ! These utility route-maps generally should not used to permit/deny
     ! routes, i.e. they do not have meaning as filters, and hence probably
     ! should be used with 'on-match next'. These all finish with an empty
     ! permit entry so as not interfere with processing in the caller.
     !
     route-map rm-no-export permit 10
      set community additive no-export
     route-map rm-no-export permit 20
     !
     route-map rm-blackhole permit 10
      description blackhole, up-pref and ensure it cant escape this AS
      set ip next-hop 127.0.0.1
      set local-preference 10
      set community additive no-export
     route-map rm-blackhole permit 20
     !
     ! Set local-pref as requested
     route-map rm-prefmod permit 10
      match community cm-prefmod-100
      set local-preference 100
     route-map rm-prefmod permit 20
      match community cm-prefmod-200
      set local-preference 200
     route-map rm-prefmod permit 30
      match community cm-prefmod-300
      set local-preference 300
     route-map rm-prefmod permit 40
      match community cm-prefmod-400
      set local-preference 400
     route-map rm-prefmod permit 50
     !
     ! Community actions to take on receipt of route.
     route-map rm-community-in permit 10
      description check for blackholing, no point continuing if it matches.
      match community cm-blackhole
      call rm-blackhole
     route-map rm-community-in permit 20
      match community cm-set-no-export
      call rm-no-export
      on-match next
     route-map rm-community-in permit 30
      match community cme-prefmod-range
      call rm-prefmod
     route-map rm-community-in permit 40
     !
     ! #####################################################################
     ! Community actions to take when advertising a route.
     ! These are filtering route-maps,
     !
     ! Deny customer routes to upstream with cust-only set.
     route-map rm-community-filt-to-upstream deny 10
      match community cm-learnt-cust
      match community cm-cust-only
     route-map rm-community-filt-to-upstream permit 20
     !
     ! Deny customer routes to other customers with upstream-only set.
     route-map rm-community-filt-to-cust deny 10
      match community cm-learnt-cust
      match community cm-upstream-only
     route-map rm-community-filt-to-cust permit 20
     !
     ! ###################################################################
     ! The top-level route-maps applied to sessions. Further entries could
     ! be added obviously..
     !
     ! Customers
     route-map rm-cust-in permit 10
      call rm-community-in
      on-match next
     route-map rm-cust-in permit 20
      set community additive 64512:3100
     route-map rm-cust-in permit 30
     !
     route-map rm-cust-out permit 10
      call rm-community-filt-to-cust
      on-match next
     route-map rm-cust-out permit 20
     !
     ! Upstream transit ASes
     route-map rm-upstream-out permit 10
      description filter customer prefixes which are marked cust-only
      call rm-community-filt-to-upstream
      on-match next
     route-map rm-upstream-out permit 20
      description only customer routes are provided to upstreams/peers
      match community cm-learnt-cust
     !
     ! Peer ASes
     ! outbound policy is same as for upstream
     route-map rm-peer-out permit 10
      call rm-upstream-out
     !
     route-map rm-peer-in permit 10
      set community additive 64512:3200
</pre>
   <!-- *-texinfo-*- -->
<!-- @value{COPYRIGHT_STR} -->
<!-- See file quagga.texi for copying conditions. -->
<!-- This file is a modified version of Jose Luis Rubio's TeX sources -->
<!-- of his RS-Manual document -->
<div class="node">
<a name="Configuring-Quagga-as-a-Route-Server"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-shell">VTY shell</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#BGP">BGP</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">11 Configuring Quagga as a Route Server</h2>

<p>The purpose of a Route Server is to centralize the peerings between BGP
speakers. For example if we have an exchange point scenario with four BGP
speakers, each of which maintaining a BGP peering with the other three
(see <a href="#fig_003afull_002dmesh">fig:full-mesh</a>), we can convert it into a centralized scenario where
each of the four establishes a single BGP peering against the Route Server
(see <a href="#fig_003aroute_002dserver">fig:route-server</a>).

   <p>We will first describe briefly the Route Server model implemented by Quagga. 
We will explain the commands that have been added for configuring that
model. And finally we will show a full example of Quagga configured as Route
Server.

<ul class="menu">
<li><a accesskey="1" href="#Description-of-the-Route-Server-model">Description of the Route Server model</a>
<li><a accesskey="2" href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a>
<li><a accesskey="3" href="#Example-of-Route-Server-Configuration">Example of Route Server Configuration</a>
</ul>

<div class="node">
<a name="Description-of-the-Route-Server-model"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuring-Quagga-as-a-Route-Server">Configuring Quagga as a Route Server</a>

</div>

<h3 class="section">11.1 Description of the Route Server model</h3>

<p>First we are going to describe the normal processing that BGP announcements
suffer inside a standard BGP speaker, as shown in <a href="#fig_003anormal_002dprocessing">fig:normal-processing</a>,
it consists of three steps:

     <ul>
<li>When an announcement is received from some peer, the `In' filters
configured for that peer are applied to the announcement. These filters can
reject the announcement, accept it unmodified, or accept it with some of its
attributes modified.

     <li>The announcements that pass the `In' filters go into the
Best Path Selection process, where they are compared to other
announcements referred to the same destination that have been
received from different peers (in case such other
announcements exist). For each different destination, the announcement
which is selected as the best is inserted into the BGP speaker's Loc-RIB.

     <li>The routes which are inserted in the Loc-RIB are
considered for announcement to all the peers (except the one
from which the route came). This is done by passing the routes
in the Loc-RIB through the `Out' filters corresponding to each
peer. These filters can reject the route,
accept it unmodified, or accept it with some of its attributes
modified. Those routes which are accepted by the `Out' filters
of a peer are announced to that peer. 
</ul>

   <div class="float">
<a name="fig_003anormal_002dprocessing"></a><img src="fig-normal-processing.png" alt="Normal announcement processing">

   <p><strong class="float-caption">Figure 11.1: Announcement processing inside a &ldquo;normal&rdquo; BGP speaker</strong></p></div>

   <div class="float">
<a name="fig_003afull_002dmesh"></a><img src="fig_topologies_full.png" alt="Full Mesh BGP Topology">

   <p><strong class="float-caption">Figure 11.2: Full Mesh</strong></p></div>

   <div class="float">
<a name="fig_003aroute_002dserver"></a><img src="fig_topologies_rs.png" alt="Route Server BGP Topology">

   <p><strong class="float-caption">Figure 11.3: Route Server and clients</strong></p></div>

   <p>Of course we want that the routing tables obtained in each of the routers
are the same when using the route server than when not. But as a consequence
of having a single BGP peering (against the route server), the BGP speakers
can no longer distinguish from/to which peer each announce comes/goes. 
<a name="filter_002ddelegation"></a>This means that the routers connected to the route
server are not able to apply by themselves the same input/output filters
as in the full mesh scenario, so they have to delegate those functions to
the route server.

   <p>Even more, the &ldquo;best path&rdquo; selection must be also performed inside
the route server on behalf of its clients. The reason is that if, after
applying the filters of the announcer and the (potential) receiver, the
route server decides to send to some client two or more different
announcements referred to the same destination, the client will only
retain the last one, considering it as an implicit withdrawal of the
previous announcements for the same destination. This is the expected
behavior of a BGP speaker as defined in <cite>RFC1771</cite>, and even though
there are some proposals of mechanisms that permit multiple paths for
the same destination to be sent through a single BGP peering, none are
currently supported by most existing BGP implementations.

   <p>As a consequence a route server must maintain additional information and
perform additional tasks for a RS-client that those necessary for common BGP
peerings. Essentially a route server must:

   <p><a name="Route-Server-tasks"></a>
     <ul>
<li>Maintain a separated Routing Information Base (Loc-RIB)
for each peer configured as RS-client, containing the routes
selected as a result of the &ldquo;Best Path Selection&rdquo; process
that is performed on behalf of that RS-client.

     <li>Whenever it receives an announcement from a RS-client,
it must consider it for the Loc-RIBs of the other RS-clients.

     <p><a name="Route_002dserver-path-filter-process"></a>
          <ul>
<li>This means that for each of them the route server must pass the
announcement through the appropriate `Out' filter of the
announcer.

          <li>Then through the  appropriate `In' filter of
the potential  receiver.

          <li>Only if the announcement is accepted by both filters it will be passed
to the &ldquo;Best Path Selection&rdquo; process.

          <li>Finally, it might go into the Loc-RIB of the receiver. 
</ul>
     </ul>

   <p>When we talk about the &ldquo;appropriate&rdquo; filter, both the announcer and the
receiver of the route must be taken into account. Suppose that the route
server receives an announcement from client A, and the route server is
considering it for the Loc-RIB of client B. The filters that should be
applied are the same that would be used in the full mesh scenario, i.e.,
first the `Out' filter of router A for announcements going to router B, and
then the `In' filter of router B for announcements coming from router A.

   <p>We call &ldquo;Export Policy&rdquo; of a RS-client to the set of `Out' filters that
the client would use if there was no route server. The same applies for the
&ldquo;Import Policy&rdquo; of a RS-client and the set of `In' filters of the client
if there was no route server.

   <p>It is also common to demand from a route server that it does not
modify some BGP attributes (next-hop, as-path and MED) that are usually
modified by standard BGP speakers before announcing a route.

   <p>The announcement processing model implemented by Quagga is shown in
<a href="#fig_003ars_002dprocessing">fig:rs-processing</a>. The figure shows a mixture of RS-clients (B, C and D)
with normal BGP peers (A). There are some details that worth additional
comments:

     <ul>
<li>Announcements coming from a normal BGP peer are also
considered for the Loc-RIBs of all the RS-clients. But
logically they do not pass through any export policy.

     <li>Those peers that are configured as RS-clients do not
receive any announce from the `Main' Loc-RIB.

     <li>Apart from import and export policies,
`In' and `Out' filters can also be set for RS-clients. `In'
filters might be useful when the route server has also normal
BGP peers. On the other hand, `Out' filters for RS-clients are
probably unnecessary, but we decided not to remove them as
they do not hurt anybody (they can always be left empty). 
</ul>

   <div class="float">
<a name="fig_003ars_002dprocessing"></a><img src="fig-rs-processing.png" alt="Route Server Processing Model">

   <p><strong class="float-caption">Figure 11.4: Announcement processing model implemented by the Route Server</strong></p></div>

<div class="node">
<a name="Commands-for-configuring-a-Route-Server"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Example-of-Route-Server-Configuration">Example of Route Server Configuration</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Description-of-the-Route-Server-model">Description of the Route Server model</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuring-Quagga-as-a-Route-Server">Configuring Quagga as a Route Server</a>

</div>

<h3 class="section">11.2 Commands for configuring a Route Server</h3>

<p>Now we will describe the commands that have been added to quagga
in order to support the route server features.

<div class="defun">
&mdash; Route-Server: <b>neighbor </b><var>peer-group</var><b> route-server-client</b><var> <a name="index-neighbor-_0040var_007bpeer_002dgroup_007d-route_002dserver_002dclient-549"></a></var><br>
&mdash; Route-Server: <b>neighbor </b><var>A.B.C.D</var><b> route-server-client</b><var> <a name="index-neighbor-_0040var_007bA_002eB_002eC_002eD_007d-route_002dserver_002dclient-550"></a></var><br>
&mdash; Route-Server: <b>neighbor </b><var>X:X::X:X</var><b> route-server-client</b><var> <a name="index-neighbor-_0040var_007bX_003aX_003a_003aX_003aX_007d-route_002dserver_002dclient-551"></a></var><br>
<blockquote><p>This command configures the peer given by <var>peer</var>, <var>A.B.C.D</var> or
<var>X:X::X:X</var> as an RS-client.

        <p>Actually this command is not new, it already existed in standard Quagga. It
enables the transparent mode for the specified peer. This means that some
BGP attributes (as-path, next-hop and MED) of the routes announced to that
peer are not modified.

        <p>With the route server patch, this command, apart from setting the
transparent mode, creates a new Loc-RIB dedicated to the specified peer
(those named `Loc-RIB for X' in <a href="#fig_003ars_002dprocessing">Figure 11.4</a>.). Starting from
that moment, every announcement received by the route server will be also
considered for the new Loc-RIB. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-Server: <b>neigbor {A.B.C.D|X.X::X.X|peer-group} route-map WORD {import|export}</b><var> <a name="index-neigbor-_0040_007bA_002eB_002eC_002eD_007cX_002eX_003a_003aX_002eX_007cpeer_002dgroup_0040_007d-route_002dmap-WORD-_0040_007bimport_007cexport_0040_007d-552"></a></var><br>
<blockquote><p>This set of commands can be used to specify the route-map that
represents the Import or Export policy of a peer which is
configured as a RS-client (with the previous command). 
</p></blockquote></div>

<div class="defun">
&mdash; Route-Server: <b>match peer {A.B.C.D|X:X::X:X}</b><var> <a name="index-match-peer-_0040_007bA_002eB_002eC_002eD_007cX_003aX_003a_003aX_003aX_0040_007d-553"></a></var><br>
<blockquote><p>This is a new <em>match</em> statement for use in route-maps, enabling them to
describe import/export policies. As we said before, an import/export policy
represents a set of input/output filters of the RS-client. This statement
makes possible that a single route-map represents the full set of filters
that a BGP speaker would use for its different peers in a non-RS scenario.

        <p>The <em>match peer</em> statement has different semantics whether it is used
inside an import or an export route-map. In the first case the statement
matches if the address of the peer who sends the announce is the same that
the address specified by {A.B.C.D|X:X::X:X}. For export route-maps it
matches when {A.B.C.D|X:X::X:X} is the address of the RS-Client into whose
Loc-RIB the announce is going to be inserted (how the same export policy is
applied before different Loc-RIBs is shown in <a href="#fig_003ars_002dprocessing">Figure 11.4</a>.). 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>call </b><var>WORD</var><var> <a name="index-call-_0040var_007bWORD_007d-554"></a></var><br>
<blockquote><p>This command (also used inside a route-map) jumps into a different
route-map, whose name is specified by <var>WORD</var>. When the called
route-map finishes, depending on its result the original route-map
continues or not. Apart from being useful for making import/export
route-maps easier to write, this command can also be used inside
any normal (in or out) route-map. 
</p></blockquote></div>

<div class="node">
<a name="Example-of-Route-Server-Configuration"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Configuring-Quagga-as-a-Route-Server">Configuring Quagga as a Route Server</a>

</div>

<h3 class="section">11.3 Example of Route Server Configuration</h3>

<p>Finally we are going to show how to configure a Quagga daemon to act as a
Route Server. For this purpose we are going to present a scenario without
route server, and then we will show how to use the configurations of the BGP
routers to generate the configuration of the route server.

   <p>All the configuration files shown in this section have been taken
from scenarios which were tested using the VNUML tool
<a href="http://www.dit.upm.es/vnuml">VNUML</a>.

<ul class="menu">
<li><a accesskey="1" href="#Configuration-of-the-BGP-routers-without-Route-Server">Configuration of the BGP routers without Route Server</a>
<li><a accesskey="2" href="#Configuration-of-the-BGP-routers-with-Route-Server">Configuration of the BGP routers with Route Server</a>
<li><a accesskey="3" href="#Configuration-of-the-Route-Server-itself">Configuration of the Route Server itself</a>
<li><a accesskey="4" href="#Further-considerations-about-Import-and-Export-route_002dmaps">Further considerations about Import and Export route-maps</a>
</ul>

<div class="node">
<a name="Configuration-of-the-BGP-routers-without-Route-Server"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Configuration-of-the-BGP-routers-with-Route-Server">Configuration of the BGP routers with Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Example-of-Route-Server-Configuration">Example of Route Server Configuration</a>

</div>

<h4 class="subsection">11.3.1 Configuration of the BGP routers without Route Server</h4>

<p>We will suppose that our initial scenario is an exchange point with three
BGP capable routers, named RA, RB and RC. Each of the BGP speakers generates
some routes (with the <var>network</var> command), and establishes BGP peerings
against the other two routers. These peerings have In and Out route-maps
configured, named like &ldquo;PEER-X-IN&rdquo; or &ldquo;PEER-X-OUT&rdquo;. For example the
configuration file for router RA could be the following:

<pre class="example">#Configuration for router 'RA'
!
hostname RA
password ****
!
router bgp 65001
  no bgp default ipv4-unicast
  neighbor 2001:0DB8::B remote-as 65002
  neighbor 2001:0DB8::C remote-as 65003
!
  address-family ipv6
    network 2001:0DB8:AAAA:1::/64
    network 2001:0DB8:AAAA:2::/64
    network 2001:0DB8:0000:1::/64
    network 2001:0DB8:0000:2::/64

    neighbor 2001:0DB8::B activate
    neighbor 2001:0DB8::B soft-reconfiguration inbound
    neighbor 2001:0DB8::B route-map PEER-B-IN in
    neighbor 2001:0DB8::B route-map PEER-B-OUT out

    neighbor 2001:0DB8::C activate
    neighbor 2001:0DB8::C soft-reconfiguration inbound
    neighbor 2001:0DB8::C route-map PEER-C-IN in
    neighbor 2001:0DB8::C route-map PEER-C-OUT out
  exit-address-family
!
ipv6 prefix-list COMMON-PREFIXES seq  5 permit 2001:0DB8:0000::/48 ge 64 le 64
ipv6 prefix-list COMMON-PREFIXES seq 10 deny any
!
ipv6 prefix-list PEER-A-PREFIXES seq  5 permit 2001:0DB8:AAAA::/48 ge 64 le 64
ipv6 prefix-list PEER-A-PREFIXES seq 10 deny any
!
ipv6 prefix-list PEER-B-PREFIXES seq  5 permit 2001:0DB8:BBBB::/48 ge 64 le 64
ipv6 prefix-list PEER-B-PREFIXES seq 10 deny any
!
ipv6 prefix-list PEER-C-PREFIXES seq  5 permit 2001:0DB8:CCCC::/48 ge 64 le 64
ipv6 prefix-list PEER-C-PREFIXES seq 10 deny any
!
route-map PEER-B-IN permit 10
  match ipv6 address prefix-list COMMON-PREFIXES
  set metric 100
route-map PEER-B-IN permit 20
  match ipv6 address prefix-list PEER-B-PREFIXES
  set community 65001:11111
!
route-map PEER-C-IN permit 10
  match ipv6 address prefix-list COMMON-PREFIXES
  set metric 200
route-map PEER-C-IN permit 20
  match ipv6 address prefix-list PEER-C-PREFIXES
  set community 65001:22222
!
route-map PEER-B-OUT permit 10
  match ipv6 address prefix-list PEER-A-PREFIXES
!
route-map PEER-C-OUT permit 10
  match ipv6 address prefix-list PEER-A-PREFIXES
!
line vty
!
</pre>
   <div class="node">
<a name="Configuration-of-the-BGP-routers-with-Route-Server"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Configuration-of-the-Route-Server-itself">Configuration of the Route Server itself</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuration-of-the-BGP-routers-without-Route-Server">Configuration of the BGP routers without Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Example-of-Route-Server-Configuration">Example of Route Server Configuration</a>

</div>

<h4 class="subsection">11.3.2 Configuration of the BGP routers with Route Server</h4>

<p>To convert the initial scenario into one with route server, first we must
modify the configuration of routers RA, RB and RC. Now they must not peer
between them, but only with the route server. For example, RA's
configuration would turn into:

<pre class="example"># Configuration for router 'RA'
!
hostname RA
password ****
!
router bgp 65001
  no bgp default ipv4-unicast
  neighbor 2001:0DB8::FFFF remote-as 65000
!
  address-family ipv6
    network 2001:0DB8:AAAA:1::/64
    network 2001:0DB8:AAAA:2::/64
    network 2001:0DB8:0000:1::/64
    network 2001:0DB8:0000:2::/64

    neighbor 2001:0DB8::FFFF activate
    neighbor 2001:0DB8::FFFF soft-reconfiguration inbound
  exit-address-family
!
line vty
!
</pre>
   <p>Which is logically much simpler than its initial configuration, as it now
maintains only one BGP peering and all the filters (route-maps) have
disappeared.

<div class="node">
<a name="Configuration-of-the-Route-Server-itself"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Further-considerations-about-Import-and-Export-route_002dmaps">Further considerations about Import and Export route-maps</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuration-of-the-BGP-routers-with-Route-Server">Configuration of the BGP routers with Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Example-of-Route-Server-Configuration">Example of Route Server Configuration</a>

</div>

<h4 class="subsection">11.3.3 Configuration of the Route Server itself</h4>

<p>As we said when we described the functions of a route server
(see <a href="#Description-of-the-Route-Server-model">Description of the Route Server model</a>), it is in charge of all the
route filtering. To achieve that, the In and Out filters from the RA, RB and
RC configurations must be converted into Import and Export policies in the
route server.

   <p>This is a fragment of the route server configuration (we only show
the policies for client RA):

<pre class="example"># Configuration for Route Server ('RS')
!
hostname RS
password ix
!
bgp multiple-instance
!
router bgp 65000 view RS
  no bgp default ipv4-unicast
  neighbor 2001:0DB8::A  remote-as 65001
  neighbor 2001:0DB8::B  remote-as 65002
  neighbor 2001:0DB8::C  remote-as 65003
!
  address-family ipv6
    neighbor 2001:0DB8::A activate
    neighbor 2001:0DB8::A route-server-client
    neighbor 2001:0DB8::A route-map RSCLIENT-A-IMPORT import
    neighbor 2001:0DB8::A route-map RSCLIENT-A-EXPORT export
    neighbor 2001:0DB8::A soft-reconfiguration inbound

    neighbor 2001:0DB8::B activate
    neighbor 2001:0DB8::B route-server-client
    neighbor 2001:0DB8::B route-map RSCLIENT-B-IMPORT import
    neighbor 2001:0DB8::B route-map RSCLIENT-B-EXPORT export
    neighbor 2001:0DB8::B soft-reconfiguration inbound

    neighbor 2001:0DB8::C activate
    neighbor 2001:0DB8::C route-server-client
    neighbor 2001:0DB8::C route-map RSCLIENT-C-IMPORT import
    neighbor 2001:0DB8::C route-map RSCLIENT-C-EXPORT export
    neighbor 2001:0DB8::C soft-reconfiguration inbound
  exit-address-family
!
ipv6 prefix-list COMMON-PREFIXES seq  5 permit 2001:0DB8:0000::/48 ge 64 le 64
ipv6 prefix-list COMMON-PREFIXES seq 10 deny any
!
ipv6 prefix-list PEER-A-PREFIXES seq  5 permit 2001:0DB8:AAAA::/48 ge 64 le 64
ipv6 prefix-list PEER-A-PREFIXES seq 10 deny any
!
ipv6 prefix-list PEER-B-PREFIXES seq  5 permit 2001:0DB8:BBBB::/48 ge 64 le 64
ipv6 prefix-list PEER-B-PREFIXES seq 10 deny any
!
ipv6 prefix-list PEER-C-PREFIXES seq  5 permit 2001:0DB8:CCCC::/48 ge 64 le 64
ipv6 prefix-list PEER-C-PREFIXES seq 10 deny any
!
route-map RSCLIENT-A-IMPORT permit 10
  match peer 2001:0DB8::B
  call A-IMPORT-FROM-B
route-map RSCLIENT-A-IMPORT permit 20
  match peer 2001:0DB8::C
  call A-IMPORT-FROM-C
!
route-map A-IMPORT-FROM-B permit 10
  match ipv6 address prefix-list COMMON-PREFIXES
  set metric 100
route-map A-IMPORT-FROM-B permit 20
  match ipv6 address prefix-list PEER-B-PREFIXES
  set community 65001:11111
!
route-map A-IMPORT-FROM-C permit 10
  match ipv6 address prefix-list COMMON-PREFIXES
  set metric 200
route-map A-IMPORT-FROM-C permit 20
  match ipv6 address prefix-list PEER-C-PREFIXES
  set community 65001:22222
!
route-map RSCLIENT-A-EXPORT permit 10
  match peer 2001:0DB8::B
  match ipv6 address prefix-list PEER-A-PREFIXES
route-map RSCLIENT-A-EXPORT permit 20
  match peer 2001:0DB8::C
  match ipv6 address prefix-list PEER-A-PREFIXES
!
...
...
...
</pre>
   <p>If you compare the initial configuration of RA with the route server
configuration above, you can see how easy it is to generate the Import and
Export policies for RA from the In and Out route-maps of RA's original
configuration.

   <p>When there was no route server, RA maintained two peerings, one with RB and
another with RC. Each of this peerings had an In route-map configured. To
build the Import route-map for client RA in the route server, simply add
route-map entries following this scheme:

<pre class="example">route-map &lt;NAME&gt; permit 10
    match peer &lt;Peer Address&gt;
    call &lt;In Route-Map for this Peer&gt;
route-map &lt;NAME&gt; permit 20
    match peer &lt;Another Peer Address&gt;
    call &lt;In Route-Map for this Peer&gt;
</pre>
   <p>This is exactly the process that has been followed to generate the route-map
RSCLIENT-A-IMPORT. The route-maps that are called inside it (A-IMPORT-FROM-B
and A-IMPORT-FROM-C) are exactly the same than the In route-maps from the
original configuration of RA (PEER-B-IN and PEER-C-IN), only the name is
different.

   <p>The same could have been done to create the Export policy for RA (route-map
RSCLIENT-A-EXPORT), but in this case the original Out route-maps where so
simple that we decided not to use the <var>call WORD</var> commands, and we
integrated all in a single route-map (RSCLIENT-A-EXPORT).

   <p>The Import and Export policies for RB and RC are not shown, but
the process would be identical.

<div class="node">
<a name="Further-considerations-about-Import-and-Export-route-maps"></a>
<a name="Further-considerations-about-Import-and-Export-route_002dmaps"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuration-of-the-Route-Server-itself">Configuration of the Route Server itself</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Example-of-Route-Server-Configuration">Example of Route Server Configuration</a>

</div>

<h4 class="subsection">11.3.4 Further considerations about Import and Export route-maps</h4>

<p>The current version of the route server patch only allows to specify a
route-map for import and export policies, while in a standard BGP speaker
apart from route-maps there are other tools for performing input and output
filtering (access-lists, community-lists, ...). But this does not represent
any limitation, as all kinds of filters can be included in import/export
route-maps. For example suppose that in the non-route-server scenario peer
RA had the following filters configured for input from peer B:

<pre class="example">    neighbor 2001:0DB8::B prefix-list LIST-1 in
    neighbor 2001:0DB8::B filter-list LIST-2 in
    neighbor 2001:0DB8::B route-map PEER-B-IN in
    ...
    ...
route-map PEER-B-IN permit 10
  match ipv6 address prefix-list COMMON-PREFIXES
  set local-preference 100
route-map PEER-B-IN permit 20
  match ipv6 address prefix-list PEER-B-PREFIXES
  set community 65001:11111
</pre>
   <p>It is posible to write a single route-map which is equivalent to
the three filters (the community-list, the prefix-list and the
route-map). That route-map can then be used inside the Import
policy in the route server. Lets see how to do it:

<pre class="example">    neighbor 2001:0DB8::A route-map RSCLIENT-A-IMPORT import
    ...
!
...
route-map RSCLIENT-A-IMPORT permit 10
  match peer 2001:0DB8::B
  call A-IMPORT-FROM-B
...
...
!
route-map A-IMPORT-FROM-B permit 1
  match ipv6 address prefix-list LIST-1
  match as-path LIST-2
  on-match goto 10
route-map A-IMPORT-FROM-B deny 2
route-map A-IMPORT-FROM-B permit 10
  match ipv6 address prefix-list COMMON-PREFIXES
  set local-preference 100
route-map A-IMPORT-FROM-B permit 20
  match ipv6 address prefix-list PEER-B-PREFIXES
  set community 65001:11111
!
...
...
</pre>
   <p>The route-map A-IMPORT-FROM-B is equivalent to the three filters
(LIST-1, LIST-2 and PEER-B-IN). The first entry of route-map
A-IMPORT-FROM-B (sequence number 1) matches if and only if both
the prefix-list LIST-1 and the filter-list LIST-2 match. If that
happens, due to the &ldquo;on-match goto 10&rdquo; statement the next
route-map entry to be processed will be number 10, and as of that
point route-map A-IMPORT-FROM-B is identical to PEER-B-IN. If
the first entry does not match, `on-match goto 10&rdquo; will be
ignored and the next processed entry will be number 2, which will
deny the route.

   <p>Thus, the result is the same that with the three original filters,
i.e., if either LIST-1 or LIST-2 rejects the route, it does not
reach the route-map PEER-B-IN. In case both LIST-1 and LIST-2
accept the route, it passes to PEER-B-IN, which can reject, accept
or modify the route.

<div class="node">
<a name="VTY-shell"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Filtering">Filtering</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Configuring-Quagga-as-a-Route-Server">Configuring Quagga as a Route Server</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">12 VTY shell</h2>

<p><samp><span class="command">vtysh</span></samp> is integrated shell of Quagga software.

   <p>To use vtysh please specify &mdash;enable-vtysh to configure script.  To use
PAM for authentication use &mdash;with-libpam option to configure script.

   <p>vtysh only searches /etc/quagga path for vtysh.conf which
is the vtysh configuration file.  Vtysh does not search current
directory for configuration file because the file includes user
authentication settings.

   <p>Currently, vtysh.conf has only two commands.

<ul class="menu">
<li><a accesskey="1" href="#VTY-shell-username">VTY shell username</a>
<li><a accesskey="2" href="#VTY-shell-integrated-configuration">VTY shell integrated configuration</a>
</ul>

<div class="node">
<a name="VTY-shell-username"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-shell-integrated-configuration">VTY shell integrated configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-shell">VTY shell</a>

</div>

<h3 class="section">12.1 VTY shell username</h3>

<div class="defun">
&mdash; Command: <b>username </b><var>username</var><b> nopassword</b><var> <a name="index-username-_0040var_007busername_007d-nopassword-555"></a></var><br>
<blockquote>
        <p>With this set, user foo does not need password authentication for user vtysh. 
With PAM vtysh uses PAM authentication mechanism.

        <p>If vtysh is compiled without PAM authentication, every user can use vtysh
without authentication. vtysh requires read/write permission
to the various daemons vty sockets, this can be accomplished through use
of unix groups and the &ndash;enable-vty-group configure option.

     </blockquote></div>

<div class="node">
<a name="VTY-shell-integrated-configuration"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-shell-username">VTY shell username</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#VTY-shell">VTY shell</a>

</div>

<h3 class="section">12.2 VTY shell integrated configuration</h3>

<div class="defun">
&mdash; Command: <b>service integrated-vtysh-config</b><var> <a name="index-service-integrated_002dvtysh_002dconfig-556"></a></var><br>
<blockquote><p>Write out integrated Quagga.conf file when 'write file' is issued.

        <p>This command controls the behaviour of vtysh when it is told to write out
the configuration.  Per default, vtysh will instruct each daemon to write
out their own config files when <samp><span class="command">write file</span></samp> is issued.  However, if
<samp><span class="command">service integrated-vtysh-config</span></samp> is set, when <samp><span class="command">write file</span></samp>
is issued, vtysh will instruct the daemons will write out a Quagga.conf with
all daemons' commands integrated into it.

        <p>Vtysh per default behaves as if <samp><span class="command">write-conf daemon</span></samp> is set. Note
that both may be set at same time if one wishes to have both Quagga.conf and
daemon specific files written out. Further, note that the daemons are
hard-coded to first look for the integrated Quagga.conf file before looking
for their own file.

        <p>We recommend you do not mix the use of the two types of files. Further, it
is better not to use the integrated Quagga.conf file, as any syntax error in
it can lead to /all/ of your daemons being unable to start up. Per daemon
files are more robust as impact of errors in configuration are limited to
the daemon in whose file the error is made.

     </blockquote></div>

<div class="node">
<a name="Filtering"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Map">Route Map</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-shell">VTY shell</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h2 class="chapter">13 Filtering</h2>

<p>Quagga provides many very flexible filtering features.  Filtering is used
for both input and output of the routing information.  Once filtering is
defined, it can be applied in any direction.

<ul class="menu">
<li><a accesskey="1" href="#IP-Access-List">IP Access List</a>
<li><a accesskey="2" href="#IP-Prefix-List">IP Prefix List</a>
</ul>

<div class="node">
<a name="IP-Access-List"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#IP-Prefix-List">IP Prefix List</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Filtering">Filtering</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">13.1 IP Access List</h3>

<div class="defun">
&mdash; Command: <b>access-list </b><var>name</var><b> permit </b><var>ipv4-network</var><var> <a name="index-access_002dlist-_0040var_007bname_007d-permit-_0040var_007bipv4_002dnetwork_007d-557"></a></var><br>
&mdash; Command: <b>access-list </b><var>name</var><b> deny </b><var>ipv4-network</var><var> <a name="index-access_002dlist-_0040var_007bname_007d-deny-_0040var_007bipv4_002dnetwork_007d-558"></a></var><br>
     </div>

   <p>Basic filtering is done by <code>access-list</code> as shown in the
following example.

<pre class="example">access-list filter deny 10.0.0.0/9
access-list filter permit 10.0.0.0/8
</pre>
   <div class="node">
<a name="IP-Prefix-List"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#IP-Access-List">IP Access List</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Filtering">Filtering</a>

</div>

<!-- node-name,  next,  previous,  up -->
<h3 class="section">13.2 IP Prefix List</h3>

<p><samp><span class="command">ip prefix-list</span></samp> provides the most powerful prefix based
filtering mechanism.  In addition to <samp><span class="command">access-list</span></samp> functionality,
<samp><span class="command">ip prefix-list</span></samp> has prefix length range specification and
sequential number specification.  You can add or delete prefix based
filters to arbitrary points of prefix-list using sequential number specification.

   <p>If no ip prefix-list is specified, it acts as permit.  If <samp><span class="command">ip prefix-list</span></samp>
is defined, and no match is found, default deny is applied.

<!-- @deffn {Command} {ip prefix-list @var{name} [seq @var{number}] permit|deny [le @var{prefixlen}] [ge @var{prefixlen}]} {} -->
<div class="defun">
&mdash; Command: <b>ip prefix-list </b><var>name</var><b> (permit|deny) </b><var>prefix</var><b> [le </b><var>len</var><b>] [ge </b><var>len</var><b>]</b><var> <a name="index-ip-prefix_002dlist-_0040var_007bname_007d-_0028permit_007cdeny_0029-_0040var_007bprefix_007d-_005ble-_0040var_007blen_007d_005d-_005bge-_0040var_007blen_007d_005d-559"></a></var><br>
&mdash; Command: <b>ip prefix-list </b><var>name</var><b> seq </b><var>number</var><b> (permit|deny) </b><var>prefix</var><b> [le </b><var>len</var><b>] [ge </b><var>len</var><b>]</b><var> <a name="index-ip-prefix_002dlist-_0040var_007bname_007d-seq-_0040var_007bnumber_007d-_0028permit_007cdeny_0029-_0040var_007bprefix_007d-_005ble-_0040var_007blen_007d_005d-_005bge-_0040var_007blen_007d_005d-560"></a></var><br>
<blockquote>
        <p>You can create <samp><span class="command">ip prefix-list</span></samp> using above commands.

          <dl>
<dt>seq<dd>seq <var>number</var> can be set either automatically or manually.  In the
case that sequential numbers are set manually, the user may pick any
number less than 4294967295.  In the case that sequential number are set
automatically, the sequential number will increase by a unit of five (5)
per list.  If a list with no specified sequential number is created
after a list with a specified sequential number, the list will
automatically pick the next multiple of five (5) as the list number. 
For example, if a list with number 2 already exists and a new list with
no specified number is created, the next list will be numbered 5.  If
lists 2 and 7 already exist and a new list with no specified number is
created, the new list will be numbered 10.

          <br><dt>le<dd><samp><span class="command">le</span></samp> command specifies prefix length.  The prefix list will be
applied if the prefix length is less than or equal to the le prefix length.

          <br><dt>ge<dd><samp><span class="command">ge</span></samp> command specifies prefix length.  The prefix list will be
applied if the prefix length is greater than or equal to the ge prefix length.

        </dl>

        </blockquote></div>

   <p>Less than or equal to prefix numbers and greater than or equal to
prefix numbers can be used together.  The order of the le and ge
commands does not matter.

   <p>If a prefix list with a different sequential number but with the exact
same rules as a previous list is created, an error will result. 
However, in the case that the sequential number and the rules are
exactly similar, no error will result.

   <p>If a list with the same sequential number as a previous list is created,
the new list will overwrite the old list.

   <p>Matching of IP Prefix is performed from the smaller sequential number to the
larger.  The matching will stop once any rule has been applied.

   <p>In the case of no le or ge command, the prefix length must match exactly the
length specified in the prefix list.

<div class="defun">
&mdash; Command: <b>no ip prefix-list </b><var>name</var><var> <a name="index-no-ip-prefix_002dlist-_0040var_007bname_007d-561"></a></var><br>
        </div>

<ul class="menu">
<li><a accesskey="1" href="#ip-prefix_002dlist-description">ip prefix-list description</a>
<li><a accesskey="2" href="#ip-prefix_002dlist-sequential-number-control">ip prefix-list sequential number control</a>
<li><a accesskey="3" href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a>
<li><a accesskey="4" href="#Clear-counter-of-ip-prefix_002dlist">Clear counter of ip prefix-list</a>
</ul>

<div class="node">
<a name="ip-prefix-list-description"></a>
<a name="ip-prefix_002dlist-description"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#ip-prefix_002dlist-sequential-number-control">ip prefix-list sequential number control</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#IP-Prefix-List">IP Prefix List</a>

</div>

<h4 class="subsection">13.2.1 ip prefix-list description</h4>

<div class="defun">
&mdash; Command: <b>ip prefix-list </b><var>name</var><b> description </b><var>desc</var><var> <a name="index-ip-prefix_002dlist-_0040var_007bname_007d-description-_0040var_007bdesc_007d-562"></a></var><br>
<blockquote><p>Descriptions may be added to prefix lists.  This command adds a
description to the prefix list. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no ip prefix-list </b><var>name</var><b> description [</b><var>desc</var><b>]</b><var> <a name="index-no-ip-prefix_002dlist-_0040var_007bname_007d-description-_005b_0040var_007bdesc_007d_005d-563"></a></var><br>
<blockquote><p>Deletes the description from a prefix list.  It is possible to use the
command without the full description. 
</p></blockquote></div>

<div class="node">
<a name="ip-prefix-list-sequential-number-control"></a>
<a name="ip-prefix_002dlist-sequential-number-control"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ip-prefix_002dlist-description">ip prefix-list description</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#IP-Prefix-List">IP Prefix List</a>

</div>

<h4 class="subsection">13.2.2 ip prefix-list sequential number control</h4>

<div class="defun">
&mdash; Command: <b>ip prefix-list sequence-number</b><var> <a name="index-ip-prefix_002dlist-sequence_002dnumber-564"></a></var><br>
<blockquote><p>With this command, the IP prefix list sequential number is displayed. 
This is the default behavior. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>no ip prefix-list sequence-number</b><var> <a name="index-no-ip-prefix_002dlist-sequence_002dnumber-565"></a></var><br>
<blockquote><p>With this command, the IP prefix list sequential number is not
displayed. 
</p></blockquote></div>

<div class="node">
<a name="Showing-ip-prefix-list"></a>
<a name="Showing-ip-prefix_002dlist"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Clear-counter-of-ip-prefix_002dlist">Clear counter of ip prefix-list</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#ip-prefix_002dlist-sequential-number-control">ip prefix-list sequential number control</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#IP-Prefix-List">IP Prefix List</a>

</div>

<h4 class="subsection">13.2.3 Showing ip prefix-list</h4>

<div class="defun">
&mdash; Command: <b>show ip prefix-list</b><var> <a name="index-show-ip-prefix_002dlist-566"></a></var><br>
<blockquote><p>Display all IP prefix lists. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list </b><var>name</var><var> <a name="index-show-ip-prefix_002dlist-_0040var_007bname_007d-567"></a></var><br>
<blockquote><p>Show IP prefix list can be used with a prefix list name. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list </b><var>name</var><b> seq </b><var>num</var><var> <a name="index-show-ip-prefix_002dlist-_0040var_007bname_007d-seq-_0040var_007bnum_007d-568"></a></var><br>
<blockquote><p>Show IP prefix list can be used with a prefix list name and sequential
number. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list </b><var>name</var> <var>a.b.c.d/m</var><var> <a name="index-show-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-569"></a></var><br>
<blockquote><p>If the command longer is used, all prefix lists with prefix lengths equal to
or longer than the specified length will be displayed. 
If the command first match is used, the first prefix length match will be
displayed. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list </b><var>name</var> <var>a.b.c.d/m</var><b> longer</b><var> <a name="index-show-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-longer-570"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list </b><var>name</var> <var>a.b.c.d/m</var><b> first-match</b><var> <a name="index-show-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-first_002dmatch-571"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list summary</b><var> <a name="index-show-ip-prefix_002dlist-summary-572"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list summary </b><var>name</var><var> <a name="index-show-ip-prefix_002dlist-summary-_0040var_007bname_007d-573"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list detail</b><var> <a name="index-show-ip-prefix_002dlist-detail-574"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>show ip prefix-list detail </b><var>name</var><var> <a name="index-show-ip-prefix_002dlist-detail-_0040var_007bname_007d-575"></a></var><br>
        </div>

<div class="node">
<a name="Clear-counter-of-ip-prefix-list"></a>
<a name="Clear-counter-of-ip-prefix_002dlist"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#IP-Prefix-List">IP Prefix List</a>

</div>

<h4 class="subsection">13.2.4 Clear counter of ip prefix-list</h4>

<div class="defun">
&mdash; Command: <b>clear ip prefix-list</b><var> <a name="index-clear-ip-prefix_002dlist-576"></a></var><br>
<blockquote><p>Clears the counters of all IP prefix lists.  Clear IP Prefix List can be
used with a specified name and prefix. 
</p></blockquote></div>

<div class="defun">
&mdash; Command: <b>clear ip prefix-list </b><var>name</var><var> <a name="index-clear-ip-prefix_002dlist-_0040var_007bname_007d-577"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>clear ip prefix-list </b><var>name</var> <var>a.b.c.d/m</var><var> <a name="index-clear-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-578"></a></var><br>
        </div>

<div class="node">
<a name="Route-Map"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#IPv6-Support">IPv6 Support</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Filtering">Filtering</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">14 Route Map</h2>

<p>Route maps provide a means to both filter and/or apply actions to
route, hence allowing policy to be applied to routes.

<ul class="menu">
<li><a accesskey="1" href="#Route-Map-Command">Route Map Command</a>
<li><a accesskey="2" href="#Route-Map-Match-Command">Route Map Match Command</a>
<li><a accesskey="3" href="#Route-Map-Set-Command">Route Map Set Command</a>
<li><a accesskey="4" href="#Route-Map-Call-Command">Route Map Call Command</a>
<li><a accesskey="5" href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a>
<li><a accesskey="6" href="#Route-Map-Examples">Route Map Examples</a>
</ul>

   <p>Route-maps are an ordered list of route-map entries. Each entry may
specify up to four distincts sets of clauses:

     <dl>
<dt>&lsquo;<samp><span class="samp">Matching Policy</span></samp>&rsquo;<dd>
This specifies the policy implied if the &lsquo;<samp><span class="samp">Matching Conditions</span></samp>&rsquo; are
met or not met, and which actions of the route-map are to be taken, if
any. The two possibilities are:

          <ul>
<li>&lsquo;<samp><span class="samp">permit</span></samp>&rsquo;: If the entry matches, then carry out the &lsquo;<samp><span class="samp">Set
Actions</span></samp>&rsquo;. Then finish processing the route-map, permitting the route,
unless an &lsquo;<samp><span class="samp">Exit Action</span></samp>&rsquo; indicates otherwise.

          <li>&lsquo;<samp><span class="samp">deny</span></samp>&rsquo;: If the entry matches, then finish processing the route-map and
deny the route (return &lsquo;<samp><span class="samp">deny</span></samp>&rsquo;). 
</ul>

     <p>The &lsquo;<samp><span class="samp">Matching Policy</span></samp>&rsquo; is specified as part of the command which
defines the ordered entry in the route-map. See below.

     <br><dt>&lsquo;<samp><span class="samp">Matching Conditions</span></samp>&rsquo;<dd>
A route-map entry may, optionally, specify one or more conditions which
must be matched if the entry is to be considered further, as governed
by the Match Policy. If a route-map entry does not explicitely specify
any matching conditions, then it always matches.

     <br><dt>&lsquo;<samp><span class="samp">Set Actions</span></samp>&rsquo;<dd>
A route-map entry may, optionally, specify one or more &lsquo;<samp><span class="samp">Set
Actions</span></samp>&rsquo; to set or modify attributes of the route.

     <br><dt>&lsquo;<samp><span class="samp">Call Action</span></samp>&rsquo;<dd>
Call to another route-map, after any &lsquo;<samp><span class="samp">Set Actions</span></samp>&rsquo; have been
carried out. If the route-map called returns &lsquo;<samp><span class="samp">deny</span></samp>&rsquo; then
processing of the route-map finishes and the route is denied,
regardless of the &lsquo;<samp><span class="samp">Matching Policy</span></samp>&rsquo; or the &lsquo;<samp><span class="samp">Exit Policy</span></samp>&rsquo;. If
the called route-map returns &lsquo;<samp><span class="samp">permit</span></samp>&rsquo;, then &lsquo;<samp><span class="samp">Matching Policy</span></samp>&rsquo;
and &lsquo;<samp><span class="samp">Exit Policy</span></samp>&rsquo; govern further behaviour, as normal.

     <br><dt>&lsquo;<samp><span class="samp">Exit Policy</span></samp>&rsquo;<dd>
An entry may, optionally, specify an alternative &lsquo;<samp><span class="samp">Exit Policy</span></samp>&rsquo; to
take if the entry matched, rather than the normal policy of exiting the
route-map and permitting the route. The two possibilities are:

          <ul>
<li>&lsquo;<samp><span class="samp">next</span></samp>&rsquo;: Continue on with processing of the route-map entries.

          <li>&lsquo;<samp><span class="samp">goto N</span></samp>&rsquo;: Jump ahead to the first route-map entry whose order in
the route-map is &gt;= N. Jumping to a previous entry is not permitted. 
</ul>
     </dl>

   <p>The default action of a route-map, if no entries match, is to deny. 
I.e. a route-map essentially has as its last entry an empty &lsquo;<samp><span class="samp">deny</span></samp>&rsquo;
entry, which matches all routes. To change this behaviour, one must
specify an empty &lsquo;<samp><span class="samp">permit</span></samp>&rsquo; entry as the last entry in the route-map.

   <p>To summarise the above:

   <p><table summary=""><tr align="left"><th valign="top"></th><th valign="top">Match  </th><th valign="top">No Match
<br></th></tr><tr align="left"><td valign="top"><em>Permit</em> </td><td valign="top">action </td><td valign="top">cont
<br></td></tr><tr align="left"><td valign="top"><em>Deny</em>   </td><td valign="top">deny   </td><td valign="top">cont
   <br></td></tr></table>

     <dl>
<dt>&lsquo;<samp><span class="samp">action</span></samp>&rsquo;<dd>
          <ul>
<li>Apply <em>set</em> statements

          <li>If <em>call</em> is present, call given route-map. If that returns a &lsquo;<samp><span class="samp">deny</span></samp>&rsquo;, finish
processing and return &lsquo;<samp><span class="samp">deny</span></samp>&rsquo;.

          <li>If &lsquo;<samp><span class="samp">Exit Policy</span></samp>&rsquo; is <em>next</em>, goto next route-map entry

          <li>If &lsquo;<samp><span class="samp">Exit Policy</span></samp>&rsquo; is <em>goto</em>, goto first entry whose order in the list
is &gt;= the given order.

          <li>Finish processing the route-map and permit the route. 
</ul>

     <br><dt>&lsquo;<samp><span class="samp">deny</span></samp>&rsquo;<dd>
          <ul>
<li>The route is denied by the route-map (return &lsquo;<samp><span class="samp">deny</span></samp>&rsquo;). 
</ul>

     <br><dt>&lsquo;<samp><span class="samp">cont</span></samp>&rsquo;<dd>
          <ul>
<li>goto next route-map entry
</ul>
     </dl>

<div class="node">
<a name="Route-Map-Command"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Map-Match-Command">Route Map Match Command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Map">Route Map</a>

</div>

<h3 class="section">14.1 Route Map Command</h3>

<div class="defun">
&mdash; Command: <b>route-map </b><var>route-map-name</var><b> (permit|deny) </b><var>order</var><var> <a name="index-route_002dmap-_0040var_007broute_002dmap_002dname_007d-_0028permit_007cdeny_0029-_0040var_007border_007d-579"></a></var><br>
<blockquote>
        <p>Configure the <var>order</var>'th entry in <var>route-map-name</var> with
&lsquo;<samp><span class="samp">Match Policy</span></samp>&rsquo; of either <em>permit</em> or <em>deny</em>.

     </blockquote></div>

<div class="node">
<a name="Route-Map-Match-Command"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Map-Set-Command">Route Map Set Command</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Map-Command">Route Map Command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Map">Route Map</a>

</div>

<h3 class="section">14.2 Route Map Match Command</h3>

<div class="defun">
&mdash; Route-map Command: <b>match ip address </b><var>access_list</var><var> <a name="index-match-ip-address-_0040var_007baccess_005flist_007d-580"></a></var><br>
<blockquote><p>Matches the specified <var>access_list</var>
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>match ip next-hop </b><var>ipv4_addr</var><var> <a name="index-match-ip-next_002dhop-_0040var_007bipv4_005faddr_007d-581"></a></var><br>
<blockquote><p>Matches the specified <var>ipv4_addr</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>match aspath </b><var>as_path</var><var> <a name="index-match-aspath-_0040var_007bas_005fpath_007d-582"></a></var><br>
<blockquote><p>Matches the specified <var>as_path</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>match metric </b><var>metric</var><var> <a name="index-match-metric-_0040var_007bmetric_007d-583"></a></var><br>
<blockquote><p>Matches the specified <var>metric</var>. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>match community </b><var>community_list</var><var> <a name="index-match-community-_0040var_007bcommunity_005flist_007d-584"></a></var><br>
<blockquote><p>Matches the specified  <var>community_list</var>
</p></blockquote></div>

<div class="node">
<a name="Route-Map-Set-Command"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Map-Call-Command">Route Map Call Command</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Map-Match-Command">Route Map Match Command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Map">Route Map</a>

</div>

<h3 class="section">14.3 Route Map Set Command</h3>

<div class="defun">
&mdash; Route-map Command: <b>set ip next-hop </b><var>ipv4_address</var><var> <a name="index-set-ip-next_002dhop-_0040var_007bipv4_005faddress_007d-585"></a></var><br>
<blockquote><p>Set the BGP nexthop address. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set local-preference </b><var>local_pref</var><var> <a name="index-set-local_002dpreference-_0040var_007blocal_005fpref_007d-586"></a></var><br>
<blockquote><p>Set the BGP local preference. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set weight </b><var>weight</var><var> <a name="index-set-weight-_0040var_007bweight_007d-587"></a></var><br>
<blockquote><p>Set the route's weight. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set metric </b><var>metric</var><var> <a name="index-set-metric-_0040var_007bmetric_007d-588"></a></var><br>
<blockquote><p>Set the BGP attribute MED. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set as-path prepend </b><var>as_path</var><var> <a name="index-set-as_002dpath-prepend-_0040var_007bas_005fpath_007d-589"></a></var><br>
<blockquote><p>Set the BGP AS path to prepend. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set community </b><var>community</var><var> <a name="index-set-community-_0040var_007bcommunity_007d-590"></a></var><br>
<blockquote><p>Set the BGP community attribute. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set ipv6 next-hop global </b><var>ipv6_address</var><var> <a name="index-set-ipv6-next_002dhop-global-_0040var_007bipv6_005faddress_007d-591"></a></var><br>
<blockquote><p>Set the BGP-4+ global IPv6 nexthop address. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>set ipv6 next-hop local </b><var>ipv6_address</var><var> <a name="index-set-ipv6-next_002dhop-local-_0040var_007bipv6_005faddress_007d-592"></a></var><br>
<blockquote><p>Set the BGP-4+ link local IPv6 nexthop address. 
</p></blockquote></div>

<div class="node">
<a name="Route-Map-Call-Command"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Map-Set-Command">Route Map Set Command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Map">Route Map</a>

</div>

<h3 class="section">14.4 Route Map Call Command</h3>

<div class="defun">
&mdash; Route-map Command: <b>call </b><var>name</var><var> <a name="index-call-_0040var_007bname_007d-593"></a></var><br>
<blockquote><p>Call route-map <var>name</var>. If it returns deny, deny the route and
finish processing the route-map. 
</p></blockquote></div>

<div class="node">
<a name="Route-Map-Exit-Action-Command"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Route-Map-Examples">Route Map Examples</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Map-Call-Command">Route Map Call Command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Map">Route Map</a>

</div>

<h3 class="section">14.5 Route Map Exit Action Command</h3>

<div class="defun">
&mdash; Route-map Command: <b>on-match next</b><var> <a name="index-on_002dmatch-next-594"></a></var><br>
&mdash; Route-map Command: <b>continue</b><var> <a name="index-continue-595"></a></var><br>
<blockquote><p>Proceed on to the next entry in the route-map. 
</p></blockquote></div>

<div class="defun">
&mdash; Route-map Command: <b>on-match goto </b><var>N</var><var> <a name="index-on_002dmatch-goto-_0040var_007bN_007d-596"></a></var><br>
&mdash; Route-map Command: <b>continue </b><var>N</var><var> <a name="index-continue-_0040var_007bN_007d-597"></a></var><br>
<blockquote><p>Proceed processing the route-map at the first entry whose order is &gt;= N
</p></blockquote></div>

<div class="node">
<a name="Route-Map-Examples"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Route-Map">Route Map</a>

</div>

<h3 class="section">14.6 Route Map Examples</h3>

<p>A simple example of a route-map:

<pre class="example">route-map test permit 10
 match ip address 10
 set local-preference 200
</pre>
   <p>This means that if a route matches ip access-list number 10 it's
local-preference value is set to 200.

   <p>See <a href="#BGP-Configuration-Examples">BGP Configuration Examples</a> for examples of more sophisticated
useage of route-maps, including of the &lsquo;<samp><span class="samp">call</span></samp>&rsquo; action.

<div class="node">
<a name="IPv6-Support"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Kernel-Interface">Kernel Interface</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Route-Map">Route Map</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">15 IPv6 Support</h2>

<p>Quagga fully supports IPv6 routing.  As described so far, Quagga supports
RIPng, OSPFv3, Babel and BGP-4+.  You can give IPv6 addresses to an interface
and configure static IPv6 routing information.  Quagga IPv6 also provides
automatic address configuration via a feature called <code>address
auto configuration</code>.  To do it, the router must send router advertisement
messages to the all nodes that exist on the network.

<ul class="menu">
<li><a accesskey="1" href="#Router-Advertisement">Router Advertisement</a>
</ul>

<div class="node">
<a name="Router-Advertisement"></a>
<p><hr>
Up:&nbsp;<a rel="up" accesskey="u" href="#IPv6-Support">IPv6 Support</a>

</div>

<h3 class="section">15.1 Router Advertisement</h3>

<div class="defun">
&mdash; Interface Command: <b>no ipv6 nd suppress-ra</b><var> <a name="index-no-ipv6-nd-suppress_002dra-598"></a></var><br>
<blockquote><p>Send router advertisment messages. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd suppress-ra</b><var> <a name="index-ipv6-nd-suppress_002dra-599"></a></var><br>
<blockquote><p>Don't send router advertisment messages. 
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd prefix </b><var>ipv6prefix</var><b> [</b><var>valid-lifetime</var><b>] [</b><var>preferred-lifetime</var><b>] [off-link] [no-autoconfig] [router-address]</b><var> <a name="index-ipv6-nd-prefix-_0040var_007bipv6prefix_007d-_005b_0040var_007bvalid_002dlifetime_007d_005d-_005b_0040var_007bpreferred_002dlifetime_007d_005d-_005boff_002dlink_005d-_005bno_002dautoconfig_005d-_005brouter_002daddress_005d-600"></a></var><br>
<blockquote><p>Configuring the IPv6 prefix to include in router advertisements. Several prefix
specific optional parameters and flags may follow:
          <ul>
<li><var>valid-lifetime</var> - the length of time in seconds during what the prefix is
valid for the purpose of on-link determination. Value <var>infinite</var> represents
infinity (i.e. a value of all one bits (<code>0xffffffff</code>)).

          <p>Range: <code>&lt;0-4294967295&gt;</code>  Default: <code>2592000</code>

          <li><var>preferred-lifetime</var> - the length of time in seconds during what addresses
generated from the prefix remain preferred. Value <var>infinite</var> represents
infinity.

          <p>Range: <code>&lt;0-4294967295&gt;</code>  Default: <code>604800</code>

          <li><var>off-link</var> - indicates that advertisement makes no statement about on-link or
off-link properties of the prefix.

          <p>Default: not set, i.e. this prefix can be used for on-link determination.

          <li><var>no-autoconfig</var> - indicates to hosts on the local link that the specified prefix
cannot be used for IPv6 autoconfiguration.

          <p>Default: not set, i.e. prefix can be used for autoconfiguration.

          <li><var>router-address</var> - indicates to hosts on the local link that the specified
prefix
contains a complete IP address by setting R flag.

          <p>Default: not set, i.e. hosts do not assume a complete IP address is placed. 
</ul>
        </p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd ra-interval &lt;1-1800&gt;</b><var> <a name="index-ipv6-nd-ra_002dinterval-_003c1_002d1800_003e-601"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd ra-interval [&lt;1-1800&gt;]</b><var> <a name="index-no-ipv6-nd-ra_002dinterval-_005b_003c1_002d1800_003e_005d-602"></a></var><br>
<blockquote><p>The  maximum  time allowed between sending unsolicited multicast router
advertisements from the interface, in seconds.

        <p>Default: <code>600</code>
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd ra-interval msec &lt;70-1800000&gt;</b><var> <a name="index-ipv6-nd-ra_002dinterval-msec-_003c70_002d1800000_003e-603"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd ra-interval [msec &lt;70-1800000&gt;]</b><var> <a name="index-no-ipv6-nd-ra_002dinterval-_005bmsec-_003c70_002d1800000_003e_005d-604"></a></var><br>
<blockquote><p>The  maximum  time allowed between sending unsolicited multicast router
advertisements from the interface, in milliseconds.

        <p>Default: <code>600000</code>
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd ra-lifetime &lt;0-9000&gt;</b><var> <a name="index-ipv6-nd-ra_002dlifetime-_003c0_002d9000_003e-605"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd ra-lifetime [&lt;0-9000&gt;]</b><var> <a name="index-no-ipv6-nd-ra_002dlifetime-_005b_003c0_002d9000_003e_005d-606"></a></var><br>
<blockquote><p>The value to be placed in the Router Lifetime field of router advertisements
sent from the interface, in seconds. Indicates the usefulness of the router
as a default router on this interface. Setting the value to zero indicates
that the router should not be considered a default router on this interface. 
Must be either zero or between value specified with <var>ipv6 nd ra-interval</var>
(or default) and 9000 seconds.

        <p>Default: <code>1800</code>
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd reachable-time &lt;1-3600000&gt;</b><var> <a name="index-ipv6-nd-reachable_002dtime-_003c1_002d3600000_003e-607"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd reachable-time [&lt;1-3600000&gt;]</b><var> <a name="index-no-ipv6-nd-reachable_002dtime-_005b_003c1_002d3600000_003e_005d-608"></a></var><br>
<blockquote><p>The value to be placed in the Reachable Time field in the Router Advertisement
messages sent by the router, in milliseconds. The configured time enables the
router to detect unavailable neighbors. The value zero means unspecified (by
this router).

        <p>Default: <code>0</code>
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd managed-config-flag</b><var> <a name="index-ipv6-nd-managed_002dconfig_002dflag-609"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd managed-config-flag</b><var> <a name="index-no-ipv6-nd-managed_002dconfig_002dflag-610"></a></var><br>
<blockquote><p>Set/unset flag in IPv6 router advertisements which indicates to hosts that they
should use managed (stateful) protocol for addresses autoconfiguration in
addition to any addresses autoconfigured using stateless address
autoconfiguration.

        <p>Default: not set
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd other-config-flag</b><var> <a name="index-ipv6-nd-other_002dconfig_002dflag-611"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd other-config-flag</b><var> <a name="index-no-ipv6-nd-other_002dconfig_002dflag-612"></a></var><br>
<blockquote><p>Set/unset flag in IPv6 router advertisements which indicates to hosts that
they should use administered (stateful) protocol to obtain autoconfiguration
information other than addresses.

        <p>Default: not set
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd home-agent-config-flag</b><var> <a name="index-ipv6-nd-home_002dagent_002dconfig_002dflag-613"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd home-agent-config-flag</b><var> <a name="index-no-ipv6-nd-home_002dagent_002dconfig_002dflag-614"></a></var><br>
<blockquote><p>Set/unset flag in IPv6 router advertisements which indicates to hosts that
the router acts as a Home Agent and includes a Home Agent Option.

        <p>Default: not set
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd home-agent-preference &lt;0-65535&gt;</b><var> <a name="index-ipv6-nd-home_002dagent_002dpreference-_003c0_002d65535_003e-615"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd home-agent-preference [&lt;0-65535&gt;]</b><var> <a name="index-no-ipv6-nd-home_002dagent_002dpreference-_005b_003c0_002d65535_003e_005d-616"></a></var><br>
<blockquote><p>The value to be placed in Home Agent Option, when Home Agent config flag is set,
which indicates to hosts Home Agent preference. The default value of 0 stands
for the lowest preference possible.

        <p>Default: 0
</p></blockquote></div>

   <p>+

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd home-agent-lifetime &lt;0-65520&gt;</b><var> <a name="index-ipv6-nd-home_002dagent_002dlifetime-_003c0_002d65520_003e-617"></a></var><br>
<blockquote><p>+

   &mdash; Interface Command: <b>no ipv6 nd home-agent-lifetime [&lt;0-65520&gt;]</b><var> <a name="index-no-ipv6-nd-home_002dagent_002dlifetime-_005b_003c0_002d65520_003e_005d-618"></a></var><br>
<blockquote><p>The value to be placed in Home Agent Option, when Home Agent config flag is set,
which indicates to hosts Home Agent Lifetime. The default value of 0 means to
place the current Router Lifetime value.

        <p>Default: 0
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd adv-interval-option</b><var> <a name="index-ipv6-nd-adv_002dinterval_002doption-619"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd adv-interval-option</b><var> <a name="index-no-ipv6-nd-adv_002dinterval_002doption-620"></a></var><br>
<blockquote><p>Include an Advertisement Interval option which indicates to hosts the maximum time,
in milliseconds, between successive unsolicited Router Advertisements.

        <p>Default: not set
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd router-preference (high|medium|low)</b><var> <a name="index-ipv6-nd-router_002dpreference-_0028high_007cmedium_007clow_0029-621"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd router-preference [(high|medium|low)]</b><var> <a name="index-no-ipv6-nd-router_002dpreference-_005b_0028high_007cmedium_007clow_0029_005d-622"></a></var><br>
<blockquote><p>Set default router preference in IPv6 router advertisements per RFC4191.

        <p>Default: medium
</p></blockquote></div>

<div class="defun">
&mdash; Interface Command: <b>ipv6 nd mtu &lt;1-65535&gt;</b><var> <a name="index-ipv6-nd-mtu-_003c1_002d65535_003e-623"></a></var><br>
&mdash; Interface Command: <b>no ipv6 nd mtu [&lt;1-65535&gt;]</b><var> <a name="index-no-ipv6-nd-mtu-_005b_003c1_002d65535_003e_005d-624"></a></var><br>
<blockquote><p>Include an MTU (type 5) option in each RA packet to assist the attached hosts
in proper interface configuration. The announced value is not verified to be
consistent with router interface MTU.

        <p>Default: don't advertise any MTU option
</p></blockquote></div>

<pre class="example">interface eth0
 no ipv6 nd suppress-ra
 ipv6 nd prefix 2001:0DB8:5009::/64
</pre>
   <p>For more information see <cite>RFC2462 (IPv6 Stateless Address Autoconfiguration)</cite>
, <cite>RFC4861 (Neighbor Discovery for IP Version 6 (IPv6))</cite>
, <cite>RFC6275 (Mobility Support in IPv6)</cite>
and <cite>RFC4191 (Default Router Preferences and More-Specific Routes)</cite>.

<div class="node">
<a name="Kernel-Interface"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SNMP-Support">SNMP Support</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#IPv6-Support">IPv6 Support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">16 Kernel Interface</h2>

<p>There are several different methods for reading kernel routing table
information, updating kernel routing tables, and for looking up
interfaces.

     <dl>
<dt>&lsquo;<samp><span class="samp">ioctl</span></samp>&rsquo;<dd>The &lsquo;<samp><span class="samp">ioctl</span></samp>&rsquo; method is a very traditional way for reading or writing
kernel information.  &lsquo;<samp><span class="samp">ioctl</span></samp>&rsquo; can be used for looking up interfaces
and for modifying interface addresses, flags, mtu settings and other
types of information.  Also, &lsquo;<samp><span class="samp">ioctl</span></samp>&rsquo; can insert and delete kernel
routing table entries.  It will soon be available on almost any platform
which zebra supports, but it is a little bit ugly thus far, so if a
better method is supported by the kernel, zebra will use that.

     <br><dt>&lsquo;<samp><span class="samp">sysctl</span></samp>&rsquo;<dd>&lsquo;<samp><span class="samp">sysctl</span></samp>&rsquo; can lookup kernel information using MIB (Management
Information Base) syntax.  Normally, it only provides a way of getting
information from the kernel.  So one would usually want to change kernel
information using another method such as &lsquo;<samp><span class="samp">ioctl</span></samp>&rsquo;.

     <br><dt>&lsquo;<samp><span class="samp">proc filesystem</span></samp>&rsquo;<dd>&lsquo;<samp><span class="samp">proc filesystem</span></samp>&rsquo; provides an easy way of getting kernel
information.

     <br><dt>&lsquo;<samp><span class="samp">routing socket</span></samp>&rsquo;
<br><dt>&lsquo;<samp><span class="samp">netlink</span></samp>&rsquo;<dd>On recent Linux kernels (2.0.x and 2.2.x), there is a kernel/user
communication support called <code>netlink</code>.  It makes asynchronous
communication between kernel and Quagga possible, similar to a routing
socket on BSD systems.

     <p>Before you use this feature, be sure to select (in kernel configuration)
the kernel/netlink support option 'Kernel/User network link driver' and
'Routing messages'.

     <p>Today, the /dev/route special device file is obsolete.  Netlink
communication is done by reading/writing over netlink socket.

     <p>After the kernel configuration, please reconfigure and rebuild Quagga. 
You can use netlink as a dynamic routing update channel between Quagga
and the kernel. 
</dl>

<div class="node">
<a name="SNMP-Support"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Zebra-Protocol">Zebra Protocol</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Kernel-Interface">Kernel Interface</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="chapter">17 SNMP Support</h2>

<p><acronym title="Simple Network Managing Protocol">SNMP</acronym> (Simple Network Managing Protocol) is a widely implemented
feature for collecting network information from router and/or host. 
Quagga itself does not support SNMP agent (server daemon) functionality
but is able to connect to a SNMP agent using the SMUX protocol
(<cite>RFC1227</cite>) or the AgentX protocol (<cite>RFC2741</cite>) and make the
routing protocol MIBs available through it.

<ul class="menu">
<li><a accesskey="1" href="#Getting-and-installing-an-SNMP-agent">Getting and installing an SNMP agent</a>
<li><a accesskey="2" href="#AgentX-configuration">AgentX configuration</a>
<li><a accesskey="3" href="#SMUX-configuration">SMUX configuration</a>
<li><a accesskey="4" href="#MIB-and-command-reference">MIB and command reference</a>
<li><a accesskey="5" href="#Handling-SNMP-Traps">Handling SNMP Traps</a>
</ul>

<div class="node">
<a name="Getting-and-installing-an-SNMP-agent"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#AgentX-configuration">AgentX configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SNMP-Support">SNMP Support</a>

</div>

<h3 class="section">17.1 Getting and installing an SNMP agent</h3>

<p>There are several SNMP agent which support SMUX or AgentX. We recommend to use the latest
version of <code>net-snmp</code> which was formerly known as <code>ucd-snmp</code>. 
It is free and open software and available at <a href="http://www.net-snmp.org/">http://www.net-snmp.org/</a>
and as binary package for most Linux distributions. 
<code>net-snmp</code> has to be compiled with <code>--with-mib-modules=agentx</code> to
be able to accept connections from Quagga using AgentX protocol or with
<code>--with-mib-modules=smux</code> to use SMUX protocol.

   <p>Nowadays, SMUX is a legacy protocol. The AgentX protocol should be
preferred for any new deployment. Both protocols have the same coverage.

<div class="node">
<a name="AgentX-configuration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#SMUX-configuration">SMUX configuration</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Getting-and-installing-an-SNMP-agent">Getting and installing an SNMP agent</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SNMP-Support">SNMP Support</a>

</div>

<h3 class="section">17.2 AgentX configuration</h3>

<p>To enable AgentX protocol support, Quagga must have been build with the
<code>--enable-snmp</code> or <code>--enable-snmp=agentx</code> option. Both the
master SNMP agent (snmpd) and each of the Quagga daemons must be
configured. In <code>/etc/snmp/snmpd.conf</code>, <code>master agentx</code>
directive should be added. In each of the Quagga daemons, <code>agentx</code>
command will enable AgentX support.

<pre class="example">/etc/snmp/snmpd.conf:
	#
	# example access restrictions setup
	#
	com2sec readonly default public
	group MyROGroup v1 readonly
	view all included .1 80
	access MyROGroup "" any noauth exact all none none
	#
	# enable master agent for AgentX subagents
	#
	master agentx

/etc/quagga/ospfd.conf:
	! ... the rest of ospfd.conf has been omitted for clarity ...
	!
	agentx
	!
</pre>
   <p>Upon successful connection, you should get something like this in the
log of each Quagga daemons:

<pre class="example">2012/05/25 11:39:08 ZEBRA: snmp[info]: NET-SNMP version 5.4.3 AgentX subagent connected
</pre>
   <p>Then, you can use the following command to check everything works as expected:

<pre class="example"># snmpwalk -c public -v1 localhost .1.3.6.1.2.1.14.1.1
OSPF-MIB::ospfRouterId.0 = IpAddress: 192.168.42.109
[...]
</pre>
   <p>The AgentX protocol can be transported over a Unix socket or using TCP
or UDP. It usually defaults to a Unix socket and depends on how NetSNMP
was built. If need to configure Quagga to use another transport, you can
configure it through <code>/etc/snmp/quagga.conf</code>:

<pre class="example">/etc/snmp/quagga.conf:
	[snmpd]
	# Use a remote master agent
	agentXSocket tcp:192.168.15.12:705
</pre>
   <div class="node">
<a name="SMUX-configuration"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#MIB-and-command-reference">MIB and command reference</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#AgentX-configuration">AgentX configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SNMP-Support">SNMP Support</a>

</div>

<h3 class="section">17.3 SMUX configuration</h3>

<p>To enable SMUX protocol support, Quagga must have been build with the
<code>--enable-snmp=smux</code> option.

   <p>A separate connection has then to be established between the
SNMP agent (snmpd) and each of the Quagga daemons. This connections
each use different OID numbers and passwords. Be aware that this OID
number is not the one that is used in queries by clients, it is solely
used for the intercommunication of the daemons.

   <p>In the following example the ospfd daemon will be connected to the
snmpd daemon using the password "quagga_ospfd". For testing it is
recommending to take exactly the below snmpd.conf as wrong access
restrictions can be hard to debug.

<pre class="example">/etc/snmp/snmpd.conf:
	#
	# example access restrictions setup
	#
	com2sec readonly default public
	group MyROGroup v1 readonly
	view all included .1 80
	access MyROGroup "" any noauth exact all none none
	#
	# the following line is relevant for Quagga
	#
	smuxpeer .1.3.6.1.4.1.3317.1.2.5 quagga_ospfd

/etc/quagga/ospf:
	! ... the rest of ospfd.conf has been omitted for clarity ...
	!
	smux peer .1.3.6.1.4.1.3317.1.2.5 quagga_ospfd
	!
</pre>
   <p>After restarting snmpd and quagga, a successful connection can be verified in
the syslog and by querying the SNMP daemon:

<pre class="example">snmpd[12300]: [smux_accept] accepted fd 12 from 127.0.0.1:36255
snmpd[12300]: accepted smux peer: \
	oid GNOME-PRODUCT-ZEBRA-MIB::ospfd, quagga-0.96.5

# snmpwalk -c public -v1 localhost .1.3.6.1.2.1.14.1.1
OSPF-MIB::ospfRouterId.0 = IpAddress: 192.168.42.109
</pre>
   <p>Be warned that the current version (5.1.1) of the Net-SNMP daemon writes a line
for every SNMP connect to the syslog which can lead to enormous log file sizes. 
If that is a problem you should consider to patch snmpd and comment out the
troublesome <code>snmp_log()</code> line in the function
<code>netsnmp_agent_check_packet()</code> in <code>agent/snmp_agent.c</code>.

<div class="node">
<a name="MIB-and-command-reference"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Handling-SNMP-Traps">Handling SNMP Traps</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SMUX-configuration">SMUX configuration</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SNMP-Support">SNMP Support</a>

</div>

<h3 class="section">17.4 MIB and command reference</h3>

<p>The following OID numbers are used for the interprocess communication of snmpd and
the Quagga daemons with SMUX only.
<pre class="example">            (OIDs below .iso.org.dod.internet.private.enterprises)
zebra	.1.3.6.1.4.1.3317.1.2.1 .gnome.gnomeProducts.zebra.zserv
bgpd	.1.3.6.1.4.1.3317.1.2.2 .gnome.gnomeProducts.zebra.bgpd
ripd	.1.3.6.1.4.1.3317.1.2.3 .gnome.gnomeProducts.zebra.ripd
ospfd	.1.3.6.1.4.1.3317.1.2.5 .gnome.gnomeProducts.zebra.ospfd
ospf6d	.1.3.6.1.4.1.3317.1.2.6 .gnome.gnomeProducts.zebra.ospf6d
</pre>
   <p>Sadly, SNMP has not been implemented in all daemons yet. The following
OID numbers are used for querying the SNMP daemon by a client:
<pre class="example">zebra	.1.3.6.1.2.1.4.24   .iso.org.dot.internet.mgmt.mib-2.ip.ipForward
ospfd	.1.3.6.1.2.1.14	    .iso.org.dot.internet.mgmt.mib-2.ospf
bgpd	.1.3.6.1.2.1.15	    .iso.org.dot.internet.mgmt.mib-2.bgp
ripd	.1.3.6.1.2.1.23	    .iso.org.dot.internet.mgmt.mib-2.rip2
ospf6d	.1.3.6.1.3.102	    .iso.org.dod.internet.experimental.ospfv3
</pre>
   <p>The following syntax is understood by the Quagga daemons for configuring SNMP using SMUX:

<div class="defun">
&mdash; Command: <b>smux peer </b><var>oid</var><var> <a name="index-smux-peer-_0040var_007boid_007d-625"></a></var><br>
&mdash; Command: <b>no smux peer </b><var>oid</var><var> <a name="index-no-smux-peer-_0040var_007boid_007d-626"></a></var><br>
        </div>

<div class="defun">
&mdash; Command: <b>smux peer </b><var>oid</var> <var>password</var><var> <a name="index-smux-peer-_0040var_007boid_007d-_0040var_007bpassword_007d-627"></a></var><br>
&mdash; Command: <b>no smux peer </b><var>oid</var> <var>password</var><var> <a name="index-no-smux-peer-_0040var_007boid_007d-_0040var_007bpassword_007d-628"></a></var><br>
        </div>

   <p>Here is the syntax for using AgentX:

<div class="defun">
&mdash; Command: <b>agentx</b><var> <a name="index-agentx-629"></a></var><br>
&mdash; Command: <b>no agentx</b><var> <a name="index-no-agentx-630"></a></var><br>
        </div>

<!-- Documentation on configuring Quagga and snmpd for SNMP traps -->
<!-- contributed by Jeroen Simonetti, jsimonetti@denit.net -->
<div class="node">
<a name="Handling-SNMP-Traps"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#MIB-and-command-reference">MIB and command reference</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#SNMP-Support">SNMP Support</a>

</div>

<h3 class="section">17.5 Handling SNMP Traps</h3>

<p>To handle snmp traps make sure your snmp setup of quagga works
correctly as described in the quagga documentation in See <a href="#SNMP-Support">SNMP Support</a>.

   <p>The BGP4 mib will send traps on peer up/down events. These should be
visible in your snmp logs with a message similar to:

   <p>&lsquo;<samp><span class="samp">snmpd[13733]: Got trap from peer on fd 14</span></samp>&rsquo;

   <p>To react on these traps they should be handled by a trapsink. Configure
your trapsink by adding the following lines to <samp><span class="file">/etc/snmpd/snmpd.conf</span></samp>:

<pre class="example">  # send traps to the snmptrapd on localhost
  trapsink localhost
</pre>
   <p>This will send all traps to an snmptrapd running on localhost. You can
of course also use a dedicated management station to catch traps. 
Configure the snmptrapd daemon by adding the following line to
<samp><span class="file">/etc/snmpd/snmptrapd.conf</span></samp>:

<!-- Documentation contributed by Jeroen Simonetti, jsimonetti@denit.net -->
<pre class="example">  traphandle .1.3.6.1.4.1.3317.1.2.2 /etc/snmp/snmptrap_handle.sh
</pre>
   <p>This will use the bash script <samp><span class="file">/etc/snmp/snmptrap_handle.sh</span></samp> to handle
the BGP4 traps. To add traps for other protocol daemons, lookup their
appropriate OID from their mib. (For additional information about which
traps are supported by your mib, lookup the mib on
<a href="http://www.oidview.com/mibs/detail.html">http://www.oidview.com/mibs/detail.html</a>).

   <p>Make sure snmptrapd is started.

   <p>The snmptrap_handle.sh script I personally use for handling BGP4 traps
is below. You can of course do all sorts of things when handling traps,
like sound a siren, have your display flash, etc., be creative ;).

<pre class="verbatim">  #!/bin/bash

  # routers name
  ROUTER=`hostname -s`

  #email address use to sent out notification
  EMAILADDR="john@doe.com"
  #email address used (allongside above) where warnings should be sent
  EMAILADDR_WARN="sms-john@doe.com"

  # type of notification
  TYPE="Notice"

  # local snmp community for getting AS belonging to peer
  COMMUNITY="&lt;community>"

  # if a peer address is in $WARN_PEERS a warning should be sent
  WARN_PEERS="192.0.2.1"


  # get stdin
  INPUT=`cat -`

  # get some vars from stdin
  uptime=`echo $INPUT | cut -d' ' -f5`
  peer=`echo $INPUT | cut -d' ' -f8 | sed -e 's/SNMPv2-SMI::mib-2.15.3.1.14.//g'`
  peerstate=`echo $INPUT | cut -d' ' -f13`
  errorcode=`echo $INPUT | cut -d' ' -f9 | sed -e 's/\"//g'`
  suberrorcode=`echo $INPUT | cut -d' ' -f10 | sed -e 's/\"//g'`
  remoteas=`snmpget -v2c -c $COMMUNITY localhost SNMPv2-SMI::mib-2.15.3.1.9.$peer | cut -d' ' -f4`

  WHOISINFO=`whois -h whois.ripe.net " -r AS$remoteas" | egrep '(as-name|descr)'`
  asname=`echo "$WHOISINFO" | grep "^as-name:" | sed -e 's/^as-name://g' -e 's/  //g' -e 's/^ //g' | uniq`
  asdescr=`echo "$WHOISINFO" | grep "^descr:" | sed -e 's/^descr://g' -e 's/  //g' -e 's/^ //g' | uniq`

  # if peer address is in $WARN_PEER, the email should also
  # be sent to $EMAILADDR_WARN
  for ip in $WARN_PEERS; do
    if [ "x$ip" == "x$peer" ]; then
      EMAILADDR="$EMAILADDR,$EMAILADDR_WARN"
      TYPE="WARNING"
      break
    fi
  done
  

  # convert peer state
  case "$peerstate" in
    1) peerstate="Idle" ;;
    2) peerstate="Connect" ;;
    3) peerstate="Active" ;;
    4) peerstate="Opensent" ;;
    5) peerstate="Openconfirm" ;;
    6) peerstate="Established" ;;
    *) peerstate="Unknown" ;;
  esac

  # get textual messages for errors
  case "$errorcode" in
    00)
      error="No error"
      suberror=""
      ;;
    01)
      error="Message Header Error"
      case "$suberrorcode" in
        01) suberror="Connection Not Synchronized" ;;
        02) suberror="Bad Message Length" ;;
        03) suberror="Bad Message Type" ;;
        *) suberror="Unknown" ;;
      esac
      ;;
    02)    
      error="OPEN Message Error"
      case "$suberrorcode" in
        01) suberror="Unsupported Version Number" ;;
        02) suberror="Bad Peer AS" ;;
        03) suberror="Bad BGP Identifier" ;;
        04) suberror="Unsupported Optional Parameter" ;;
        05) suberror="Authentication Failure" ;;
        06) suberror="Unacceptable Hold Time" ;;
        *) suberror="Unknown" ;;
      esac
      ;;
    03)
      error="UPDATE Message Error"
      case "$suberrorcode" in
        01) suberror="Malformed Attribute List" ;;
        02) suberror="Unrecognized Well-known Attribute" ;;
        03) suberror="Missing Well-known Attribute" ;;
        04) suberror="Attribute Flags Error" ;;
        05) suberror="Attribute Length Error" ;;
        06) suberror="Invalid ORIGIN Attribute" ;;
        07) suberror="AS Routing Loop" ;;
        08) suberror="Invalid NEXT_HOP Attribute" ;;
        09) suberror="Optional Attribute Error" ;;
        10) suberror="Invalid Network Field" ;;
        11) suberror="Malformed AS_PATH" ;;
        *) suberror="Unknown" ;;
      esac
      ;;
    04)
      error="Hold Timer Expired"
      suberror=""
      ;;
    05)
      error="Finite State Machine Error"
      suberror=""
      ;;
    06)
      error="Cease"
      case "$suberrorcode" in
        01) suberror="Maximum Number of Prefixes Reached" ;;
        02) suberror="Administratively Shutdown" ;;
        03) suberror="Peer Unconfigured" ;;
        04) suberror="Administratively Reset" ;;
        05) suberror="Connection Rejected" ;;
        06) suberror="Other Configuration Change" ;;
        07) suberror="Connection collision resolution" ;;
        08) suberror="Out of Resource" ;;
        09) suberror="MAX" ;;
        *) suberror="Unknown" ;;
      esac
      ;;
    *)
      error="Unknown"
      suberror=""
      ;;
  esac

  # create textual message from errorcodes
  if [ "x$suberror" == "x" ]; then
    NOTIFY="$errorcode ($error)"
  else
    NOTIFY="$errorcode/$suberrorcode ($error/$suberror)"
  fi
 

  # form a decent subject
  SUBJECT="$TYPE: $ROUTER [bgp] $peer is $peerstate: $NOTIFY"
  # create the email body
  MAIL=`cat &lt;&lt; EOF
  BGP notification on router $ROUTER.
  
  Peer: $peer
  AS: $remoteas
  New state: $peerstate
  Notification: $NOTIFY

  Info:
  $asname
  $asdescr
 
  Snmpd uptime: $uptime
  EOF`

  # mail the notification
  echo "$MAIL" | mail -s "$SUBJECT" $EMAILADDR
</pre>

<div class="node">
<a name="Zebra-Protocol"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Packet-Binary-Dump-Format">Packet Binary Dump Format</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#SNMP-Support">SNMP Support</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix A Zebra Protocol</h2>

<h3 class="appendixsec">A.1 Overview of the Zebra Protocol</h3>

<p>Zebra Protocol is used by protocol daemons to communicate with the
zebra daemon.

   <p>Each protocol daemon may request and send information to and from the
zebra daemon such as interface states, routing state,
nexthop-validation, and so on. Protocol daemons may also install routes
with zebra. The zebra daemon manages which route is installed into the
forwarding table with the kernel.

   <p>Zebra Protocol is a streaming protocol, with a common header. Two
versions of the header are in use. Version 0 is implicitely versioned. 
Version 1 has an explicit version field. Version 0 can be distinguished
from all other versions by examining the 3rd byte of the header, which
contains a marker value for all versions bar version 0. The marker byte
corresponds to the command field in version 0, and the marker value is
a reserved command in version 0.

   <p>We do not anticipate there will be further versions of the header for
the foreseeable future, as the command field in version 1 is wide
enough to allow for future extensions to done compatibly through
seperate commands.

   <p>Version 0 is used by all versions of GNU Zebra as of this writing, and
versions of Quagga up to and including Quagga 0.98. Version 1 will be
used as of Quagga 1.0.

<h3 class="appendixsec">A.2 Zebra Protocol Definition</h3>

<h4 class="appendixsubsec">A.2.1 Zebra Protocol Header (version 0)</h4>

<pre class="example">0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+---------------+
|           Length (2)          |   Command (1) |
+-------------------------------+---------------+
</pre>
<h4 class="appendixsubsec">A.2.2 Zebra Protocol Common Header (version 1)</h4>

<pre class="example">0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-------------------------------+---------------+-------------+
|           Length (2)          |   Marker (1)  | Version (1) |
+-------------------------------+---------------+-------------+
|          Command (2)          |
+-------------------------------+
</pre>
<h4 class="appendixsubsec">A.2.3 Zebra Protocol Header Field Definitions</h4>

     <dl>
<dt>&lsquo;<samp><span class="samp">Length</span></samp>&rsquo;<dd>Total packet length including this header. The minimum length is 3
bytes for version 0 messages and 6 bytes for version 1 messages.

     <br><dt>&lsquo;<samp><span class="samp">Marker</span></samp>&rsquo;<dd>Static marker with a value of 255 always. This is to allow version 0
Zserv headers (which do not include version explicitely) to be
distinguished from versioned headers. Not present in version 0
messages.

     <br><dt>&lsquo;<samp><span class="samp">Version</span></samp>&rsquo;<dd>Version number of the Zserv message. Clients should not continue
processing messages past the version field for versions they do not
recognise. Not present in version 0 messages.

     <br><dt>&lsquo;<samp><span class="samp">Command</span></samp>&rsquo;<dd>The Zebra Protocol command. 
</dl>

<h4 class="appendixsubsec">A.2.4 Zebra Protocol Commands</h4>

<p><table summary=""><tr align="left"><th valign="top">Command </th><th valign="top">Value
<br></th></tr><tr align="left"><td valign="top">ZEBRA_INTERFACE_ADD
</td><td valign="top">1
<br></td></tr><tr align="left"><td valign="top">ZEBRA_INTERFACE_DELETE
</td><td valign="top">2
<br></td></tr><tr align="left"><td valign="top">ZEBRA_INTERFACE_ADDRESS_ADD
</td><td valign="top">3
<br></td></tr><tr align="left"><td valign="top">ZEBRA_INTERFACE_ADDRESS_DELETE
</td><td valign="top">4
<br></td></tr><tr align="left"><td valign="top">ZEBRA_INTERFACE_UP
</td><td valign="top">5
<br></td></tr><tr align="left"><td valign="top">ZEBRA_INTERFACE_DOWN
</td><td valign="top">6
<br></td></tr><tr align="left"><td valign="top">ZEBRA_IPV4_ROUTE_ADD
</td><td valign="top">7
<br></td></tr><tr align="left"><td valign="top">ZEBRA_IPV4_ROUTE_DELETE
</td><td valign="top">8
<br></td></tr><tr align="left"><td valign="top">ZEBRA_IPV6_ROUTE_ADD
</td><td valign="top">9
<br></td></tr><tr align="left"><td valign="top">ZEBRA_IPV6_ROUTE_DELETE
</td><td valign="top">10
<br></td></tr><tr align="left"><td valign="top">ZEBRA_REDISTRIBUTE_ADD
</td><td valign="top">11
<br></td></tr><tr align="left"><td valign="top">ZEBRA_REDISTRIBUTE_DELETE
</td><td valign="top">12
<br></td></tr><tr align="left"><td valign="top">ZEBRA_REDISTRIBUTE_DEFAULT_ADD
</td><td valign="top">13
<br></td></tr><tr align="left"><td valign="top">ZEBRA_REDISTRIBUTE_DEFAULT_DELETE
</td><td valign="top">14
<br></td></tr><tr align="left"><td valign="top">ZEBRA_IPV4_NEXTHOP_LOOKUP
</td><td valign="top">15
<br></td></tr><tr align="left"><td valign="top">ZEBRA_IPV6_NEXTHOP_LOOKUP
</td><td valign="top">16
<br></td></tr></table>

<div class="node">
<a name="Packet-Binary-Dump-Format"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Command-Index">Command Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Zebra-Protocol">Zebra Protocol</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="appendix">Appendix B Packet Binary Dump Format</h2>

<p>Quagga can dump routing protocol packet into file with a binary format
(see <a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a>).

   <p>It seems to be better that we share the MRT's header format for
backward compatibility with MRT's dump logs. We should also define the
binary format excluding the header, because we must support both IP
v4 and v6 addresses as socket addresses and / or routing entries.

   <p>In the last meeting, we discussed to have a version field in the
header. But Masaki told us that we can define new `type' value rather
than having a `version' field, and it seems to be better because we
don't need to change header format.

   <p>Here is the common header format. This is same as that of MRT.

<pre class="example">0                   1                   2                   3
0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                              Time                             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|             Type              |            Subtype            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                             Length                            |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>If `type' is PROTOCOL_BGP4MP, `subtype' is BGP4MP_STATE_CHANGE, and
Address Family == IP (version 4)

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Source AS number       |     Destination AS number     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Interface Index        |      Address Family           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Old State          |           New State           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>Where State is the value defined in RFC1771.

   <p>If `type' is PROTOCOL_BGP4MP, `subtype' is BGP4MP_STATE_CHANGE,
and Address Family == IP version 6

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Source AS number       |     Destination AS number     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Interface Index        |      Address Family           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address (Cont'd)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address (Cont'd)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address (Cont'd)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address (Cont'd)           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address (Cont'd)           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address (Cont'd)           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            Old State          |           New State           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>If `type' is PROTOCOL_BGP4MP, `subtype' is BGP4MP_MESSAGE,
and Address Family == IP (version 4)

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Source AS number       |     Destination AS number     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Interface Index        |      Address Family           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       BGP Message Packet                      |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>Where BGP Message Packet is the whole contents of the
BGP4 message including header portion.

   <p>If `type' is PROTOCOL_BGP4MP, `subtype' is BGP4MP_MESSAGE,
and Address Family == IP version 6

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Source AS number       |     Destination AS number     |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|        Interface Index        |      Address Family           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address                      |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address (Cont'd)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address (Cont'd)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Source IP address (Cont'd)             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address                    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address (Cont'd)           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address (Cont'd)           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                     Destination IP address (Cont'd)           |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                       BGP Message Packet                      |
|                                                               |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>If `type' is PROTOCOL_BGP4MP, `subtype' is BGP4MP_ENTRY,
and Address Family == IP (version 4)

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            View #             |            Status             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Time Last Change                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Address Family          |    SAFI       | Next-Hop-Len  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Next Hop Address                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Prefix Length |             Address Prefix [variable]         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Attribute Length        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      BGP Attribute [variable length]    			|
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>If `type' is PROTOCOL_BGP4MP, `subtype' is BGP4MP_ENTRY,
and Address Family == IP version 6

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|            View #             |            Status             |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Time Last Change                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Address Family          |    SAFI       | Next-Hop-Len  |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Next Hop Address                       |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Next Hop Address (Cont'd)              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Next Hop Address (Cont'd)              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|                        Next Hop Address (Cont'd)              |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
| Prefix Length |             Address Prefix [variable]         |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|     Address Prefix (cont'd) [variable]        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|       Attribute Length        |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|      BGP Attribute [variable length]    			    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>	BGP4 Attribute must not contain MP_UNREACH_NLRI. 
	If BGP Attribute has MP_REACH_NLRI field, it must has
	zero length NLRI, e.g., MP_REACH_NLRI has only Address
	Family, SAFI and next-hop values.

   <p>If `type' is PROTOCOL_BGP4MP and `subtype' is BGP4MP_SNAPSHOT,

<pre class="example"> 0                   1                   2                   3
 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
|           View #              |       File Name [variable]    |
+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+
</pre>
   <p>The file specified in "File Name" contains all routing entries,
    which are in the format of &ldquo;subtype == BGP4MP_ENTRY&rdquo;.

<pre class="example">Constants:
  /* type value */
  #define MSG_PROTOCOL_BGP4MP 16
  /* subtype value */
  #define BGP4MP_STATE_CHANGE 0
  #define BGP4MP_MESSAGE 1
  #define BGP4MP_ENTRY 2
  #define BGP4MP_SNAPSHOT 3
</pre>
   <div class="node">
<a name="Command-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#VTY-Key-Index">VTY Key Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Packet-Binary-Dump-Format">Packet Binary Dump Format</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Command Index</h2>

<ul class="index-fn" compact>
<li><a href="#index-access_002dclass-_0040var_007baccess_002dlist_007d-71"><code>access-class </code><var>access-list</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-access_002dlist-_0040var_007bname_007d-deny-_0040var_007bipv4_002dnetwork_007d-558"><code>access-list </code><var>name</var><code> deny </code><var>ipv4-network</var></a>: <a href="#IP-Access-List">IP Access List</a></li>
<li><a href="#index-access_002dlist-_0040var_007bname_007d-permit-_0040var_007bipv4_002dnetwork_007d-557"><code>access-list </code><var>name</var><code> permit </code><var>ipv4-network</var></a>: <a href="#IP-Access-List">IP Access List</a></li>
<li><a href="#index-agentx-629"><code>agentx</code></a>: <a href="#MIB-and-command-reference">MIB and command reference</a></li>
<li><a href="#index-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-426"><code>aggregate-address </code><var>A.B.C.D/M</var></a>: <a href="#Route-Aggregation">Route Aggregation</a></li>
<li><a href="#index-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-as_002dset-427"><code>aggregate-address </code><var>A.B.C.D/M</var><code> as-set</code></a>: <a href="#Route-Aggregation">Route Aggregation</a></li>
<li><a href="#index-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-summary_002donly-428"><code>aggregate-address </code><var>A.B.C.D/M</var><code> summary-only</code></a>: <a href="#Route-Aggregation">Route Aggregation</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-authentication-293"><code>area &lt;0-4294967295&gt; authentication</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-authentication-message_002ddigest-297"><code>area &lt;0-4294967295&gt; authentication message-digest</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-export_002dlist-NAME-277"><code>area &lt;0-4294967295&gt; export-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-in-286"><code>area &lt;0-4294967295&gt; filter-list prefix NAME in</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-out-287"><code>area &lt;0-4294967295&gt; filter-list prefix NAME out</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-import_002dlist-NAME-281"><code>area &lt;0-4294967295&gt; import-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-251"><code>area &lt;0-4294967295&gt; range </code><var>a.b.c.d/m</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-shortcut-263"><code>area &lt;0-4294967295&gt; shortcut</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-stub-267"><code>area &lt;0-4294967295&gt; stub</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-stub-no_002dsummary-271"><code>area &lt;0-4294967295&gt; stub no-summary</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_003c0_002d4294967295_003e-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-259"><code>area &lt;0-4294967295&gt; virtual-link </code><var>a.b.c.d</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-authentication-292"><code>area </code><var>a.b.c.d</var><code> authentication</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-authentication-message_002ddigest-296"><code>area </code><var>a.b.c.d</var><code> authentication message-digest</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-default_002dcost-_003c0_002d16777215_003e-274"><code>area </code><var>a.b.c.d</var><code> default-cost &lt;0-16777215&gt;</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-export_002dlist-NAME-276"><code>area </code><var>a.b.c.d</var><code> export-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-in-284"><code>area </code><var>a.b.c.d</var><code> filter-list prefix NAME in</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-out-285"><code>area </code><var>a.b.c.d</var><code> filter-list prefix NAME out</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-import_002dlist-NAME-280"><code>area </code><var>a.b.c.d</var><code> import-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-250"><code>area </code><var>a.b.c.d</var><code> range </code><var>a.b.c.d/m</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-not_002dadvertise-254"><code>area </code><var>a.b.c.d</var><code> range IPV4_PREFIX not-advertise</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-substitute-IPV4_005fPREFIX-256"><code>area </code><var>a.b.c.d</var><code> range IPV4_PREFIX substitute IPV4_PREFIX</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-shortcut-262"><code>area </code><var>a.b.c.d</var><code> shortcut</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-266"><code>area </code><var>a.b.c.d</var><code> stub</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-no_002dsummary-270"><code>area </code><var>a.b.c.d</var><code> stub no-summary</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-area-_0040var_007ba_002eb_002ec_002ed_007d-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-258"><code>area </code><var>a.b.c.d</var><code> virtual-link </code><var>a.b.c.d</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-auto_002dcost-reference_002dbandwidth-_003c1_002d4294967_003e-244"><code>auto-cost reference-bandwidth &lt;1-4294967&gt;</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-babel-hello_002dinterval-_003c20_002d655340_003e-405"><code>babel hello-interval &lt;20-655340&gt;</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-babel-resend_002ddelay-_003c20_002d655340_003e-407"><code>babel resend-delay &lt;20-655340&gt;</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-babel-split_002dhorizon-403"><code>babel split-horizon</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-babel-update_002dinterval-_003c20_002d655340_003e-406"><code>babel update-interval &lt;20-655340&gt;</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-babel-wired-401"><code>babel wired</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-babel-wireless-402"><code>babel wireless</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-bandwidth-_003c1_002d10000000_003e-117"><code>bandwidth &lt;1-10000000&gt;</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-banner-motd-default-66"><code>banner motd default</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-bgp-bestpath-as_002dpath-confed-422"><code>bgp bestpath as-path confed</code></a>: <a href="#BGP-decision-process">BGP decision process</a></li>
<li><a href="#index-bgp-cluster_002did-_0040var_007ba_002eb_002ec_002ed_007d-533"><code>bgp cluster-id </code><var>a.b.c.d</var></a>: <a href="#Route-Reflector">Route Reflector</a></li>
<li><a href="#index-bgp-config_002dtype-cisco-538"><code>bgp config-type cisco</code></a>: <a href="#Multiple-instance">Multiple instance</a></li>
<li><a href="#index-bgp-config_002dtype-zebra-539"><code>bgp config-type zebra</code></a>: <a href="#Multiple-instance">Multiple instance</a></li>
<li><a href="#index-bgp-dampening-_0040var_007b_003c1_002d45_003e_007d-_0040var_007b_003c1_002d20000_003e_007d-_0040var_007b_003c1_002d20000_003e_007d-_0040var_007b_003c1_002d255_003e_007d-423"><code>bgp dampening </code><var>&lt;1-45&gt;</var> <var>&lt;1-20000&gt;</var> <var>&lt;1-20000&gt;</var> <var>&lt;1-255&gt;</var></a>: <a href="#BGP-route-flap-dampening">BGP route flap dampening</a></li>
<li><a href="#index-bgp-multiple_002dinstance-536"><code>bgp multiple-instance</code></a>: <a href="#Multiple-instance">Multiple instance</a></li>
<li><a href="#index-bgp-router_002did-_0040var_007bA_002eB_002eC_002eD_007d-418"><code>bgp router-id </code><var>A.B.C.D</var></a>: <a href="#BGP-router">BGP router</a></li>
<li><a href="#index-call-_0040var_007bname_007d-593"><code>call </code><var>name</var></a>: <a href="#Route-Map-Call-Command">Route Map Call Command</a></li>
<li><a href="#index-call-_0040var_007bWORD_007d-554"><code>call </code><var>WORD</var></a>: <a href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a></li>
<li><a href="#index-clear-ip-bgp-_0040var_007bpeer_007d-516"><code>clear ip bgp </code><var>peer</var></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-clear-ip-bgp-_0040var_007bpeer_007d-soft-in-517"><code>clear ip bgp </code><var>peer</var><code> soft in</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-clear-ip-prefix_002dlist-576"><code>clear ip prefix-list</code></a>: <a href="#Clear-counter-of-ip-prefix_002dlist">Clear counter of ip prefix-list</a></li>
<li><a href="#index-clear-ip-prefix_002dlist-_0040var_007bname_007d-577"><code>clear ip prefix-list </code><var>name</var></a>: <a href="#Clear-counter-of-ip-prefix_002dlist">Clear counter of ip prefix-list</a></li>
<li><a href="#index-clear-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-578"><code>clear ip prefix-list </code><var>name</var> <var>a.b.c.d/m</var></a>: <a href="#Clear-counter-of-ip-prefix_002dlist">Clear counter of ip prefix-list</a></li>
<li><a href="#index-clear-zebra-fpm-stats-138"><code>clear zebra fpm stats</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-configure-terminal-74"><code>configure terminal</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-continue-595"><code>continue</code></a>: <a href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a></li>
<li><a href="#index-continue-_0040var_007bN_007d-597"><code>continue </code><var>N</var></a>: <a href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a></li>
<li><a href="#index-debug-babel-_0040var_007bkind_007d-414"><code>debug babel </code><var>kind</var></a>: <a href="#Babel-debugging-commands">Babel debugging commands</a></li>
<li><a href="#index-debug-event-521"><code>debug event</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-debug-keepalive-523"><code>debug keepalive</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-debug-ospf-ism-362"><code>debug ospf ism</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-ism-_0028status_007cevents_007ctimers_0029-363"><code>debug ospf ism (status|events|timers)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-lsa-370"><code>debug ospf lsa</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-lsa-_0028generate_007cflooding_007crefresh_0029-371"><code>debug ospf lsa (generate|flooding|refresh)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-nsm-366"><code>debug ospf nsm</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-nsm-_0028status_007cevents_007ctimers_0029-367"><code>debug ospf nsm (status|events|timers)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-packet-_0028hello_007cdd_007cls_002drequest_007cls_002dupdate_007cls_002dack_007call_0029-_0028send_007crecv_0029-_005bdetail_005d-360"><code>debug ospf packet (hello|dd|ls-request|ls-update|ls-ack|all) (send|recv) [detail]</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-zebra-374"><code>debug ospf zebra</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-ospf-zebra-_0028interface_007credistribute_0029-375"><code>debug ospf zebra (interface|redistribute)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-debug-rip-events-210"><code>debug rip events</code></a>: <a href="#RIP-Debug-Commands">RIP Debug Commands</a></li>
<li><a href="#index-debug-rip-packet-211"><code>debug rip packet</code></a>: <a href="#RIP-Debug-Commands">RIP Debug Commands</a></li>
<li><a href="#index-debug-rip-zebra-212"><code>debug rip zebra</code></a>: <a href="#RIP-Debug-Commands">RIP Debug Commands</a></li>
<li><a href="#index-debug-ripng-events-222"><code>debug ripng events</code></a>: <a href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a></li>
<li><a href="#index-debug-ripng-packet-223"><code>debug ripng packet</code></a>: <a href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a></li>
<li><a href="#index-debug-ripng-zebra-224"><code>debug ripng zebra</code></a>: <a href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a></li>
<li><a href="#index-debug-update-522"><code>debug update</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-default_002dinformation-originate-327"><code>default-information originate</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-175"><code>default-information originate</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-default_002dinformation-originate-always-331"><code>default-information originate always</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-always-metric-_003c0_002d16777214_003e-332"><code>default-information originate always metric &lt;0-16777214&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-always-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-333"><code>default-information originate always metric &lt;0-16777214&gt; metric-type (1|2)</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-always-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-route_002dmap-_0040var_007bword_007d-334"><code>default-information originate always metric &lt;0-16777214&gt; metric-type (1|2) route-map </code><var>word</var></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-metric-_003c0_002d16777214_003e-328"><code>default-information originate metric &lt;0-16777214&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-329"><code>default-information originate metric &lt;0-16777214&gt; metric-type (1|2)</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dinformation-originate-metric-_003c0_002d16777214_003e-metric_002dtype-_00281_007c2_0029-route_002dmap-_0040var_007bword_007d-330"><code>default-information originate metric &lt;0-16777214&gt; metric-type (1|2) route-map </code><var>word</var></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dmetric-_003c0_002d16777214_003e-338"><code>default-metric &lt;0-16777214&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-default_002dmetric-_003c1_002d16_003e-180"><code>default-metric &lt;1-16&gt;</code></a>: <a href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a></li>
<li><a href="#index-description-_0040var_007bdescription_007d-_002e_002e_002e-114"><code>description </code><var>description</var><code> ...</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-distance-_003c1_002d255_003e-340"><code>distance &lt;1-255&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-distance-_003c1_002d255_003e-184"><code>distance &lt;1-255&gt;</code></a>: <a href="#RIP-distance">RIP distance</a></li>
<li><a href="#index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-420"><code>distance &lt;1-255&gt; </code><var>A.B.C.D/M</var></a>: <a href="#BGP-distance">BGP distance</a></li>
<li><a href="#index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-186"><code>distance &lt;1-255&gt; </code><var>A.B.C.D/M</var></a>: <a href="#RIP-distance">RIP distance</a></li>
<li><a href="#index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-_0040var_007baccess_002dlist_007d-188"><code>distance &lt;1-255&gt; </code><var>A.B.C.D/M</var> <var>access-list</var></a>: <a href="#RIP-distance">RIP distance</a></li>
<li><a href="#index-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-_0040var_007bword_007d-421"><code>distance &lt;1-255&gt; </code><var>A.B.C.D/M</var> <var>word</var></a>: <a href="#BGP-distance">BGP distance</a></li>
<li><a href="#index-distance-bgp-_003c1_002d255_003e-_003c1_002d255_003e-_003c1_002d255_003e-419"><code>distance bgp &lt;1-255&gt; &lt;1-255&gt; &lt;1-255&gt;</code></a>: <a href="#BGP-distance">BGP distance</a></li>
<li><a href="#index-distance-ospf-_0028intra_002darea_007cinter_002darea_007cexternal_0029-_003c1_002d255_003e-342"><code>distance ospf (intra-area|inter-area|external) &lt;1-255&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-distribute_002dlist-_0040var_007baccess_005flist_007d-_0028in_007cout_0029-_0040var_007bifname_007d-225"><code>distribute-list </code><var>access_list</var><code> (in|out) </code><var>ifname</var></a>: <a href="#ripngd-Filtering-Commands">ripngd Filtering Commands</a></li>
<li><a href="#index-distribute_002dlist-_0040var_007baccess_005flist_007d-_0040var_007bdirect_007d-_0040var_007bifname_007d-178"><code>distribute-list </code><var>access_list</var> <var>direct</var> <var>ifname</var></a>: <a href="#Filtering-RIP-Routes">Filtering RIP Routes</a></li>
<li><a href="#index-distribute_002dlist-NAME-out-_0028kernel_007cconnected_007cstatic_007crip_007cospf-336"><code>distribute-list NAME out (kernel|connected|static|rip|ospf</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-distribute_002dlist-prefix-_0040var_007bprefix_005flist_007d-_0028in_007cout_0029-_0040var_007bifname_007d-179"><code>distribute-list prefix </code><var>prefix_list</var><code> (in|out) </code><var>ifname</var></a>: <a href="#Filtering-RIP-Routes">Filtering RIP Routes</a></li>
<li><a href="#index-dump-bgp-all-_0040var_007bpath_007d-543"><code>dump bgp all </code><var>path</var></a>: <a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a></li>
<li><a href="#index-dump-bgp-all-_0040var_007bpath_007d-_0040var_007binterval_007d-544"><code>dump bgp all </code><var>path</var> <var>interval</var></a>: <a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a></li>
<li><a href="#index-dump-bgp-routes-_0040var_007bpath_007d-547"><code>dump bgp routes </code><var>path</var></a>: <a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a></li>
<li><a href="#index-dump-bgp-updates-_0040var_007bpath_007d-545"><code>dump bgp updates </code><var>path</var></a>: <a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a></li>
<li><a href="#index-dump-bgp-updates-_0040var_007bpath_007d-_0040var_007binterval_007d-546"><code>dump bgp updates </code><var>path</var> <var>interval</var></a>: <a href="#Dump-BGP-packets-and-table">Dump BGP packets and table</a></li>
<li><a href="#index-enable-password-_0040var_007bpassword_007d-41"><code>enable password </code><var>password</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-exec_002dtimeout-_0040var_007bminute_007d-68"><code>exec-timeout </code><var>minute</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-exec_002dtimeout-_0040var_007bminute_007d-_0040var_007bsecond_007d-69"><code>exec-timeout </code><var>minute</var> <var>second</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-flush_005ftimer-_0040var_007btime_007d-215"><code>flush_timer </code><var>time</var></a>: <a href="#ripngd-Configuration">ripngd Configuration</a></li>
<li><a href="#index-hostname-_0040var_007bhostname_007d-39"><code>hostname </code><var>hostname</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-interface-_0040var_007bifname_007d-105"><code>interface </code><var>ifname</var></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-interface-_0040var_007bifname_007d-area-_0040var_007barea_007d-381"><code>interface </code><var>ifname</var><code> area </code><var>area</var></a>: <a href="#OSPF6-router">OSPF6 router</a></li>
<li><a href="#index-ip-address-_0040var_007baddress_002fprefix_007d-108"><code>ip address </code><var>address/prefix</var></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-ip-address-_0040var_007baddress_002fprefix_007d-secondary-112"><code>ip address </code><var>address/prefix</var><code> secondary</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-ip-as_002dpath-access_002dlist-_0040var_007bword_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-470"><code>ip as-path access-list </code><var>word</var><code> {permit|deny} </code><var>line</var></a>: <a href="#AS-Path-Access-List">AS Path Access List</a></li>
<li><a href="#index-ip-community_002dlist-_003c1_002d99_003e-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-482"><code>ip community-list &lt;1-99&gt; {permit|deny} </code><var>community</var></a>: <a href="#Numbered-BGP-Community-Lists">Numbered BGP Community Lists</a></li>
<li><a href="#index-ip-community_002dlist-_003c100_002d199_003e-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-483"><code>ip community-list &lt;100-199&gt; {permit|deny} </code><var>community</var></a>: <a href="#Numbered-BGP-Community-Lists">Numbered BGP Community Lists</a></li>
<li><a href="#index-ip-community_002dlist-expanded-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-476"><code>ip community-list expanded </code><var>name</var><code> {permit|deny} </code><var>line</var></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-ip-community_002dlist-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-484"><code>ip community-list </code><var>name</var><code> {permit|deny} </code><var>community</var></a>: <a href="#Numbered-BGP-Community-Lists">Numbered BGP Community Lists</a></li>
<li><a href="#index-ip-community_002dlist-standard-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bcommunity_007d-475"><code>ip community-list standard </code><var>name</var><code> {permit|deny} </code><var>community</var></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-ip-extcommunity_002dlist-expanded-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-497"><code>ip extcommunity-list expanded </code><var>name</var><code> {permit|deny} </code><var>line</var></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-ip-extcommunity_002dlist-standard-_0040var_007bname_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bextcommunity_007d-496"><code>ip extcommunity-list standard </code><var>name</var><code> {permit|deny} </code><var>extcommunity</var></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-ip-ospf-authentication-message_002ddigest-300"><code>ip ospf authentication message-digest</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-authentication_002dkey-_0040var_007bAUTH_005fKEY_007d-298"><code>ip ospf authentication-key </code><var>AUTH_KEY</var></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-cost-_003c1_002d65535_003e-303"><code>ip ospf cost &lt;1-65535&gt;</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-dead_002dinterval-_003c1_002d65535_003e-305"><code>ip ospf dead-interval &lt;1-65535&gt;</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-dead_002dinterval-minimal-hello_002dmultiplier-_003c2_002d20_003e-306"><code>ip ospf dead-interval minimal hello-multiplier &lt;2-20&gt;</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-hello_002dinterval-_003c1_002d65535_003e-308"><code>ip ospf hello-interval &lt;1-65535&gt;</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-message_002ddigest_002dkey-KEYID-md5-KEY-301"><code>ip ospf message-digest-key KEYID md5 KEY</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-network-_0028broadcast_007cnon_002dbroadcast_007cpoint_002dto_002dmultipoint_007cpoint_002dto_002dpoint_0029-310"><code>ip ospf network (broadcast|non-broadcast|point-to-multipoint|point-to-point)</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-priority-_003c0_002d255_003e-312"><code>ip ospf priority &lt;0-255&gt;</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-retransmit_002dinterval-_003c1_002d65535_003e-314"><code>ip ospf retransmit-interval &lt;1-65535&gt;</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-ospf-transmit_002ddelay-316"><code>ip ospf transmit-delay</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-ip-prefix_002dlist-_0040var_007bname_007d-_0028permit_007cdeny_0029-_0040var_007bprefix_007d-_005ble-_0040var_007blen_007d_005d-_005bge-_0040var_007blen_007d_005d-559"><code>ip prefix-list </code><var>name</var><code> (permit|deny) </code><var>prefix</var><code> [le </code><var>len</var><code>] [ge </code><var>len</var><code>]</code></a>: <a href="#IP-Prefix-List">IP Prefix List</a></li>
<li><a href="#index-ip-prefix_002dlist-_0040var_007bname_007d-description-_0040var_007bdesc_007d-562"><code>ip prefix-list </code><var>name</var><code> description </code><var>desc</var></a>: <a href="#ip-prefix_002dlist-description">ip prefix-list description</a></li>
<li><a href="#index-ip-prefix_002dlist-_0040var_007bname_007d-seq-_0040var_007bnumber_007d-_0028permit_007cdeny_0029-_0040var_007bprefix_007d-_005ble-_0040var_007blen_007d_005d-_005bge-_0040var_007blen_007d_005d-560"><code>ip prefix-list </code><var>name</var><code> seq </code><var>number</var><code> (permit|deny) </code><var>prefix</var><code> [le </code><var>len</var><code>] [ge </code><var>len</var><code>]</code></a>: <a href="#IP-Prefix-List">IP Prefix List</a></li>
<li><a href="#index-ip-prefix_002dlist-sequence_002dnumber-564"><code>ip prefix-list sequence-number</code></a>: <a href="#ip-prefix_002dlist-sequential-number-control">ip prefix-list sequential number control</a></li>
<li><a href="#index-ip-protocol-_0040var_007bprotocol_007d-route_002dmap-_0040var_007broutemap_007d-127"><code>ip protocol </code><var>protocol</var><code> route-map </code><var>routemap</var></a>: <a href="#zebra-Route-Filtering">zebra Route Filtering</a></li>
<li><a href="#index-ip-rip-authentication-key_002dchain-_0040var_007bkey_002dchain_007d-204"><code>ip rip authentication key-chain </code><var>key-chain</var></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-ip-rip-authentication-mode-md5-198"><code>ip rip authentication mode md5</code></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-ip-rip-authentication-mode-text-200"><code>ip rip authentication mode text</code></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-ip-rip-authentication-string-_0040var_007bstring_007d-202"><code>ip rip authentication string </code><var>string</var></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-ip-rip-receive-version-_0040var_007bversion_007d-154"><code>ip rip receive version </code><var>version</var></a>: <a href="#RIP-Version-Control">RIP Version Control</a></li>
<li><a href="#index-ip-rip-send-version-_0040var_007bversion_007d-153"><code>ip rip send version </code><var>version</var></a>: <a href="#RIP-Version-Control">RIP Version Control</a></li>
<li><a href="#index-ip-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-121"><code>ip route </code><var>network</var> <var>gateway</var></a>: <a href="#Static-Route-Commands">Static Route Commands</a></li>
<li><a href="#index-ip-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-_0040var_007bdistance_007d-123"><code>ip route </code><var>network</var> <var>gateway</var> <var>distance</var></a>: <a href="#Static-Route-Commands">Static Route Commands</a></li>
<li><a href="#index-ip-route-_0040var_007bnetwork_007d-_0040var_007bnetmask_007d-_0040var_007bgateway_007d-122"><code>ip route </code><var>network</var> <var>netmask</var> <var>gateway</var></a>: <a href="#Static-Route-Commands">Static Route Commands</a></li>
<li><a href="#index-ip-split_002dhorizon-149"><code>ip split-horizon</code></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-ipv6-address-_0040var_007baddress_002fprefix_007d-109"><code>ipv6 address </code><var>address/prefix</var></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-ipv6-nd-adv_002dinterval_002doption-619"><code>ipv6 nd adv-interval-option</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-home_002dagent_002dconfig_002dflag-613"><code>ipv6 nd home-agent-config-flag</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-home_002dagent_002dlifetime-_003c0_002d65520_003e-617"><code>ipv6 nd home-agent-lifetime &lt;0-65520&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-home_002dagent_002dpreference-_003c0_002d65535_003e-615"><code>ipv6 nd home-agent-preference &lt;0-65535&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-managed_002dconfig_002dflag-609"><code>ipv6 nd managed-config-flag</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-mtu-_003c1_002d65535_003e-623"><code>ipv6 nd mtu &lt;1-65535&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-other_002dconfig_002dflag-611"><code>ipv6 nd other-config-flag</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-prefix-_0040var_007bipv6prefix_007d-_005b_0040var_007bvalid_002dlifetime_007d_005d-_005b_0040var_007bpreferred_002dlifetime_007d_005d-_005boff_002dlink_005d-_005bno_002dautoconfig_005d-_005brouter_002daddress_005d-600"><code>ipv6 nd prefix </code><var>ipv6prefix</var><code> [</code><var>valid-lifetime</var><code>] [</code><var>preferred-lifetime</var><code>] [off-link] [no-autoconfig] [router-address]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-ra_002dinterval-_003c1_002d1800_003e-601"><code>ipv6 nd ra-interval &lt;1-1800&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-ra_002dinterval-msec-_003c70_002d1800000_003e-603"><code>ipv6 nd ra-interval msec &lt;70-1800000&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-ra_002dlifetime-_003c0_002d9000_003e-605"><code>ipv6 nd ra-lifetime &lt;0-9000&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-reachable_002dtime-_003c1_002d3600000_003e-607"><code>ipv6 nd reachable-time &lt;1-3600000&gt;</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-router_002dpreference-_0028high_007cmedium_007clow_0029-621"><code>ipv6 nd router-preference (high|medium|low)</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-nd-suppress_002dra-599"><code>ipv6 nd suppress-ra</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-ipv6-ospf6-cost-COST-382"><code>ipv6 ospf6 cost COST</code></a>: <a href="#OSPF6-interface">OSPF6 interface</a></li>
<li><a href="#index-ipv6-ospf6-dead_002dinterval-DEADINTERVAL-384"><code>ipv6 ospf6 dead-interval DEADINTERVAL</code></a>: <a href="#OSPF6-interface">OSPF6 interface</a></li>
<li><a href="#index-ipv6-ospf6-hello_002dinterval-HELLOINTERVAL-383"><code>ipv6 ospf6 hello-interval HELLOINTERVAL</code></a>: <a href="#OSPF6-interface">OSPF6 interface</a></li>
<li><a href="#index-ipv6-ospf6-priority-PRIORITY-386"><code>ipv6 ospf6 priority PRIORITY</code></a>: <a href="#OSPF6-interface">OSPF6 interface</a></li>
<li><a href="#index-ipv6-ospf6-retransmit_002dinterval-RETRANSMITINTERVAL-385"><code>ipv6 ospf6 retransmit-interval RETRANSMITINTERVAL</code></a>: <a href="#OSPF6-interface">OSPF6 interface</a></li>
<li><a href="#index-ipv6-ospf6-transmit_002ddelay-TRANSMITDELAY-387"><code>ipv6 ospf6 transmit-delay TRANSMITDELAY</code></a>: <a href="#OSPF6-interface">OSPF6 interface</a></li>
<li><a href="#index-ipv6-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-124"><code>ipv6 route </code><var>network</var> <var>gateway</var></a>: <a href="#Static-Route-Commands">Static Route Commands</a></li>
<li><a href="#index-ipv6-route-_0040var_007bnetwork_007d-_0040var_007bgateway_007d-_0040var_007bdistance_007d-125"><code>ipv6 route </code><var>network</var> <var>gateway</var> <var>distance</var></a>: <a href="#Static-Route-Commands">Static Route Commands</a></li>
<li><a href="#index-line-vty-65"><code>line vty</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-link_002ddetect-119"><code>link-detect</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-list-77"><code>list</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-log-facility-_0040var_007bfacility_007d-56"><code>log facility </code><var>facility</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-file-_0040var_007bfilename_007d-47"><code>log file </code><var>filename</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-file-_0040var_007bfilename_007d-_0040var_007blevel_007d-48"><code>log file </code><var>filename</var> <var>level</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-monitor-53"><code>log monitor</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-monitor-_0040var_007blevel_007d-54"><code>log monitor </code><var>level</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-record_002dpriority-58"><code>log record-priority</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-stdout-44"><code>log stdout</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-stdout-_0040var_007blevel_007d-45"><code>log stdout </code><var>level</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-syslog-50"><code>log syslog</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-syslog-_0040var_007blevel_007d-51"><code>log syslog </code><var>level</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-timestamp-precision-_0040var_007b_003c0_002d6_003e_007d-60"><code>log timestamp precision </code><var>&lt;0-6&gt;</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log-trap-_0040var_007blevel_007d-42"><code>log trap </code><var>level</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-log_002dadjacency_002dchanges-_005bdetail_005d-235"><code>log-adjacency-changes [detail]</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-logmsg-_0040var_007blevel_007d-_0040var_007bmessage_007d-80"><code>logmsg </code><var>level</var> <var>message</var></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-match-as_002dpath-_0040var_007bword_007d-473"><code>match as-path </code><var>word</var></a>: <a href="#Using-AS-Path-in-Route-Map">Using AS Path in Route Map</a></li>
<li><a href="#index-match-aspath-_0040var_007bas_005fpath_007d-582"><code>match aspath </code><var>as_path</var></a>: <a href="#Route-Map-Match-Command">Route Map Match Command</a></li>
<li><a href="#index-match-community-_0040var_007bcommunity_005flist_007d-584"><code>match community </code><var>community_list</var></a>: <a href="#Route-Map-Match-Command">Route Map Match Command</a></li>
<li><a href="#index-match-community-_0040var_007bword_007d-485"><code>match community </code><var>word</var></a>: <a href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a></li>
<li><a href="#index-match-community-_0040var_007bword_007d-exact_002dmatch-486"><code>match community </code><var>word</var><code> exact-match</code></a>: <a href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a></li>
<li><a href="#index-match-extcommunity-_0040var_007bword_007d-503"><code>match extcommunity </code><var>word</var></a>: <a href="#BGP-Extended-Communities-in-Route-Map">BGP Extended Communities in Route Map</a></li>
<li><a href="#index-match-interface-_0040var_007bword_007d-190"><code>match interface </code><var>word</var></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-match-ip-address-_0040var_007baccess_005flist_007d-580"><code>match ip address </code><var>access_list</var></a>: <a href="#Route-Map-Match-Command">Route Map Match Command</a></li>
<li><a href="#index-match-ip-address-prefix_002dlist-_0040var_007bword_007d-192"><code>match ip address prefix-list </code><var>word</var></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-match-ip-address-_0040var_007bword_007d-191"><code>match ip address </code><var>word</var></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-match-ip-next_002dhop-_0040var_007bipv4_005faddr_007d-581"><code>match ip next-hop </code><var>ipv4_addr</var></a>: <a href="#Route-Map-Match-Command">Route Map Match Command</a></li>
<li><a href="#index-match-ip-next_002dhop-prefix_002dlist-_0040var_007bword_007d-194"><code>match ip next-hop prefix-list </code><var>word</var></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-match-ip-next_002dhop-_0040var_007bword_007d-193"><code>match ip next-hop </code><var>word</var></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-match-metric-_003c0_002d4294967295_003e-195"><code>match metric &lt;0-4294967295&gt;</code></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-match-metric-_0040var_007bmetric_007d-583"><code>match metric </code><var>metric</var></a>: <a href="#Route-Map-Match-Command">Route Map Match Command</a></li>
<li><a href="#index-match-peer-_0040_007bA_002eB_002eC_002eD_007cX_003aX_003a_003aX_003aX_0040_007d-553"><code>match peer {A.B.C.D|X:X::X:X}</code></a>: <a href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a></li>
<li><a href="#index-max_002dmetric-router_002dlsa-_005bon_002dstartup_007con_002dshutdown_005d-_003c5_002d86400_003e-241"><code>max-metric router-lsa [on-startup|on-shutdown] &lt;5-86400&gt;</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-max_002dmetric-router_002dlsa-administrative-242"><code>max-metric router-lsa administrative</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-multicast-115"><code>multicast</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-neigbor-_0040_007bA_002eB_002eC_002eD_007cX_002eX_003a_003aX_002eX_007cpeer_002dgroup_0040_007d-route_002dmap-WORD-_0040_007bimport_007cexport_0040_007d-552"><code>neigbor {A.B.C.D|X.X::X.X|peer-group} route-map WORD {import|export}</code></a>: <a href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a></li>
<li><a href="#index-neighbor-_0040var_007ba_002eb_002ec_002ed_007d-145"><code>neighbor </code><var>a.b.c.d</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-neighbor-_0040var_007bA_002eB_002eC_002eD_007d-route_002dserver_002dclient-550"><code>neighbor </code><var>A.B.C.D</var><code> route-server-client</code></a>: <a href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-default_002doriginate-449"><code>neighbor </code><var>peer</var><code> default-originate</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-description-_002e_002e_002e-440"><code>neighbor </code><var>peer</var><code> description ...</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-distribute_002dlist-_0040var_007bname_007d-_005bin_007cout_005d-463"><code>neighbor </code><var>peer</var><code> distribute-list </code><var>name</var><code> [in|out]</code></a>: <a href="#Peer-filtering">Peer filtering</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-dont_002dcapability_002dnegotiate-529"><code>neighbor </code><var>peer</var><code> dont-capability-negotiate</code></a>: <a href="#Capability-Negotiation">Capability Negotiation</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-ebgp_002dmultihop-438"><code>neighbor </code><var>peer</var><code> ebgp-multihop</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-filter_002dlist-_0040var_007bname_007d-_005bin_007cout_005d-465"><code>neighbor </code><var>peer</var><code> filter-list </code><var>name</var><code> [in|out]</code></a>: <a href="#Peer-filtering">Peer filtering</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-interface-_0040var_007bifname_007d-443"><code>neighbor </code><var>peer</var><code> interface </code><var>ifname</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-local_002das-_0040var_007bas_002dnumber_007d-459"><code>neighbor </code><var>peer</var><code> local-as </code><var>as-number</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-local_002das-_0040var_007bas_002dnumber_007d-no_002dprepend-460"><code>neighbor </code><var>peer</var><code> local-as </code><var>as-number</var><code> no-prepend</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-local_002das-_0040var_007bas_002dnumber_007d-no_002dprepend-replace_002das-461"><code>neighbor </code><var>peer</var><code> local-as </code><var>as-number</var><code> no-prepend replace-as</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-maximum_002dprefix-_0040var_007bnumber_007d-457"><code>neighbor </code><var>peer</var><code> maximum-prefix </code><var>number</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-next_002dhop_002dself-445"><code>neighbor </code><var>peer</var><code> next-hop-self</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-override_002dcapability-531"><code>neighbor </code><var>peer</var><code> override-capability</code></a>: <a href="#Capability-Negotiation">Capability Negotiation</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-peer_002dgroup-_0040var_007bword_007d-468"><code>neighbor </code><var>peer</var><code> peer-group </code><var>word</var></a>: <a href="#BGP-Peer-Group">BGP Peer Group</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-port-_0040var_007bport_007d-451"><code>neighbor </code><var>peer</var><code> port </code><var>port</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-prefix_002dlist-_0040var_007bname_007d-_005bin_007cout_005d-464"><code>neighbor </code><var>peer</var><code> prefix-list </code><var>name</var><code> [in|out]</code></a>: <a href="#Peer-filtering">Peer filtering</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-remote_002das-_0040var_007basn_007d-435"><code>neighbor </code><var>peer</var><code> remote-as </code><var>asn</var></a>: <a href="#Defining-Peer">Defining Peer</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-route_002dmap-_0040var_007bname_007d-_005bin_007cout_005d-466"><code>neighbor </code><var>peer</var><code> route-map </code><var>name</var><code> [in|out]</code></a>: <a href="#Peer-filtering">Peer filtering</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-route_002dreflector_002dclient-534"><code>neighbor </code><var>peer</var><code> route-reflector-client</code></a>: <a href="#Route-Reflector">Route Reflector</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-send_002dcommunity-453"><code>neighbor </code><var>peer</var><code> send-community</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-shutdown-436"><code>neighbor </code><var>peer</var><code> shutdown</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-strict_002dcapability_002dmatch-527"><code>neighbor </code><var>peer</var><code> strict-capability-match</code></a>: <a href="#Capability-Negotiation">Capability Negotiation</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-update_002dsource-_0040var_007b_003cifname_007caddress_003e_007d-447"><code>neighbor </code><var>peer</var><code> update-source </code><var>&lt;ifname|address&gt;</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-version-_0040var_007bversion_007d-442"><code>neighbor </code><var>peer</var><code> version </code><var>version</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_007d-weight-_0040var_007bweight_007d-455"><code>neighbor </code><var>peer</var><code> weight </code><var>weight</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-neighbor-_0040var_007bpeer_002dgroup_007d-route_002dserver_002dclient-549"><code>neighbor </code><var>peer-group</var><code> route-server-client</code></a>: <a href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a></li>
<li><a href="#index-neighbor-_0040var_007bword_007d-peer_002dgroup-467"><code>neighbor </code><var>word</var><code> peer-group</code></a>: <a href="#BGP-Peer-Group">BGP Peer Group</a></li>
<li><a href="#index-neighbor-_0040var_007bX_003aX_003a_003aX_003aX_007d-route_002dserver_002dclient-551"><code>neighbor </code><var>X:X::X:X</var><code> route-server-client</code></a>: <a href="#Commands-for-configuring-a-Route-Server">Commands for configuring a Route Server</a></li>
<li><a href="#index-network-_0040var_007bA_002eB_002eC_002eD_002fM_007d-424"><code>network </code><var>A.B.C.D/M</var></a>: <a href="#BGP-route">BGP route</a></li>
<li><a href="#index-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007b_003c0_002d4294967295_003e_007d-247"><code>network </code><var>a.b.c.d/m</var><code> area </code><var>&lt;0-4294967295&gt;</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007ba_002eb_002ec_002ed_007d-246"><code>network </code><var>a.b.c.d/m</var><code> area </code><var>a.b.c.d</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-network-_0040var_007bifname_007d-399"><code>network </code><var>ifname</var></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-network-_0040var_007bifname_007d-217"><code>network </code><var>ifname</var></a>: <a href="#ripngd-Configuration">ripngd Configuration</a></li>
<li><a href="#index-network-_0040var_007bifname_007d-143"><code>network </code><var>ifname</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-network-_0040var_007bnetwork_007d-216"><code>network </code><var>network</var></a>: <a href="#ripngd-Configuration">ripngd Configuration</a></li>
<li><a href="#index-network-_0040var_007bnetwork_007d-141"><code>network </code><var>network</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-agentx-630"><code>no agentx</code></a>: <a href="#MIB-and-command-reference">MIB and command reference</a></li>
<li><a href="#index-no-aggregate_002daddress-_0040var_007bA_002eB_002eC_002eD_002fM_007d-429"><code>no aggregate-address </code><var>A.B.C.D/M</var></a>: <a href="#Route-Aggregation">Route Aggregation</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-authentication-295"><code>no area &lt;0-4294967295&gt; authentication</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-export_002dlist-NAME-279"><code>no area &lt;0-4294967295&gt; export-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-in-290"><code>no area &lt;0-4294967295&gt; filter-list prefix NAME in</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-filter_002dlist-prefix-NAME-out-291"><code>no area &lt;0-4294967295&gt; filter-list prefix NAME out</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-import_002dlist-NAME-283"><code>no area &lt;0-4294967295&gt; import-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-253"><code>no area &lt;0-4294967295&gt; range </code><var>a.b.c.d/m</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-shortcut-265"><code>no area &lt;0-4294967295&gt; shortcut</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-stub-269"><code>no area &lt;0-4294967295&gt; stub</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-stub-no_002dsummary-273"><code>no area &lt;0-4294967295&gt; stub no-summary</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_003c0_002d4294967295_003e-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-261"><code>no area &lt;0-4294967295&gt; virtual-link </code><var>a.b.c.d</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-authentication-294"><code>no area </code><var>a.b.c.d</var><code> authentication</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-default_002dcost-_003c0_002d16777215_003e-275"><code>no area </code><var>a.b.c.d</var><code> default-cost &lt;0-16777215&gt;</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-export_002dlist-NAME-278"><code>no area </code><var>a.b.c.d</var><code> export-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-in-288"><code>no area </code><var>a.b.c.d</var><code> filter-list prefix NAME in</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-filter_002dlist-prefix-NAME-out-289"><code>no area </code><var>a.b.c.d</var><code> filter-list prefix NAME out</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-import_002dlist-NAME-282"><code>no area </code><var>a.b.c.d</var><code> import-list NAME</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-range-_0040var_007ba_002eb_002ec_002ed_002fm_007d-252"><code>no area </code><var>a.b.c.d</var><code> range </code><var>a.b.c.d/m</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-not_002dadvertise-255"><code>no area </code><var>a.b.c.d</var><code> range IPV4_PREFIX not-advertise</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-range-IPV4_005fPREFIX-substitute-IPV4_005fPREFIX-257"><code>no area </code><var>a.b.c.d</var><code> range IPV4_PREFIX substitute IPV4_PREFIX</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-shortcut-264"><code>no area </code><var>a.b.c.d</var><code> shortcut</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-268"><code>no area </code><var>a.b.c.d</var><code> stub</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-stub-no_002dsummary-272"><code>no area </code><var>a.b.c.d</var><code> stub no-summary</code></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-area-_0040var_007ba_002eb_002ec_002ed_007d-virtual_002dlink-_0040var_007ba_002eb_002ec_002ed_007d-260"><code>no area </code><var>a.b.c.d</var><code> virtual-link </code><var>a.b.c.d</var></a>: <a href="#OSPF-area">OSPF area</a></li>
<li><a href="#index-no-auto_002dcost-reference_002dbandwidth-245"><code>no auto-cost reference-bandwidth</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-babel-split_002dhorizon-404"><code>no babel split-horizon</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-no-bandwidth-_003c1_002d10000000_003e-118"><code>no bandwidth &lt;1-10000000&gt;</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-banner-motd-67"><code>no banner motd</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-bgp-multiple_002dinstance-537"><code>no bgp multiple-instance</code></a>: <a href="#Multiple-instance">Multiple instance</a></li>
<li><a href="#index-no-debug-babel-_0040var_007bkind_007d-415"><code>no debug babel </code><var>kind</var></a>: <a href="#Babel-debugging-commands">Babel debugging commands</a></li>
<li><a href="#index-no-debug-event-524"><code>no debug event</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-no-debug-keepalive-526"><code>no debug keepalive</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-no-debug-ospf-ism-364"><code>no debug ospf ism</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-ism-_0028status_007cevents_007ctimers_0029-365"><code>no debug ospf ism (status|events|timers)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-lsa-372"><code>no debug ospf lsa</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-lsa-_0028generate_007cflooding_007crefresh_0029-373"><code>no debug ospf lsa (generate|flooding|refresh)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-nsm-368"><code>no debug ospf nsm</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-nsm-_0028status_007cevents_007ctimers_0029-369"><code>no debug ospf nsm (status|events|timers)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-packet-_0028hello_007cdd_007cls_002drequest_007cls_002dupdate_007cls_002dack_007call_0029-_0028send_007crecv_0029-_005bdetail_005d-361"><code>no debug ospf packet (hello|dd|ls-request|ls-update|ls-ack|all) (send|recv) [detail]</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-zebra-376"><code>no debug ospf zebra</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-ospf-zebra-_0028interface_007credistribute_0029-377"><code>no debug ospf zebra (interface|redistribute)</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-no-debug-update-525"><code>no debug update</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-no-default_002dinformation-originate-335"><code>no default-information originate</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-no-default_002dmetric-339"><code>no default-metric</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-no-default_002dmetric-_003c1_002d16_003e-181"><code>no default-metric &lt;1-16&gt;</code></a>: <a href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a></li>
<li><a href="#index-no-distance-_003c1_002d255_003e-341"><code>no distance &lt;1-255&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-no-distance-_003c1_002d255_003e-185"><code>no distance &lt;1-255&gt;</code></a>: <a href="#RIP-distance">RIP distance</a></li>
<li><a href="#index-no-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-187"><code>no distance &lt;1-255&gt; </code><var>A.B.C.D/M</var></a>: <a href="#RIP-distance">RIP distance</a></li>
<li><a href="#index-no-distance-_003c1_002d255_003e-_0040var_007bA_002eB_002eC_002eD_002fM_007d-_0040var_007baccess_002dlist_007d-189"><code>no distance &lt;1-255&gt; </code><var>A.B.C.D/M</var> <var>access-list</var></a>: <a href="#RIP-distance">RIP distance</a></li>
<li><a href="#index-no-distance-ospf-343"><code>no distance ospf</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-no-distribute_002dlist-NAME-out-_0028kernel_007cconnected_007cstatic_007crip_007cospf-337"><code>no distribute-list NAME out (kernel|connected|static|rip|ospf</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-no-exec_002dtimeout-70"><code>no exec-timeout</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-ip-address-_0040var_007baddress_002fprefix_007d-110"><code>no ip address </code><var>address/prefix</var></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-ip-address-_0040var_007baddress_002fprefix_007d-secondary-113"><code>no ip address </code><var>address/prefix</var><code> secondary</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-ip-as_002dpath-access_002dlist-_0040var_007bword_007d-471"><code>no ip as-path access-list </code><var>word</var></a>: <a href="#AS-Path-Access-List">AS Path Access List</a></li>
<li><a href="#index-no-ip-as_002dpath-access_002dlist-_0040var_007bword_007d-_0040_007bpermit_007cdeny_0040_007d-_0040var_007bline_007d-472"><code>no ip as-path access-list </code><var>word</var><code> {permit|deny} </code><var>line</var></a>: <a href="#AS-Path-Access-List">AS Path Access List</a></li>
<li><a href="#index-no-ip-community_002dlist-expanded-_0040var_007bname_007d-479"><code>no ip community-list expanded </code><var>name</var></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-no-ip-community_002dlist-_0040var_007bname_007d-477"><code>no ip community-list </code><var>name</var></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-no-ip-community_002dlist-standard-_0040var_007bname_007d-478"><code>no ip community-list standard </code><var>name</var></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-no-ip-extcommunity_002dlist-expanded-_0040var_007bname_007d-500"><code>no ip extcommunity-list expanded </code><var>name</var></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-no-ip-extcommunity_002dlist-_0040var_007bname_007d-498"><code>no ip extcommunity-list </code><var>name</var></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-no-ip-extcommunity_002dlist-standard-_0040var_007bname_007d-499"><code>no ip extcommunity-list standard </code><var>name</var></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-no-ip-ospf-authentication_002dkey-299"><code>no ip ospf authentication-key</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-cost-304"><code>no ip ospf cost</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-dead_002dinterval-307"><code>no ip ospf dead-interval</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-hello_002dinterval-309"><code>no ip ospf hello-interval</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-message_002ddigest_002dkey-302"><code>no ip ospf message-digest-key</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-network-311"><code>no ip ospf network</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-priority-313"><code>no ip ospf priority</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-retransmit-interval-315"><code>no ip ospf retransmit interval</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-ospf-transmit_002ddelay-317"><code>no ip ospf transmit-delay</code></a>: <a href="#OSPF-interface">OSPF interface</a></li>
<li><a href="#index-no-ip-prefix_002dlist-_0040var_007bname_007d-561"><code>no ip prefix-list </code><var>name</var></a>: <a href="#IP-Prefix-List">IP Prefix List</a></li>
<li><a href="#index-no-ip-prefix_002dlist-_0040var_007bname_007d-description-_005b_0040var_007bdesc_007d_005d-563"><code>no ip prefix-list </code><var>name</var><code> description [</code><var>desc</var><code>]</code></a>: <a href="#ip-prefix_002dlist-description">ip prefix-list description</a></li>
<li><a href="#index-no-ip-prefix_002dlist-sequence_002dnumber-565"><code>no ip prefix-list sequence-number</code></a>: <a href="#ip-prefix_002dlist-sequential-number-control">ip prefix-list sequential number control</a></li>
<li><a href="#index-no-ip-rip-authentication-key_002dchain-_0040var_007bkey_002dchain_007d-205"><code>no ip rip authentication key-chain </code><var>key-chain</var></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-no-ip-rip-authentication-mode-md5-199"><code>no ip rip authentication mode md5</code></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-no-ip-rip-authentication-mode-text-201"><code>no ip rip authentication mode text</code></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-no-ip-rip-authentication-string-_0040var_007bstring_007d-203"><code>no ip rip authentication string </code><var>string</var></a>: <a href="#RIP-Authentication">RIP Authentication</a></li>
<li><a href="#index-no-ip-split_002dhorizon-150"><code>no ip split-horizon</code></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-ipv6-address-_0040var_007baddress_002fprefix_007d-111"><code>no ipv6 address </code><var>address/prefix</var></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-ipv6-nd-adv_002dinterval_002doption-620"><code>no ipv6 nd adv-interval-option</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-home_002dagent_002dconfig_002dflag-614"><code>no ipv6 nd home-agent-config-flag</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-home_002dagent_002dlifetime-_005b_003c0_002d65520_003e_005d-618"><code>no ipv6 nd home-agent-lifetime [&lt;0-65520&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-home_002dagent_002dpreference-_005b_003c0_002d65535_003e_005d-616"><code>no ipv6 nd home-agent-preference [&lt;0-65535&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-managed_002dconfig_002dflag-610"><code>no ipv6 nd managed-config-flag</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-mtu-_005b_003c1_002d65535_003e_005d-624"><code>no ipv6 nd mtu [&lt;1-65535&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-other_002dconfig_002dflag-612"><code>no ipv6 nd other-config-flag</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-ra_002dinterval-_005b_003c1_002d1800_003e_005d-602"><code>no ipv6 nd ra-interval [&lt;1-1800&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-ra_002dinterval-_005bmsec-_003c70_002d1800000_003e_005d-604"><code>no ipv6 nd ra-interval [msec &lt;70-1800000&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-ra_002dlifetime-_005b_003c0_002d9000_003e_005d-606"><code>no ipv6 nd ra-lifetime [&lt;0-9000&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-reachable_002dtime-_005b_003c1_002d3600000_003e_005d-608"><code>no ipv6 nd reachable-time [&lt;1-3600000&gt;]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-router_002dpreference-_005b_0028high_007cmedium_007clow_0029_005d-622"><code>no ipv6 nd router-preference [(high|medium|low)]</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-ipv6-nd-suppress_002dra-598"><code>no ipv6 nd suppress-ra</code></a>: <a href="#Router-Advertisement">Router Advertisement</a></li>
<li><a href="#index-no-link_002ddetect-120"><code>no link-detect</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-log-facility-57"><code>no log facility</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-file-49"><code>no log file</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-monitor-55"><code>no log monitor</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-record_002dpriority-59"><code>no log record-priority</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-stdout-46"><code>no log stdout</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-syslog-52"><code>no log syslog</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-timestamp-precision-61"><code>no log timestamp precision</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log-trap-43"><code>no log trap</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-no-log_002dadjacency_002dchanges-_005bdetail_005d-236"><code>no log-adjacency-changes [detail]</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-max_002dmetric-router_002dlsa-_005bon_002dstartup_007con_002dshutdown_007cadministrative_005d-243"><code>no max-metric router-lsa [on-startup|on-shutdown|administrative]</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-multicast-116"><code>no multicast</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007ba_002eb_002ec_002ed_007d-146"><code>no neighbor </code><var>a.b.c.d</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-default_002doriginate-450"><code>no neighbor </code><var>peer</var><code> default-originate</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-description-_002e_002e_002e-441"><code>no neighbor </code><var>peer</var><code> description ...</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-dont_002dcapability_002dnegotiate-530"><code>no neighbor </code><var>peer</var><code> dont-capability-negotiate</code></a>: <a href="#Capability-Negotiation">Capability Negotiation</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-ebgp_002dmultihop-439"><code>no neighbor </code><var>peer</var><code> ebgp-multihop</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-interface-_0040var_007bifname_007d-444"><code>no neighbor </code><var>peer</var><code> interface </code><var>ifname</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-local_002das-462"><code>no neighbor </code><var>peer</var><code> local-as</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-maximum_002dprefix-_0040var_007bnumber_007d-458"><code>no neighbor </code><var>peer</var><code> maximum-prefix </code><var>number</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-next_002dhop_002dself-446"><code>no neighbor </code><var>peer</var><code> next-hop-self</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-override_002dcapability-532"><code>no neighbor </code><var>peer</var><code> override-capability</code></a>: <a href="#Capability-Negotiation">Capability Negotiation</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-route_002dreflector_002dclient-535"><code>no neighbor </code><var>peer</var><code> route-reflector-client</code></a>: <a href="#Route-Reflector">Route Reflector</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-shutdown-437"><code>no neighbor </code><var>peer</var><code> shutdown</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-strict_002dcapability_002dmatch-528"><code>no neighbor </code><var>peer</var><code> strict-capability-match</code></a>: <a href="#Capability-Negotiation">Capability Negotiation</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-update_002dsource-448"><code>no neighbor </code><var>peer</var><code> update-source</code></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-neighbor-_0040var_007bpeer_007d-weight-_0040var_007bweight_007d-456"><code>no neighbor </code><var>peer</var><code> weight </code><var>weight</var></a>: <a href="#BGP-Peer-commands">BGP Peer commands</a></li>
<li><a href="#index-no-network-_0040var_007bA_002eB_002eC_002eD_002fM_007d-425"><code>no network </code><var>A.B.C.D/M</var></a>: <a href="#BGP-route">BGP route</a></li>
<li><a href="#index-no-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007b_003c0_002d4294967295_003e_007d-249"><code>no network </code><var>a.b.c.d/m</var><code> area </code><var>&lt;0-4294967295&gt;</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-network-_0040var_007ba_002eb_002ec_002ed_002fm_007d-area-_0040var_007ba_002eb_002ec_002ed_007d-248"><code>no network </code><var>a.b.c.d/m</var><code> area </code><var>a.b.c.d</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-network-_0040var_007bifname_007d-400"><code>no network </code><var>ifname</var></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-no-network-_0040var_007bifname_007d-144"><code>no network </code><var>ifname</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-network-_0040var_007bnetwork_007d-142"><code>no network </code><var>network</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-ospf-abr_002dtype-_0040var_007btype_007d-232"><code>no ospf abr-type </code><var>type</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-ospf-rfc1583compatibility-234"><code>no ospf rfc1583compatibility</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-ospf-router_002did-230"><code>no ospf router-id</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-passive_002dinterface-_0040var_007bIFNAME_007d-148"><code>no passive-interface </code><var>IFNAME</var></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-passive_002dinterface-_0040var_007binterface_007d-238"><code>no passive-interface </code><var>interface</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-326"><code>no redistribute (kernel|connected|static|rip|bgp)</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-no-redistribute-bgp-174"><code>no redistribute bgp</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-no-redistribute-connected-166"><code>no redistribute connected</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-no-redistribute-kernel-158"><code>no redistribute kernel</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-no-redistribute-_0040var_007bkind_007d-409"><code>no redistribute </code><var>kind</var></a>: <a href="#Babel-redistribution">Babel redistribution</a></li>
<li><a href="#index-no-redistribute-ospf-170"><code>no redistribute ospf</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-no-redistribute-static-162"><code>no redistribute static</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-no-route-_0040var_007ba_002eb_002ec_002ed_002fm_007d-177"><code>no route </code><var>a.b.c.d/m</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-no-router-babel-398"><code>no router babel</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-no-router-bgp-_0040var_007basn_007d-417"><code>no router bgp </code><var>asn</var></a>: <a href="#BGP-router">BGP router</a></li>
<li><a href="#index-no-router-ospf-228"><code>no router ospf</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-router-rip-140"><code>no router rip</code></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-no-shutdown-107"><code>no shutdown</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-no-smux-peer-_0040var_007boid_007d-626"><code>no smux peer </code><var>oid</var></a>: <a href="#MIB-and-command-reference">MIB and command reference</a></li>
<li><a href="#index-no-smux-peer-_0040var_007boid_007d-_0040var_007bpassword_007d-628"><code>no smux peer </code><var>oid</var> <var>password</var></a>: <a href="#MIB-and-command-reference">MIB and command reference</a></li>
<li><a href="#index-no-timers-basic-207"><code>no timers basic</code></a>: <a href="#RIP-Timers">RIP Timers</a></li>
<li><a href="#index-no-timers-throttle-spf-240"><code>no timers throttle spf</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-no-version-152"><code>no version</code></a>: <a href="#RIP-Version-Control">RIP Version Control</a></li>
<li><a href="#index-offset_002dlist-_0040var_007baccess_002dlist_007d-_0028in_007cout_0029-182"><code>offset-list </code><var>access-list</var><code> (in|out)</code></a>: <a href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a></li>
<li><a href="#index-offset_002dlist-_0040var_007baccess_002dlist_007d-_0028in_007cout_0029-_0040var_007bifname_007d-183"><code>offset-list </code><var>access-list</var><code> (in|out) </code><var>ifname</var></a>: <a href="#RIP-Metric-Manipulation">RIP Metric Manipulation</a></li>
<li><a href="#index-on_002dmatch-goto-_0040var_007bN_007d-596"><code>on-match goto </code><var>N</var></a>: <a href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a></li>
<li><a href="#index-on_002dmatch-next-594"><code>on-match next</code></a>: <a href="#Route-Map-Exit-Action-Command">Route Map Exit Action Command</a></li>
<li><a href="#index-ospf-abr_002dtype-_0040var_007btype_007d-231"><code>ospf abr-type </code><var>type</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-ospf-rfc1583compatibility-233"><code>ospf rfc1583compatibility</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-ospf-router_002did-_0040var_007ba_002eb_002ec_002ed_007d-229"><code>ospf router-id </code><var>a.b.c.d</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-passive_002dinterface-_0028_0040var_007bIFNAME_007d_007cdefault_0029-147"><code>passive-interface (</code><var>IFNAME</var><code>|default)</code></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-passive_002dinterface-_0040var_007binterface_007d-237"><code>passive-interface </code><var>interface</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-password-_0040var_007bpassword_007d-40"><code>password </code><var>password</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-318"><code>redistribute (kernel|connected|static|rip|bgp)</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric-_003c0_002d16777214_003e-322"><code>redistribute (kernel|connected|static|rip|bgp) metric &lt;0-16777214&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric-_003c0_002d16777214_003e-route_002dmap-_0040var_007bword_007d-323"><code>redistribute (kernel|connected|static|rip|bgp) metric &lt;0-16777214&gt; route-map </code><var>word</var></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-320"><code>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2)</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-metric-_003c0_002d16777214_003e-324"><code>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2) metric &lt;0-16777214&gt;</code></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-metric-_003c0_002d16777214_003e-route_002dmap-_0040var_007bword_007d-325"><code>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2) metric &lt;0-16777214&gt; route-map </code><var>word</var></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-metric_002dtype-_00281_007c2_0029-route_002dmap-_0040var_007bword_007d-321"><code>redistribute (kernel|connected|static|rip|bgp) metric-type (1|2) route-map </code><var>word</var></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-_0028kernel_007cconnected_007cstatic_007crip_007cbgp_0029-_0040var_007broute_002dmap_007d-319"><code>redistribute (kernel|connected|static|rip|bgp) </code><var>route-map</var></a>: <a href="#Redistribute-routes-to-OSPF">Redistribute routes to OSPF</a></li>
<li><a href="#index-redistribute-bgp-171"><code>redistribute bgp</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-bgp-metric-_003c0_002d16_003e-172"><code>redistribute bgp metric &lt;0-16&gt;</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-bgp-route_002dmap-_0040var_007broute_002dmap_007d-173"><code>redistribute bgp route-map </code><var>route-map</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-connected-432"><code>redistribute connected</code></a>: <a href="#Redistribute-to-BGP">Redistribute to BGP</a></li>
<li><a href="#index-redistribute-connected-389"><code>redistribute connected</code></a>: <a href="#Redistribute-routes-to-OSPF6">Redistribute routes to OSPF6</a></li>
<li><a href="#index-redistribute-connected-163"><code>redistribute connected</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-connected-metric-_003c0_002d16_003e-164"><code>redistribute connected metric &lt;0-16&gt;</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-connected-route_002dmap-_0040var_007broute_002dmap_007d-165"><code>redistribute connected route-map </code><var>route-map</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-kernel-430"><code>redistribute kernel</code></a>: <a href="#Redistribute-to-BGP">Redistribute to BGP</a></li>
<li><a href="#index-redistribute-kernel-155"><code>redistribute kernel</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-kernel-metric-_003c0_002d16_003e-156"><code>redistribute kernel metric &lt;0-16&gt;</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-kernel-route_002dmap-_0040var_007broute_002dmap_007d-157"><code>redistribute kernel route-map </code><var>route-map</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-_0040var_007bkind_007d-408"><code>redistribute </code><var>kind</var></a>: <a href="#Babel-redistribution">Babel redistribution</a></li>
<li><a href="#index-redistribute-ospf-434"><code>redistribute ospf</code></a>: <a href="#Redistribute-to-BGP">Redistribute to BGP</a></li>
<li><a href="#index-redistribute-ospf-167"><code>redistribute ospf</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-ospf-metric-_003c0_002d16_003e-168"><code>redistribute ospf metric &lt;0-16&gt;</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-ospf-route_002dmap-_0040var_007broute_002dmap_007d-169"><code>redistribute ospf route-map </code><var>route-map</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-rip-433"><code>redistribute rip</code></a>: <a href="#Redistribute-to-BGP">Redistribute to BGP</a></li>
<li><a href="#index-redistribute-ripng-390"><code>redistribute ripng</code></a>: <a href="#Redistribute-routes-to-OSPF6">Redistribute routes to OSPF6</a></li>
<li><a href="#index-redistribute-static-431"><code>redistribute static</code></a>: <a href="#Redistribute-to-BGP">Redistribute to BGP</a></li>
<li><a href="#index-redistribute-static-388"><code>redistribute static</code></a>: <a href="#Redistribute-routes-to-OSPF6">Redistribute routes to OSPF6</a></li>
<li><a href="#index-redistribute-static-159"><code>redistribute static</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-static-metric-_003c0_002d16_003e-160"><code>redistribute static metric &lt;0-16&gt;</code></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-redistribute-static-route_002dmap-_0040var_007broute_002dmap_007d-161"><code>redistribute static route-map </code><var>route-map</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-route-_0040var_007ba_002eb_002ec_002ed_002fm_007d-176"><code>route </code><var>a.b.c.d/m</var></a>: <a href="#How-to-Announce-RIP-route">How to Announce RIP route</a></li>
<li><a href="#index-route-_0040var_007bnetwork_007d-218"><code>route </code><var>network</var></a>: <a href="#ripngd-Configuration">ripngd Configuration</a></li>
<li><a href="#index-route_002dmap-_0040var_007broute_002dmap_002dname_007d-_0028permit_007cdeny_0029-_0040var_007border_007d-579"><code>route-map </code><var>route-map-name</var><code> (permit|deny) </code><var>order</var></a>: <a href="#Route-Map-Command">Route Map Command</a></li>
<li><a href="#index-router-babel-397"><code>router babel</code></a>: <a href="#Babel-configuration">Babel configuration</a></li>
<li><a href="#index-router-bgp-_0040var_007bas_002dnumber_007d-540"><code>router bgp </code><var>as-number</var></a>: <a href="#BGP-instance-and-view">BGP instance and view</a></li>
<li><a href="#index-router-bgp-_0040var_007bas_002dnumber_007d-view-_0040var_007bname_007d-541"><code>router bgp </code><var>as-number</var><code> view </code><var>name</var></a>: <a href="#BGP-instance-and-view">BGP instance and view</a></li>
<li><a href="#index-router-bgp-_0040var_007basn_007d-416"><code>router bgp </code><var>asn</var></a>: <a href="#BGP-router">BGP router</a></li>
<li><a href="#index-router-ospf-227"><code>router ospf</code></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-router-ospf6-379"><code>router ospf6</code></a>: <a href="#OSPF6-router">OSPF6 router</a></li>
<li><a href="#index-router-rip-139"><code>router rip</code></a>: <a href="#RIP-Configuration">RIP Configuration</a></li>
<li><a href="#index-router-ripng-214"><code>router ripng</code></a>: <a href="#ripngd-Configuration">ripngd Configuration</a></li>
<li><a href="#index-router-zebra-219"><code>router zebra</code></a>: <a href="#ripngd-Configuration">ripngd Configuration</a></li>
<li><a href="#index-router_002did-_0040var_007ba_002eb_002ec_002ed_007d-380"><code>router-id </code><var>a.b.c.d</var></a>: <a href="#OSPF6-router">OSPF6 router</a></li>
<li><a href="#index-service-advanced_002dvty-63"><code>service advanced-vty</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-service-integrated_002dvtysh_002dconfig-556"><code>service integrated-vtysh-config</code></a>: <a href="#VTY-shell-integrated-configuration">VTY shell integrated configuration</a></li>
<li><a href="#index-service-password_002dencryption-62"><code>service password-encryption</code></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-service-terminal_002dlength-_0040var_007b_003c0_002d512_003e_007d-64"><code>service terminal-length </code><var>&lt;0-512&gt;</var></a>: <a href="#Basic-Config-Commands">Basic Config Commands</a></li>
<li><a href="#index-set-as_002dpath-prepend-_0040var_007bas_002dpath_007d-474"><code>set as-path prepend </code><var>as-path</var></a>: <a href="#Using-AS-Path-in-Route-Map">Using AS Path in Route Map</a></li>
<li><a href="#index-set-as_002dpath-prepend-_0040var_007bas_005fpath_007d-589"><code>set as-path prepend </code><var>as_path</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-comm_002dlist-_0040var_007bword_007d-delete-490"><code>set comm-list </code><var>word</var><code> delete</code></a>: <a href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a></li>
<li><a href="#index-set-community-_0040var_007bcommunity_007d-590"><code>set community </code><var>community</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-community-_0040var_007bcommunity_007d-488"><code>set community </code><var>community</var></a>: <a href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a></li>
<li><a href="#index-set-community-_0040var_007bcommunity_007d-additive-489"><code>set community </code><var>community</var><code> additive</code></a>: <a href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a></li>
<li><a href="#index-set-community-none-487"><code>set community none</code></a>: <a href="#BGP-Community-in-Route-Map">BGP Community in Route Map</a></li>
<li><a href="#index-set-extcommunity-rt-_0040var_007bextcommunity_007d-504"><code>set extcommunity rt </code><var>extcommunity</var></a>: <a href="#BGP-Extended-Communities-in-Route-Map">BGP Extended Communities in Route Map</a></li>
<li><a href="#index-set-extcommunity-soo-_0040var_007bextcommunity_007d-505"><code>set extcommunity soo </code><var>extcommunity</var></a>: <a href="#BGP-Extended-Communities-in-Route-Map">BGP Extended Communities in Route Map</a></li>
<li><a href="#index-set-ip-next_002dhop-A_002eB_002eC_002eD-196"><code>set ip next-hop A.B.C.D</code></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-set-ip-next_002dhop-_0040var_007bipv4_005faddress_007d-585"><code>set ip next-hop </code><var>ipv4_address</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-ipv6-next_002dhop-global-_0040var_007bipv6_005faddress_007d-591"><code>set ipv6 next-hop global </code><var>ipv6_address</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-ipv6-next_002dhop-local-_0040var_007bipv6_005faddress_007d-592"><code>set ipv6 next-hop local </code><var>ipv6_address</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-local_002dpreference-_0040var_007blocal_005fpref_007d-586"><code>set local-preference </code><var>local_pref</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-metric-_003c0_002d4294967295_003e-197"><code>set metric &lt;0-4294967295&gt;</code></a>: <a href="#RIP-route_002dmap">RIP route-map</a></li>
<li><a href="#index-set-metric-_0040var_007bmetric_007d-588"><code>set metric </code><var>metric</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-set-src-_0040var_007baddress_007d-128"><code>set src </code><var>address</var></a>: <a href="#zebra-Route-Filtering">zebra Route Filtering</a></li>
<li><a href="#index-set-weight-_0040var_007bweight_007d-587"><code>set weight </code><var>weight</var></a>: <a href="#Route-Map-Set-Command">Route Map Set Command</a></li>
<li><a href="#index-show-babel-database-410"><code>show babel database</code></a>: <a href="#Show-Babel-information">Show Babel information</a></li>
<li><a href="#index-show-babel-interface-411"><code>show babel interface</code></a>: <a href="#Show-Babel-information">Show Babel information</a></li>
<li><a href="#index-show-babel-neighbour-412"><code>show babel neighbour</code></a>: <a href="#Show-Babel-information">Show Babel information</a></li>
<li><a href="#index-show-babel-parameters-413"><code>show babel parameters</code></a>: <a href="#Show-Babel-information">Show Babel information</a></li>
<li><a href="#index-show-debug-520"><code>show debug</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-debugging-ospf-378"><code>show debugging ospf</code></a>: <a href="#Debugging-OSPF">Debugging OSPF</a></li>
<li><a href="#index-show-debugging-rip-213"><code>show debugging rip</code></a>: <a href="#RIP-Debug-Commands">RIP Debug Commands</a></li>
<li><a href="#index-show-debugging-ripng-221"><code>show debugging ripng</code></a>: <a href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a></li>
<li><a href="#index-show-interface-131"><code>show interface</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-ip-bgp-506"><code>show ip bgp</code></a>: <a href="#Show-IP-BGP">Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-_0040var_007bA_002eB_002eC_002eD_007d-507"><code>show ip bgp </code><var>A.B.C.D</var></a>: <a href="#Show-IP-BGP">Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-community-491"><code>show ip bgp community</code></a>: <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a></li>
<li><a href="#index-show-ip-bgp-community-_0040var_007bcommunity_007d-510"><code>show ip bgp community </code><var>community</var></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-community-_0040var_007bcommunity_007d-492"><code>show ip bgp community </code><var>community</var></a>: <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a></li>
<li><a href="#index-show-ip-bgp-community-_0040var_007bcommunity_007d-exact_002dmatch-511"><code>show ip bgp community </code><var>community</var><code> exact-match</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-community-_0040var_007bcommunity_007d-exact_002dmatch-493"><code>show ip bgp community </code><var>community</var><code> exact-match</code></a>: <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a></li>
<li><a href="#index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-512"><code>show ip bgp community-list </code><var>word</var></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-494"><code>show ip bgp community-list </code><var>word</var></a>: <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a></li>
<li><a href="#index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-exact_002dmatch-513"><code>show ip bgp community-list </code><var>word</var><code> exact-match</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-community_002dlist-_0040var_007bword_007d-exact_002dmatch-495"><code>show ip bgp community-list </code><var>word</var><code> exact-match</code></a>: <a href="#Display-BGP-Routes-by-Community">Display BGP Routes by Community</a></li>
<li><a href="#index-show-ip-bgp-dampened_002dpaths-518"><code>show ip bgp dampened-paths</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-flap_002dstatistics-519"><code>show ip bgp flap-statistics</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-neighbor-_005b_0040var_007bpeer_007d_005d-515"><code>show ip bgp neighbor [</code><var>peer</var><code>]</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-regexp-_0040var_007bline_007d-509"><code>show ip bgp regexp </code><var>line</var></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-regexp-_0040var_007bline_007d-469"><code>show ip bgp regexp </code><var>line</var></a>: <a href="#Display-BGP-Routes-by-AS-Path">Display BGP Routes by AS Path</a></li>
<li><a href="#index-show-ip-bgp-summary-514"><code>show ip bgp summary</code></a>: <a href="#More-Show-IP-BGP">More Show IP BGP</a></li>
<li><a href="#index-show-ip-bgp-view-_0040var_007bname_007d-542"><code>show ip bgp view </code><var>name</var></a>: <a href="#Viewing-the-view">Viewing the view</a></li>
<li><a href="#index-show-ip-bgp-_0040var_007bX_003aX_003a_003aX_003aX_007d-508"><code>show ip bgp </code><var>X:X::X:X</var></a>: <a href="#Show-IP-BGP">Show IP BGP</a></li>
<li><a href="#index-show-ip-community_002dlist-480"><code>show ip community-list</code></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-show-ip-community_002dlist-_0040var_007bname_007d-481"><code>show ip community-list </code><var>name</var></a>: <a href="#BGP-Community-Lists">BGP Community Lists</a></li>
<li><a href="#index-show-ip-extcommunity_002dlist-501"><code>show ip extcommunity-list</code></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-show-ip-extcommunity_002dlist-_0040var_007bname_007d-502"><code>show ip extcommunity-list </code><var>name</var></a>: <a href="#BGP-Extended-Community-Lists">BGP Extended Community Lists</a></li>
<li><a href="#index-show-ip-ospf-344"><code>show ip ospf</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-350"><code>show ip ospf database</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-351"><code>show ip ospf database (asbr-summary|external|network|router|summary)</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-adv_002drouter-_0040var_007badv_002drouter_007d-354"><code>show ip ospf database (asbr-summary|external|network|router|summary) adv-router </code><var>adv-router</var></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-_0040var_007blink_002dstate_002did_007d-352"><code>show ip ospf database (asbr-summary|external|network|router|summary) </code><var>link-state-id</var></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-_0040var_007blink_002dstate_002did_007d-adv_002drouter-_0040var_007badv_002drouter_007d-353"><code>show ip ospf database (asbr-summary|external|network|router|summary) </code><var>link-state-id</var><code> adv-router </code><var>adv-router</var></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-_0040var_007blink_002dstate_002did_007d-self_002doriginate-355"><code>show ip ospf database (asbr-summary|external|network|router|summary) </code><var>link-state-id</var><code> self-originate</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-_0028asbr_002dsummary_007cexternal_007cnetwork_007crouter_007csummary_0029-self_002doriginate-356"><code>show ip ospf database (asbr-summary|external|network|router|summary) self-originate</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-max_002dage-357"><code>show ip ospf database max-age</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-database-self_002doriginate-358"><code>show ip ospf database self-originate</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-interface-_005bINTERFACE_005d-345"><code>show ip ospf interface [INTERFACE]</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-neighbor-346"><code>show ip ospf neighbor</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-neighbor-detail-348"><code>show ip ospf neighbor detail</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-neighbor-INTERFACE-347"><code>show ip ospf neighbor INTERFACE</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-neighbor-INTERFACE-detail-349"><code>show ip ospf neighbor INTERFACE detail</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-ospf-route-359"><code>show ip ospf route</code></a>: <a href="#Showing-OSPF-information">Showing OSPF information</a></li>
<li><a href="#index-show-ip-prefix_002dlist-566"><code>show ip prefix-list</code></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-_005b_0040var_007bname_007d_005d-132"><code>show ip prefix-list [</code><var>name</var><code>]</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-ip-prefix_002dlist-detail-574"><code>show ip prefix-list detail</code></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-detail-_0040var_007bname_007d-575"><code>show ip prefix-list detail </code><var>name</var></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-_0040var_007bname_007d-567"><code>show ip prefix-list </code><var>name</var></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-569"><code>show ip prefix-list </code><var>name</var> <var>a.b.c.d/m</var></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-first_002dmatch-571"><code>show ip prefix-list </code><var>name</var> <var>a.b.c.d/m</var><code> first-match</code></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-_0040var_007bname_007d-_0040var_007ba_002eb_002ec_002ed_002fm_007d-longer-570"><code>show ip prefix-list </code><var>name</var> <var>a.b.c.d/m</var><code> longer</code></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-_0040var_007bname_007d-seq-_0040var_007bnum_007d-568"><code>show ip prefix-list </code><var>name</var><code> seq </code><var>num</var></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-summary-572"><code>show ip prefix-list summary</code></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-prefix_002dlist-summary-_0040var_007bname_007d-573"><code>show ip prefix-list summary </code><var>name</var></a>: <a href="#Showing-ip-prefix_002dlist">Showing ip prefix-list</a></li>
<li><a href="#index-show-ip-protocol-134"><code>show ip protocol</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-ip-protocols-209"><code>show ip protocols</code></a>: <a href="#Show-RIP-Information">Show RIP Information</a></li>
<li><a href="#index-show-ip-rip-208"><code>show ip rip</code></a>: <a href="#Show-RIP-Information">Show RIP Information</a></li>
<li><a href="#index-show-ip-ripng-220"><code>show ip ripng</code></a>: <a href="#ripngd-Terminal-Mode-Commands">ripngd Terminal Mode Commands</a></li>
<li><a href="#index-show-ip-route-129"><code>show ip route</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-ipforward-135"><code>show ipforward</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-ipv6-ospf6-_005bINSTANCE_005fID_005d-391"><code>show ipv6 ospf6 [INSTANCE_ID]</code></a>: <a href="#Showing-OSPF6-information">Showing OSPF6 information</a></li>
<li><a href="#index-show-ipv6-ospf6-database-392"><code>show ipv6 ospf6 database</code></a>: <a href="#Showing-OSPF6-information">Showing OSPF6 information</a></li>
<li><a href="#index-show-ipv6-ospf6-interface-393"><code>show ipv6 ospf6 interface</code></a>: <a href="#Showing-OSPF6-information">Showing OSPF6 information</a></li>
<li><a href="#index-show-ipv6-ospf6-neighbor-394"><code>show ipv6 ospf6 neighbor</code></a>: <a href="#Showing-OSPF6-information">Showing OSPF6 information</a></li>
<li><a href="#index-show-ipv6-ospf6-request_002dlist-A_002eB_002eC_002eD-395"><code>show ipv6 ospf6 request-list A.B.C.D</code></a>: <a href="#Showing-OSPF6-information">Showing OSPF6 information</a></li>
<li><a href="#index-show-ipv6-route-130"><code>show ipv6 route</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-ipv6-route-ospf6-396"><code>show ipv6 route ospf6</code></a>: <a href="#Showing-OSPF6-information">Showing OSPF6 information</a></li>
<li><a href="#index-show-ipv6forward-136"><code>show ipv6forward</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-logging-79"><code>show logging</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-show-route_002dmap-_005b_0040var_007bname_007d_005d-133"><code>show route-map [</code><var>name</var><code>]</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-show-version-78"><code>show version</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-show-zebra-fpm-stats-137"><code>show zebra fpm stats</code></a>: <a href="#zebra-Terminal-Mode-Commands">zebra Terminal Mode Commands</a></li>
<li><a href="#index-shutdown-106"><code>shutdown</code></a>: <a href="#Interface-Commands">Interface Commands</a></li>
<li><a href="#index-smux-peer-_0040var_007boid_007d-625"><code>smux peer </code><var>oid</var></a>: <a href="#MIB-and-command-reference">MIB and command reference</a></li>
<li><a href="#index-smux-peer-_0040var_007boid_007d-_0040var_007bpassword_007d-627"><code>smux peer </code><var>oid</var> <var>password</var></a>: <a href="#MIB-and-command-reference">MIB and command reference</a></li>
<li><a href="#index-table-_0040var_007btableno_007d-126"><code>table </code><var>tableno</var></a>: <a href="#Static-Route-Commands">Static Route Commands</a></li>
<li><a href="#index-terminal-length-_0040var_007b_003c0_002d512_003e_007d-75"><code>terminal length </code><var>&lt;0-512&gt;</var></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-timers-basic-_0040var_007bupdate_007d-_0040var_007btimeout_007d-_0040var_007bgarbage_007d-206"><code>timers basic </code><var>update</var> <var>timeout</var> <var>garbage</var></a>: <a href="#RIP-Timers">RIP Timers</a></li>
<li><a href="#index-timers-throttle-spf-_0040var_007bdelay_007d-_0040var_007binitial_002dholdtime_007d-_0040var_007bmax_002dholdtime_007d-239"><code>timers throttle spf </code><var>delay</var> <var>initial-holdtime</var> <var>max-holdtime</var></a>: <a href="#OSPF-router">OSPF router</a></li>
<li><a href="#index-username-_0040var_007busername_007d-nopassword-555"><code>username </code><var>username</var><code> nopassword</code></a>: <a href="#VTY-shell-username">VTY shell username</a></li>
<li><a href="#index-version-_0040var_007bversion_007d-151"><code>version </code><var>version</var></a>: <a href="#RIP-Version-Control">RIP Version Control</a></li>
<li><a href="#index-who-76"><code>who</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-write-file-73"><code>write file</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
<li><a href="#index-write-terminal-72"><code>write terminal</code></a>: <a href="#Terminal-Mode-Commands">Terminal Mode Commands</a></li>
   </ul><div class="node">
<a name="VTY-Key-Index"></a>
<p><hr>
Next:&nbsp;<a rel="next" accesskey="n" href="#Index">Index</a>,
Previous:&nbsp;<a rel="previous" accesskey="p" href="#Command-Index">Command Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">VTY Key Index</h2>



<ul class="index-ky" compact>
<li><a href="#index-g_t_0040key_007bDEL_007d-90"><code>&lt;DEL&gt;</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-g_t_0040key_007bDOWN_007d-100"><code>&lt;DOWN&gt;</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-g_t_0040key_007bLEFT_007d-84"><code>&lt;LEFT&gt;</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-g_t_0040key_007bRIGHT_007d-82"><code>&lt;RIGHT&gt;</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-g_t_0040key_007bTAB_007d-103"><code>&lt;TAB&gt;</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-g_t_0040key_007bUP_007d-102"><code>&lt;UP&gt;</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-g_t_003f-104"><code>?</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-C_002da-87"><code>C-a</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-C_002db-83"><code>C-b</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-C_002dc-97"><code>C-c</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-C_002dd-91"><code>C-d</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-C_002de-88"><code>C-e</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-C_002df-81"><code>C-f</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-C_002dh-89"><code>C-h</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-C_002dk-94"><code>C-k</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-C_002dn-99"><code>C-n</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-C_002dp-101"><code>C-p</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-C_002dt-96"><code>C-t</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-C_002du-95"><code>C-u</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-C_002dw-93"><code>C-w</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-C_002dz-98"><code>C-z</code></a>: <a href="#CLI-Advanced-Commands">CLI Advanced Commands</a></li>
<li><a href="#index-M_002db-86"><code>M-b</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
<li><a href="#index-M_002dd-92"><code>M-d</code></a>: <a href="#CLI-Editing-Commands">CLI Editing Commands</a></li>
<li><a href="#index-M_002df-85"><code>M-f</code></a>: <a href="#CLI-Movement-Commands">CLI Movement Commands</a></li>
   </ul><div class="node">
<a name="Index"></a>
<p><hr>
Previous:&nbsp;<a rel="previous" accesskey="p" href="#VTY-Key-Index">VTY Key Index</a>,
Up:&nbsp;<a rel="up" accesskey="u" href="#Top">Top</a>

</div>

<h2 class="unnumbered">Index</h2>



<ul class="index-cp" compact>
<li><a href="#index-About-Quagga-2">About Quagga</a>: <a href="#About-Quagga">About Quagga</a></li>
<li><a href="#index-Bug-hunting-15">Bug hunting</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Bug-Reports-14">Bug Reports</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Build-options-27">Build options</a>: <a href="#The-Configure-script-and-its-options">The Configure script and its options</a></li>
<li><a href="#index-Building-on-Linux-boxes-33">Building on Linux boxes</a>: <a href="#Linux-notes">Linux notes</a></li>
<li><a href="#index-Building-the-system-23">Building the system</a>: <a href="#Installation">Installation</a></li>
<li><a href="#index-Compatibility-with-other-systems-8">Compatibility with other systems</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Configuration-files-for-running-the-software-35">Configuration files for running the software</a>: <a href="#Config-Commands">Config Commands</a></li>
<li><a href="#index-Configuration-options-25">Configuration options</a>: <a href="#The-Configure-script-and-its-options">The Configure script and its options</a></li>
<li><a href="#index-Configuring-Quagga-32">Configuring Quagga</a>: <a href="#Linux-notes">Linux notes</a></li>
<li><a href="#index-Contact-information-12">Contact information</a>: <a href="#Mailing-List">Mailing List</a></li>
<li><a href="#index-Distribution-configuration-28">Distribution configuration</a>: <a href="#The-Configure-script-and-its-options">The Configure script and its options</a></li>
<li><a href="#index-Errors-in-the-software-19">Errors in the software</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Files-for-running-configurations-36">Files for running configurations</a>: <a href="#Config-Commands">Config Commands</a></li>
<li><a href="#index-Found-a-bug_003f-16">Found a bug?</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Getting-the-herd-running-38">Getting the herd running</a>: <a href="#Config-Commands">Config Commands</a></li>
<li><a href="#index-How-to-get-in-touch-with-Quagga-10">How to get in touch with Quagga</a>: <a href="#Mailing-List">Mailing List</a></li>
<li><a href="#index-How-to-install-Quagga-20">How to install Quagga</a>: <a href="#Installation">Installation</a></li>
<li><a href="#index-Installation-21">Installation</a>: <a href="#Installation">Installation</a></li>
<li><a href="#index-Installing-Quagga-22">Installing Quagga</a>: <a href="#Installation">Installation</a></li>
<li><a href="#index-Linux-configurations-34">Linux configurations</a>: <a href="#Linux-notes">Linux notes</a></li>
<li><a href="#index-Mailing-lists-13">Mailing lists</a>: <a href="#Mailing-List">Mailing List</a></li>
<li><a href="#index-Mailing-Quagga-11">Mailing Quagga</a>: <a href="#Mailing-List">Mailing List</a></li>
<li><a href="#index-Making-Quagga-24">Making Quagga</a>: <a href="#Installation">Installation</a></li>
<li><a href="#index-Modifying-the-herd_0027s-behavior-37">Modifying the herd's behavior</a>: <a href="#Config-Commands">Config Commands</a></li>
<li><a href="#index-Operating-systems-that-support-Quagga-9">Operating systems that support Quagga</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Options-for-configuring-26">Options for configuring</a>: <a href="#The-Configure-script-and-its-options">The Configure script and its options</a></li>
<li><a href="#index-Options-to-_0040code_007b_002e_002fconfigure_007d-29">Options to <code>./configure</code></a>: <a href="#The-Configure-script-and-its-options">The Configure script and its options</a></li>
<li><a href="#index-OSPFv2-226">OSPFv2</a>: <a href="#ripngd-Filtering-Commands">ripngd Filtering Commands</a></li>
<li><a href="#index-Overview-1">Overview</a>: <a href="#Overview">Overview</a></li>
<li><a href="#index-Quagga-Least_002dPrivileges-30">Quagga Least-Privileges</a>: <a href="#Least_002dPrivilege-support">Least-Privilege support</a></li>
<li><a href="#index-Quagga-on-other-systems-7">Quagga on other systems</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-Quagga-Privileges-31">Quagga Privileges</a>: <a href="#Least_002dPrivilege-support">Least-Privilege support</a></li>
<li><a href="#index-Reporting-bugs-17">Reporting bugs</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Reporting-software-errors-18">Reporting software errors</a>: <a href="#Bug-Reports">Bug Reports</a></li>
<li><a href="#index-Software-architecture-4">Software architecture</a>: <a href="#System-Architecture">System Architecture</a></li>
<li><a href="#index-Software-internals-5">Software internals</a>: <a href="#System-Architecture">System Architecture</a></li>
<li><a href="#index-Supported-platforms-6">Supported platforms</a>: <a href="#Supported-Platforms">Supported Platforms</a></li>
<li><a href="#index-System-architecture-3">System architecture</a>: <a href="#System-Architecture">System Architecture</a></li>
   </ul><div class="footnote">
<hr>
<a name="texinfo-footnotes-in-document"></a><h4>Footnotes</h4><p class="footnote"><small>[<a name="fn-1" href="#fnd-1">1</a>]</small> <span class="sc">gnu</span>/Linux has very flexible kernel configuration features</p>

   <hr></div>

</body></html>

